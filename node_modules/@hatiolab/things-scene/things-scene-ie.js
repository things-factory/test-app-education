!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.scene=e():t.scene=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=385)}([function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(2),i=n(14).f,a=n(17),u=n(15),c=n(87),s=n(118),f=n(57);t.exports=function(t,e){var n,l,h,p,y,d=t.target,v=t.global,g=t.stat;if(n=v?o:g?o[d]||c(d,{}):(o[d]||{}).prototype)for(l in e){if(p=e[l],h=t.noTargetGet?(y=i(n,l))&&y.value:n[l],!f(v?l:d+(g?".":"#")+l,t.forced)&&void 0!==h){if(r(p)===r(h))continue;s(p,h)}(t.sham||h&&h.sham)&&a(p,"sham",!0),u(n,l,p,t)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){(function(e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==("undefined"==typeof globalThis?"undefined":n(globalThis))&&globalThis)||r("object"==("undefined"==typeof window?"undefined":n(window))&&window)||r("object"==("undefined"==typeof self?"undefined":n(self))&&self)||r("object"==(void 0===e?"undefined":n(e))&&e)||Function("return this")()}).call(this,n(114))},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return"object"===n(t)?null!==t:"function"==typeof t}},function(t,e,n){var r=n(3);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(1);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(2),o=n(89),i=n(11),a=n(53),u=n(93),c=n(120),s=o("wks"),f=r.Symbol,l=c?f:f&&f.withoutSetter||a;t.exports=function(t){return i(s,t)||(u&&i(f,t)?s[t]=f[t]:s[t]=l("Symbol."+t)),s[t]}},function(t,e,n){var r=n(27),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){"use strict";var r,o=n(111),i=n(5),a=n(2),u=n(3),c=n(11),s=n(63),f=n(17),l=n(15),h=n(9).f,p=n(30),y=n(47),d=n(6),v=n(53),g=a.Int8Array,m=g&&g.prototype,b=a.Uint8ClampedArray,w=b&&b.prototype,_=g&&p(g),x=m&&p(m),k=Object.prototype,S=k.isPrototypeOf,A=d("toStringTag"),O=v("TYPED_ARRAY_TAG"),E=o&&!!y&&"Opera"!==s(a.opera),P=!1,j={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},R=function(t){return u(t)&&c(j,s(t))};for(r in j)a[r]||(E=!1);if((!E||"function"!=typeof _||_===Function.prototype)&&(_=function(){throw TypeError("Incorrect invocation")},E))for(r in j)a[r]&&y(a[r],_);if((!E||!x||x===k)&&(x=_.prototype,E))for(r in j)a[r]&&y(a[r].prototype,x);if(E&&p(w)!==x&&y(w,x),i&&!c(x,A))for(r in P=!0,h(x,A,{get:function(){return u(this)?this[O]:void 0}}),j)a[r]&&f(a[r],O,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:E,TYPED_ARRAY_TAG:P&&O,aTypedArray:function(t){if(R(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(y){if(S.call(_,t))return t}else for(var e in j)if(c(j,r)){var n=a[e];if(n&&(t===n||S.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(i){if(n)for(var r in j){var o=a[r];o&&c(o.prototype,t)&&delete o.prototype[t]}x[t]&&!n||l(x,t,n?e:E&&m[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,o;if(i){if(y){if(n)for(r in j)(o=a[r])&&c(o,t)&&delete o[t];if(_[t]&&!n)return;try{return l(_,t,n?e:E&&g[t]||e)}catch(t){}}for(r in j)!(o=a[r])||o[t]&&!n||l(o,t,e)}},isView:function(t){var e=s(t);return"DataView"===e||c(j,e)},isTypedArray:R,TypedArray:_,TypedArrayPrototype:x}},function(t,e,n){var r=n(5),o=n(115),i=n(4),a=n(28),u=Object.defineProperty;e.f=r?u:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(16);t.exports=function(t){return Object(r(t))}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";var r=n(85);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,a=r.a||i||Function("return this")();e.a=a},function(t,e,n){var r=n(40),o=n(52),i=n(10),a=n(7),u=n(59),c=[].push,s=function(t){var e=1==t,n=2==t,s=3==t,f=4==t,l=6==t,h=5==t||l;return function(p,y,d,v){for(var g,m,b=i(p),w=o(b),_=r(y,d,3),x=a(w.length),k=0,S=v||u,A=e?S(p,x):n?S(p,0):void 0;x>k;k++)if((h||k in w)&&(m=_(g=w[k],k,b),t))if(e)A[k]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return k;case 2:c.call(A,g)}else if(f)return!1;return l?-1:s||f?f:A}};t.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6)}},function(t,e,n){var r=n(5),o=n(66),i=n(38),a=n(22),u=n(28),c=n(11),s=n(115),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=a(t),e=u(e,!0),s)try{return f(t,e)}catch(t){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,n){var r=n(2),o=n(17),i=n(11),a=n(87),u=n(88),c=n(18),s=c.get,f=c.enforce,l=String(String).split("String");(t.exports=function(t,e,n,u){var c=!!u&&!!u.unsafe,s=!!u&&!!u.enumerable,h=!!u&&!!u.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),f(n).source=l.join("string"==typeof e?e:"")),t!==r?(c?!h&&t[e]&&(s=!0):delete t[e],s?t[e]=n:o(t,e,n)):s?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&s(this).source||u(this)}))},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(5),o=n(9),i=n(38);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r,o,i,a=n(117),u=n(2),c=n(3),s=n(17),f=n(11),l=n(67),h=n(54),p=u.WeakMap;if(a){var y=new p,d=y.get,v=y.has,g=y.set;r=function(t,e){return g.call(y,t,e),e},o=function(t){return d.call(y,t)||{}},i=function(t){return v.call(y,t)}}else{var m=l("state");h[m]=!0,r=function(t,e){return s(t,m,e),e},o=function(t){return f(t,m)?t[m]:{}},i=function(t){return f(t,m)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(55),o=n(11),i=n(123),a=n(9).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(5),o=n(1),i=n(11),a=Object.defineProperty,u={},c=function(t){throw t};t.exports=function(t,e){if(i(u,t))return u[t];e||(e={});var n=[][t],s=!!i(e,"ACCESSORS")&&e.ACCESSORS,f=i(e,0)?e[0]:c,l=i(e,1)?e[1]:void 0;return u[t]=!!n&&!o((function(){if(s&&!r)return!0;var t={length:-1};s?a(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,f,l)}))}},function(t,e,n){var r=n(52),o=n(16);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(16),o=/"/g;t.exports=function(t,e,n,i){var a=String(r(t)),u="<"+e;return""!==n&&(u+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),u+">"+a+"</"+e+">"}},function(t,e,n){var r=n(1);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(55),o=n(2),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(3);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=!1},function(t,e,n){var r=n(11),o=n(10),i=n(67),a=n(97),u=i("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),r(t,u)?t[u]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,n){var r=n(9).f,o=n(11),i=n(6)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r,o=n(4),i=n(94),a=n(91),u=n(54),c=n(121),s=n(86),f=n(67),l=f("IE_PROTO"),h=function(){},p=function(t){return"<script>"+t+"<\/script>"},y=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;y=r?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=s("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete y.prototype[a[n]];return y()};u[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=o(t),n=new h,h.prototype=null,n[l]=t):n=y(),void 0===e?n:i(n,e)}},function(t,e,n){"use strict";var r=n(1);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var r=n(4),o=n(20),i=n(6)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(0),i=n(2),a=n(5),u=n(112),c=n(8),s=n(84),f=n(42),l=n(38),h=n(17),p=n(7),y=n(150),d=n(151),v=n(28),g=n(11),m=n(63),b=n(3),w=n(32),_=n(47),x=n(43).f,k=n(152),S=n(13).forEach,A=n(49),O=n(9),E=n(14),P=n(18),j=n(81),R=P.get,T=P.set,M=O.f,I=E.f,C=Math.round,L=i.RangeError,D=s.ArrayBuffer,F=s.DataView,B=c.NATIVE_ARRAY_BUFFER_VIEWS,N=c.TYPED_ARRAY_TAG,U=c.TypedArray,z=c.TypedArrayPrototype,W=c.aTypedArrayConstructor,Y=c.isTypedArray,G=function(t,e){for(var n=0,r=e.length,o=new(W(t))(r);r>n;)o[n]=e[n++];return o},H=function(t,e){M(t,e,{get:function(){return R(this)[e]}})},q=function(t){var e;return t instanceof D||"ArrayBuffer"==(e=m(t))||"SharedArrayBuffer"==e},V=function(t,e){return Y(t)&&"symbol"!=r(e)&&e in t&&String(+e)==String(e)},X=function(t,e){return V(t,e=v(e,!0))?l(2,t[e]):I(t,e)},K=function(t,e,n){return!(V(t,e=v(e,!0))&&b(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?M(t,e,n):(t[e]=n.value,t)};a?(B||(E.f=X,O.f=K,H(z,"buffer"),H(z,"byteOffset"),H(z,"byteLength"),H(z,"length")),o({target:"Object",stat:!0,forced:!B},{getOwnPropertyDescriptor:X,defineProperty:K}),t.exports=function(t,e,n){var r=t.match(/\d+$/)[0]/8,a=t+(n?"Clamped":"")+"Array",c="get"+t,s="set"+t,l=i[a],v=l,g=v&&v.prototype,m={},O=function(t,e){M(t,e,{get:function(){return function(t,e){var n=R(t);return n.view[c](e*r+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,o){var i=R(t);n&&(o=(o=C(o))<0?0:o>255?255:255&o),i.view[s](e*r+i.byteOffset,o,!0)}(this,e,t)},enumerable:!0})};B?u&&(v=e((function(t,e,n,o){return f(t,v,a),j(b(e)?q(e)?void 0!==o?new l(e,d(n,r),o):void 0!==n?new l(e,d(n,r)):new l(e):Y(e)?G(v,e):k.call(v,e):new l(y(e)),t,v)})),_&&_(v,U),S(x(l),(function(t){t in v||h(v,t,l[t])})),v.prototype=g):(v=e((function(t,e,n,o){f(t,v,a);var i,u,c,s=0,l=0;if(b(e)){if(!q(e))return Y(e)?G(v,e):k.call(v,e);i=e,l=d(n,r);var h=e.byteLength;if(void 0===o){if(h%r)throw L("Wrong length");if((u=h-l)<0)throw L("Wrong length")}else if((u=p(o)*r)+l>h)throw L("Wrong length");c=u/r}else c=y(e),i=new D(u=c*r);for(T(t,{buffer:i,byteOffset:l,byteLength:u,length:c,view:new F(i)});s<c;)O(t,s++)})),_&&_(v,U),g=v.prototype=w(z)),g.constructor!==v&&h(g,"constructor",v),N&&h(g,N,a),m[a]=v,o({global:!0,forced:v!=l,sham:!B},m),"BYTES_PER_ELEMENT"in v||h(v,"BYTES_PER_ELEMENT",r),"BYTES_PER_ELEMENT"in g||h(g,"BYTES_PER_ELEMENT",r),A(a)}):t.exports=function(){}},function(t,e,n){"use strict";(function(t){var r=n(12),o=n(156);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a="object"==("undefined"==typeof exports?"undefined":i(exports))&&exports&&!exports.nodeType&&exports,u=a&&"object"==i(t)&&t&&!t.nodeType&&t,c=u&&u.exports===a?r.a.Buffer:void 0,s=(c?c.isBuffer:void 0)||o.a;e.a=s}).call(this,n(113)(t))},function(t,e,n){"use strict";(function(t){var r=n(85);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="object"==("undefined"==typeof exports?"undefined":o(exports))&&exports&&!exports.nodeType&&exports,a=i&&"object"==o(t)&&t&&!t.nodeType&&t,u=a&&a.exports===i&&r.a.process,c=function(){try{var t=a&&a.require&&a.require("util").types;return t||u&&u.binding&&u.binding("util")}catch(t){}}();e.a=c}).call(this,n(113)(t))},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(27),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e,n){var r=n(20);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(6),o=n(32),i=n(9),a=r("unscopables"),u=Array.prototype;null==u[a]&&i.f(u,a,{configurable:!0,value:o(null)}),t.exports=function(t){u[a][t]=!0}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(119),o=n(91).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(25);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(54),i=n(3),a=n(11),u=n(9).f,c=n(53),s=n(60),f=c("meta"),l=0,h=Object.isExtensible||function(){return!0},p=function(t){u(t,f,{value:{objectID:"O"+ ++l,weakData:{}}})},y=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==r(t)?t:("string"==typeof t?"S":"P")+t;if(!a(t,f)){if(!h(t))return"F";if(!e)return"E";p(t)}return t[f].objectID},getWeakData:function(t,e){if(!a(t,f)){if(!h(t))return!0;if(!e)return!1;p(t)}return t[f].weakData},onFreeze:function(t){return s&&y.REQUIRED&&h(t)&&!a(t,f)&&p(t),t}};o[f]=!0},function(t,e,n){"use strict";var r=n(28),o=n(9),i=n(38);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},function(t,e,n){var r=n(4),o=n(128);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(4),i=n(95),a=n(7),u=n(40),c=n(62),s=n(126),f=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,l,h){var p,y,d,v,g,m,b,w=u(e,n,l?2:1);if(h)p=t;else{if("function"!=typeof(y=c(t)))throw TypeError("Target is not iterable");if(i(y)){for(d=0,v=a(t.length);v>d;d++)if((g=l?w(o(b=t[d])[0],b[1]):w(t[d]))&&g instanceof f)return g;return new f(!1)}p=y.call(t)}for(m=p.next;!(b=m.call(p)).done;)if("object"==r(g=s(p,w,b.value,l))&&g&&g instanceof f)return g;return new f(!1)}).stop=function(t){return new f(!0,t)}},function(t,e,n){"use strict";var r=n(26),o=n(9),i=n(6),a=n(5),u=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[u]&&n(e,u,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(16),o="["+n(80)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),u=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},function(t,e,n){var r=n(15);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){var r=n(1),o=n(25),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e){t.exports={}},function(t,e,n){var r=n(2);t.exports=r},function(t,e,n){var r=n(22),o=n(7),i=n(39),a=function(t){return function(e,n,a){var u,c=r(e),s=o(c.length),f=i(a,s);if(t&&n!=n){for(;s>f;)if((u=c[f++])!=u)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var r=n(1),o=/#|\.prototype\./,i=function(t,e){var n=u[a(t)];return n==s||n!=c&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=i.data={},c=i.NATIVE="N",s=i.POLYFILL="P";t.exports=i},function(t,e,n){var r=n(119),o=n(91);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(3),o=n(44),i=n(6)("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(1);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e){t.exports={}},function(t,e,n){var r=n(63),o=n(61),i=n(6)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(96),o=n(25),i=n(6)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:a?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var r=n(1),o=n(6),i=n(98),a=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){"use strict";var r=n(4);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(89),o=n(53),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){"use strict";var r=n(29),o=n(2),i=n(1);t.exports=r||!i((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete o[t]}))},function(t,e,n){var r=n(6)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){var r=n(26);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(20),o=n(10),i=n(52),a=n(7),u=function(t){return function(e,n,u,c){r(n);var s=o(e),f=i(s),l=a(s.length),h=t?l-1:0,p=t?-1:1;if(u<2)for(;;){if(h in f){c=f[h],h+=p;break}if(h+=p,t?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:l>h;h+=p)h in f&&(c=n(c,f[h],h,s));return c}};t.exports={left:u(!1),right:u(!0)}},function(t,e,n){"use strict";var r=n(22),o=n(41),i=n(61),a=n(18),u=n(100),c=a.set,s=a.getterFor("Array Iterator");t.exports=u(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=s(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var r=n(27),o=n(16),i=function(t){return function(e,n){var i,a,u=String(o(e)),c=r(n),s=u.length;return c<0||c>=s?t?"":void 0:(i=u.charCodeAt(c))<55296||i>56319||c+1===s||(a=u.charCodeAt(c+1))<56320||a>57343?t?u.charAt(c):i:t?u.slice(c,c+2):a-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e,n){var r=n(3),o=n(25),i=n(6)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){"use strict";n(104);var r=n(15),o=n(1),i=n(6),a=n(76),u=n(17),c=i("species"),s=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f="$0"==="a".replace(/./,"$0"),l=i("replace"),h=!!/./[l]&&""===/./[l]("a","$0"),p=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,l){var y=i(t),d=!o((function(){var e={};return e[y]=function(){return 7},7!=""[t](e)})),v=d&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[y]=/./[y]),n.exec=function(){return e=!0,null},n[y](""),!e}));if(!d||!v||"replace"===t&&(!s||!f||h)||"split"===t&&!p){var g=/./[y],m=n(y,""[t],(function(t,e,n,r,o){return e.exec===a?d&&!o?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:f,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),b=m[0],w=m[1];r(String.prototype,t,b),r(RegExp.prototype,y,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}l&&u(RegExp.prototype[y],"sham",!0)}},function(t,e,n){"use strict";var r,o,i=n(65),a=n(77),u=RegExp.prototype.exec,c=String.prototype.replace,s=u,f=(r=/a/,o=/b*/g,u.call(r,"a"),u.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),l=a.UNSUPPORTED_Y||a.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(f||h||l)&&(s=function(t){var e,n,r,o,a=this,s=l&&a.sticky,p=i.call(a),y=a.source,d=0,v=t;return s&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),v=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(y="(?: "+y+")",v=" "+v,d++),n=new RegExp("^(?:"+y+")",p)),h&&(n=new RegExp("^"+y+"$(?!\\s)",p)),f&&(e=a.lastIndex),r=u.call(s?n:a,v),s?r?(r.input=r.input.slice(d),r[0]=r[0].slice(d),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:f&&r&&(a.lastIndex=a.global?r.index+r[0].length:e),h&&r&&r.length>1&&c.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=s},function(t,e,n){"use strict";var r=n(1);function o(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){"use strict";var r=n(73).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(25),i=n(76);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var a=n.call(t,e);if("object"!==r(a))throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==o(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){var r=n(3),o=n(47);t.exports=function(t,e,n){var i,a;return o&&"function"==typeof(i=e.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(t,a),t}},function(t,e){var n=Math.expm1,r=Math.exp;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:r(t)-1}:n},function(t,e,n){"use strict";var r=n(0),o=n(2),i=n(57),a=n(15),u=n(45),c=n(48),s=n(42),f=n(3),l=n(1),h=n(69),p=n(31),y=n(81);t.exports=function(t,e,n){var d=-1!==t.indexOf("Map"),v=-1!==t.indexOf("Weak"),g=d?"set":"add",m=o[t],b=m&&m.prototype,w=m,_={},x=function(t){var e=b[t];a(b,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(v&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!f(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!f(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(i(t,"function"!=typeof m||!(v||b.forEach&&!l((function(){(new m).entries().next()})))))w=n.getConstructor(e,t,d,g),u.REQUIRED=!0;else if(i(t,!0)){var k=new w,S=k[g](v?{}:-0,1)!=k,A=l((function(){k.has(1)})),O=h((function(t){new m(t)})),E=!v&&l((function(){for(var t=new m,e=5;e--;)t[g](e,e);return!t.has(-0)}));O||((w=e((function(e,n){s(e,w,t);var r=y(new m,e,w);return null!=n&&c(n,r[g],r,d),r}))).prototype=b,b.constructor=w),(A||E)&&(x("delete"),x("has"),d&&x("get")),(E||S)&&x(g),v&&b.clear&&delete b.clear}return _[t]=w,r({global:!0,forced:w!=m},_),p(w,t),v||n.setStrong(w,t,d),w}},function(t,e,n){"use strict";var r=n(2),o=n(5),i=n(111),a=n(17),u=n(51),c=n(1),s=n(42),f=n(27),l=n(7),h=n(150),p=n(321),y=n(30),d=n(47),v=n(43).f,g=n(9).f,m=n(99),b=n(31),w=n(18),_=w.get,x=w.set,k=r.ArrayBuffer,S=k,A=r.DataView,O=A&&A.prototype,E=Object.prototype,P=r.RangeError,j=p.pack,R=p.unpack,T=function(t){return[255&t]},M=function(t){return[255&t,t>>8&255]},I=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},C=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},L=function(t){return j(t,23,4)},D=function(t){return j(t,52,8)},F=function(t,e){g(t.prototype,e,{get:function(){return _(this)[e]}})},B=function(t,e,n,r){var o=h(n),i=_(t);if(o+e>i.byteLength)throw P("Wrong index");var a=_(i.buffer).bytes,u=o+i.byteOffset,c=a.slice(u,u+e);return r?c:c.reverse()},N=function(t,e,n,r,o,i){var a=h(n),u=_(t);if(a+e>u.byteLength)throw P("Wrong index");for(var c=_(u.buffer).bytes,s=a+u.byteOffset,f=r(+o),l=0;l<e;l++)c[s+l]=f[i?l:e-l-1]};if(i){if(!c((function(){k(1)}))||!c((function(){new k(-1)}))||c((function(){return new k,new k(1.5),new k(NaN),"ArrayBuffer"!=k.name}))){for(var U,z=(S=function(t){return s(this,S),new k(h(t))}).prototype=k.prototype,W=v(k),Y=0;W.length>Y;)(U=W[Y++])in S||a(S,U,k[U]);z.constructor=S}d&&y(O)!==E&&d(O,E);var G=new A(new S(2)),H=O.setInt8;G.setInt8(0,2147483648),G.setInt8(1,2147483649),!G.getInt8(0)&&G.getInt8(1)||u(O,{setInt8:function(t,e){H.call(this,t,e<<24>>24)},setUint8:function(t,e){H.call(this,t,e<<24>>24)}},{unsafe:!0})}else S=function(t){s(this,S,"ArrayBuffer");var e=h(t);x(this,{bytes:m.call(new Array(e),0),byteLength:e}),o||(this.byteLength=e)},A=function(t,e,n){s(this,A,"DataView"),s(t,S,"DataView");var r=_(t).byteLength,i=f(e);if(i<0||i>r)throw P("Wrong offset");if(i+(n=void 0===n?r-i:l(n))>r)throw P("Wrong length");x(this,{buffer:t,byteLength:n,byteOffset:i}),o||(this.buffer=t,this.byteLength=n,this.byteOffset=i)},o&&(F(S,"byteLength"),F(A,"buffer"),F(A,"byteLength"),F(A,"byteOffset")),u(A.prototype,{getInt8:function(t){return B(this,1,t)[0]<<24>>24},getUint8:function(t){return B(this,1,t)[0]},getInt16:function(t){var e=B(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=B(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return C(B(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return C(B(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return R(B(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return R(B(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){N(this,1,t,T,e)},setUint8:function(t,e){N(this,1,t,T,e)},setInt16:function(t,e){N(this,2,t,M,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){N(this,2,t,M,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){N(this,4,t,I,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){N(this,4,t,I,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){N(this,4,t,L,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){N(this,8,t,D,e,arguments.length>2?arguments[2]:void 0)}});b(S,"ArrayBuffer"),b(A,"DataView"),t.exports={ArrayBuffer:S,DataView:A}},function(t,e,n){"use strict";(function(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r="object"==(void 0===t?"undefined":n(t))&&t&&t.Object===Object&&t;e.a=r}).call(this,n(114))},function(t,e,n){var r=n(2),o=n(3),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(2),o=n(17);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(116),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(29),o=n(116);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(26),o=n(43),i=n(92),a=n(4);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(1);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){var r=n(5),o=n(9),i=n(4),a=n(58);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),u=r.length,c=0;u>c;)o.f(t,n=r[c++],e[n]);return t}},function(t,e,n){var r=n(6),o=n(61),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,n){var r={};r[n(6)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(1);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r,o,i=n(2),a=n(70),u=i.process,c=u&&u.versions,s=c&&c.v8;s?o=(r=s.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},function(t,e,n){"use strict";var r=n(10),o=n(39),i=n(7);t.exports=function(t){for(var e=r(this),n=i(e.length),a=arguments.length,u=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,s=void 0===c?n:o(c,n);s>u;)e[u++]=t;return e}},function(t,e,n){"use strict";var r=n(0),o=n(101),i=n(30),a=n(47),u=n(31),c=n(17),s=n(15),f=n(6),l=n(29),h=n(61),p=n(135),y=p.IteratorPrototype,d=p.BUGGY_SAFARI_ITERATORS,v=f("iterator"),g=function(){return this};t.exports=function(t,e,n,f,p,m,b){o(n,e,f);var w,_,x,k=function(t){if(t===p&&P)return P;if(!d&&t in O)return O[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},S=e+" Iterator",A=!1,O=t.prototype,E=O[v]||O["@@iterator"]||p&&O[p],P=!d&&E||k(p),j="Array"==e&&O.entries||E;if(j&&(w=i(j.call(new t)),y!==Object.prototype&&w.next&&(l||i(w)===y||(a?a(w,y):"function"!=typeof w[v]&&c(w,v,g)),u(w,S,!0,!0),l&&(h[S]=g))),"values"==p&&E&&"values"!==E.name&&(A=!0,P=function(){return E.call(this)}),l&&!b||O[v]===P||c(O,v,P),h[e]=P,p)if(_={values:k("values"),keys:m?P:k("keys"),entries:k("entries")},b)for(x in _)(d||A||!(x in O))&&s(O,x,_[x]);else r({target:e,proto:!0,forced:d||A},_);return _}},function(t,e,n){"use strict";var r=n(135).IteratorPrototype,o=n(32),i=n(38),a=n(31),u=n(61),c=function(){return this};t.exports=function(t,e,n){var s=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,s,!1,!0),u[s]=c,t}},function(t,e,n){var r=n(74);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(6)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){"use strict";var r=n(0),o=n(76);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,e,n){var r=n(7),o=n(106),i=n(16),a=Math.ceil,u=function(t){return function(e,n,u){var c,s,f=String(i(e)),l=f.length,h=void 0===u?" ":String(u),p=r(n);return p<=l||""==h?f:(c=p-l,(s=o.call(h,a(c/h.length))).length>c&&(s=s.slice(0,c)),t?f+s:s+f)}};t.exports={start:u(!1),end:u(!0)}},function(t,e,n){"use strict";var r=n(27),o=n(16);t.exports="".repeat||function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e,n){var r=n(1),o=n(80);t.exports=function(t){return r((function(){return!!o[t]()||"​᠎"!="​᠎"[t]()||o[t].name!==t}))}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){var r,o,i,a=n(2),u=n(1),c=n(25),s=n(40),f=n(121),l=n(86),h=n(144),p=a.location,y=a.setImmediate,d=a.clearImmediate,v=a.process,g=a.MessageChannel,m=a.Dispatch,b=0,w={},_=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},x=function(t){return function(){_(t)}},k=function(t){_(t.data)},S=function(t){a.postMessage(t+"",p.protocol+"//"+p.host)};y&&d||(y=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(b),b},d=function(t){delete w[t]},"process"==c(v)?r=function(t){v.nextTick(x(t))}:m&&m.now?r=function(t){m.now(x(t))}:g&&!h?(i=(o=new g).port2,o.port1.onmessage=k,r=s(i.postMessage,i,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||u(S)?r="onreadystatechange"in l("script")?function(t){f.appendChild(l("script")).onreadystatechange=function(){f.removeChild(this),_(t)}}:function(t){setTimeout(x(t),0)}:(r=S,a.addEventListener("message",k,!1))),t.exports={set:y,clear:d}},function(t,e,n){"use strict";var r=n(20),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,e,n){var r=n(2),o=n(1),i=n(69),a=n(8).NATIVE_ARRAY_BUFFER_VIEWS,u=r.ArrayBuffer,c=r.Int8Array;t.exports=!a||!o((function(){c(1)}))||!o((function(){new c(-1)}))||!i((function(t){new c,new c(null),new c(1.5),new c(t)}),!0)||o((function(){return 1!==new c(new u(2),1,void 0).length}))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}t.exports=r},function(t,e,n){var r=n(5),o=n(1),i=n(86);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(2),o=n(87),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,n){var r=n(2),o=n(88),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,e,n){var r=n(11),o=n(90),i=n(14),a=n(9);t.exports=function(t,e){for(var n=o(e),u=a.f,c=i.f,s=0;s<n.length;s++){var f=n[s];r(t,f)||u(t,f,c(e,f))}}},function(t,e,n){var r=n(11),o=n(22),i=n(56).indexOf,a=n(54);t.exports=function(t,e){var n,u=o(t),c=0,s=[];for(n in u)!r(a,n)&&r(u,n)&&s.push(n);for(;e.length>c;)r(u,n=e[c++])&&(~i(s,n)||s.push(n));return s}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(93);t.exports=o&&!Symbol.sham&&"symbol"==r(Symbol.iterator)},function(t,e,n){var r=n(26);t.exports=r("document","documentElement")},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(22),i=n(43).f,a={}.toString,u="object"==("undefined"==typeof window?"undefined":r(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==a.call(t)?function(t){try{return i(t)}catch(t){return u.slice()}}(t):i(o(t))}},function(t,e,n){var r=n(6);e.f=r},function(t,e,n){"use strict";var r=n(5),o=n(1),i=n(58),a=n(92),u=n(66),c=n(10),s=n(52),f=Object.assign,l=Object.defineProperty;t.exports=!f||o((function(){if(r&&1!==f({b:1},f(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=f({},t)[n]||"abcdefghijklmnopqrst"!=i(f({},e)).join("")}))?function(t,e){for(var n=c(t),o=arguments.length,f=1,l=a.f,h=u.f;o>f;)for(var p,y=s(arguments[f++]),d=l?i(y).concat(l(y)):i(y),v=d.length,g=0;v>g;)p=d[g++],r&&!h.call(y,p)||(n[p]=y[p]);return n}:f},function(t,e,n){var r=n(5),o=n(58),i=n(22),a=n(66).f,u=function(t){return function(e){for(var n,u=i(e),c=o(u),s=c.length,f=0,l=[];s>f;)n=c[f++],r&&!a.call(u,n)||l.push(t?[n,u[n]]:u[n]);return l}};t.exports={entries:u(!0),values:u(!1)}},function(t,e,n){var r=n(4);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(3);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){"use strict";var r=n(20),o=n(3),i=[].slice,a={},u=function(t,e,n){if(!(e in a)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";a[e]=Function("C,a","return new C("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=i.call(arguments,1),a=function(){var r=n.concat(i.call(arguments));return this instanceof a?u(e,r.length,r):e.apply(t,r)};return o(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,n){"use strict";var r=n(40),o=n(10),i=n(126),a=n(95),u=n(7),c=n(46),s=n(62);t.exports=function(t){var e,n,f,l,h,p,y=o(t),d="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,m=void 0!==g,b=s(y),w=0;if(m&&(g=r(g,v>2?arguments[2]:void 0,2)),null==b||d==Array&&a(b))for(n=new d(e=u(y.length));e>w;w++)p=m?g(y[w],w):y[w],c(n,w,p);else for(h=(l=b.call(y)).next,n=new d;!(f=h.call(l)).done;w++)p=m?i(l,g,[f.value,w],!0):f.value,c(n,w,p);return n.length=w,n}},function(t,e,n){"use strict";var r=n(10),o=n(39),i=n(7),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),u=i(n.length),c=o(t,u),s=o(e,u),f=arguments.length>2?arguments[2]:void 0,l=a((void 0===f?u:o(f,u))-s,u-c),h=1;for(s<c&&c<s+l&&(h=-1,s+=l-1,c+=l-1);l-- >0;)s in n?n[c]=n[s]:delete n[c],c+=h,s+=h;return n}},function(t,e,n){"use strict";var r=n(44),o=n(7),i=n(40);t.exports=function t(e,n,a,u,c,s,f,l){for(var h,p=c,y=0,d=!!f&&i(f,l,3);y<u;){if(y in a){if(h=d?d(a[y],y,n):a[y],s>0&&r(h))p=t(e,n,h,o(h.length),p,s-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=h}p++}y++}return p}},function(t,e,n){"use strict";var r=n(13).forEach,o=n(33),i=n(21),a=o("forEach"),u=i("forEach");t.exports=a&&u?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){"use strict";var r=n(22),o=n(27),i=n(7),a=n(33),u=n(21),c=Math.min,s=[].lastIndexOf,f=!!s&&1/[1].lastIndexOf(1,-0)<0,l=a("lastIndexOf"),h=u("indexOf",{ACCESSORS:!0,1:0}),p=f||!l||!h;t.exports=p?function(t){if(f)return s.apply(this,arguments)||0;var e=r(this),n=i(e.length),a=n-1;for(arguments.length>1&&(a=c(a,o(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:s},function(t,e,n){"use strict";var r,o,i,a=n(30),u=n(17),c=n(11),s=n(6),f=n(29),l=s("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):h=!0),null==r&&(r={}),f||c(r,l)||u(r,l,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var r=n(70);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},function(t,e,n){"use strict";var r=n(73).charAt,o=n(18),i=n(100),a=o.set,u=o.getterFor("String Iterator");i(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=u(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(2),o=n(50).trim,i=n(80),a=r.parseInt,u=/^[+-]?0[Xx]/,c=8!==a(i+"08")||22!==a(i+"0x16");t.exports=c?function(t,e){var n=o(String(t));return a(n,e>>>0||(u.test(n)?16:10))}:a},function(t,e,n){var r=n(2),o=n(50).trim,i=n(80),a=r.parseFloat,u=1/a(i+"-0")!=-1/0;t.exports=u?function(t){var e=o(String(t)),n=a(e);return 0===n&&"-"==e.charAt(0)?-0:n}:a},function(t,e,n){var r=n(3),o=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&o(t)===t}},function(t,e,n){var r=n(25);t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},function(t,e){var n=Math.log;t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:n(1+t)}},function(t,e,n){var r=n(2);t.exports=r.Promise},function(t,e,n){var r=n(70);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){var r,o,i,a,u,c,s,f,l=n(2),h=n(14).f,p=n(25),y=n(109).set,d=n(144),v=l.MutationObserver||l.WebKitMutationObserver,g=l.process,m=l.Promise,b="process"==p(g),w=h(l,"queueMicrotask"),_=w&&w.value;_||(r=function(){var t,e;for(b&&(t=g.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?a():i=void 0,t}}i=void 0,t&&t.enter()},b?a=function(){g.nextTick(r)}:v&&!d?(u=!0,c=document.createTextNode(""),new v(r).observe(c,{characterData:!0}),a=function(){c.data=u=!u}):m&&m.resolve?(s=m.resolve(void 0),f=s.then,a=function(){f.call(s,r)}):a=function(){y.call(l,r)}),t.exports=_||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,a()),i=e}},function(t,e,n){var r=n(4),o=n(3),i=n(110);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){"use strict";var r=n(9).f,o=n(32),i=n(51),a=n(40),u=n(42),c=n(48),s=n(100),f=n(49),l=n(5),h=n(45).fastKey,p=n(18),y=p.set,d=p.getterFor;t.exports={getConstructor:function(t,e,n,s){var f=t((function(t,r){u(t,f,e),y(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),l||(t.size=0),null!=r&&c(r,t[s],t,n)})),p=d(e),v=function(t,e,n){var r,o,i=p(t),a=g(t,e);return a?a.value=n:(i.last=a={index:o=h(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),l?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},g=function(t,e){var n,r=p(t),o=h(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(f.prototype,{clear:function(){for(var t=p(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,l?t.size=0:this.size=0},delete:function(t){var e=p(this),n=g(this,t);if(n){var r=n.next,o=n.previous;delete e.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),e.first==n&&(e.first=r),e.last==n&&(e.last=o),l?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=p(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!g(this,t)}}),i(f.prototype,n?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return v(this,0===t?0:t,e)}}:{add:function(t){return v(this,t=0===t?0:t,t)}}),l&&r(f.prototype,"size",{get:function(){return p(this).size}}),f},setStrong:function(t,e,n){var r=e+" Iterator",o=d(e),i=d(r);s(t,e,(function(t,e){y(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var r=n(51),o=n(45).getWeakData,i=n(4),a=n(3),u=n(42),c=n(48),s=n(13),f=n(11),l=n(18),h=l.set,p=l.getterFor,y=s.find,d=s.findIndex,v=0,g=function(t){return t.frozen||(t.frozen=new m)},m=function(){this.entries=[]},b=function(t,e){return y(t.entries,(function(t){return t[0]===e}))};m.prototype={get:function(t){var e=b(this,t);if(e)return e[1]},has:function(t){return!!b(this,t)},set:function(t,e){var n=b(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=d(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,s){var l=t((function(t,r){u(t,l,e),h(t,{type:e,id:v++,frozen:void 0}),null!=r&&c(r,t[s],t,n)})),y=p(e),d=function(t,e,n){var r=y(t),a=o(i(e),!0);return!0===a?g(r).set(e,n):a[r.id]=n,t};return r(l.prototype,{delete:function(t){var e=y(this);if(!a(t))return!1;var n=o(t);return!0===n?g(e).delete(t):n&&f(n,e.id)&&delete n[e.id]},has:function(t){var e=y(this);if(!a(t))return!1;var n=o(t);return!0===n?g(e).has(t):n&&f(n,e.id)}}),r(l.prototype,n?{get:function(t){var e=y(this);if(a(t)){var n=o(t);return!0===n?g(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return d(this,t,e)}}:{add:function(t){return d(this,t,!0)}}),l}}},function(t,e,n){var r=n(27),o=n(7);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=o(e);if(e!==n)throw RangeError("Wrong length or index");return n}},function(t,e,n){var r=n(326);t.exports=function(t,e){var n=r(t);if(n%e)throw RangeError("Wrong offset");return n}},function(t,e,n){var r=n(10),o=n(7),i=n(62),a=n(95),u=n(40),c=n(8).aTypedArrayConstructor;t.exports=function(t){var e,n,s,f,l,h,p=r(t),y=arguments.length,d=y>1?arguments[1]:void 0,v=void 0!==d,g=i(p);if(null!=g&&!a(g))for(h=(l=g.call(p)).next,p=[];!(f=h.call(l)).done;)p.push(f.value);for(v&&y>2&&(d=u(d,arguments[2],2)),n=o(p.length),s=new(c(this))(n),e=0;n>e;e++)s[e]=v?d(p[e],e):p[e];return s}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r=n(1),o=n(6),i=n(29),a=o("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(t,e,n){"use strict";n(72);var r=n(0),o=n(26),i=n(154),a=n(15),u=n(51),c=n(31),s=n(101),f=n(18),l=n(42),h=n(11),p=n(40),y=n(63),d=n(4),v=n(3),g=n(32),m=n(38),b=n(381),w=n(62),_=n(6),x=o("fetch"),k=o("Headers"),S=_("iterator"),A=f.set,O=f.getterFor("URLSearchParams"),E=f.getterFor("URLSearchParamsIterator"),P=/\+/g,j=Array(4),R=function(t){return j[t-1]||(j[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},T=function(t){try{return decodeURIComponent(t)}catch(e){return t}},M=function(t){var e=t.replace(P," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(R(n--),T);return e}},I=/[!'()~]|%20/g,C={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},L=function(t){return C[t]},D=function(t){return encodeURIComponent(t).replace(I,L)},F=function(t,e){if(e)for(var n,r,o=e.split("&"),i=0;i<o.length;)(n=o[i++]).length&&(r=n.split("="),t.push({key:M(r.shift()),value:M(r.join("="))}))},B=function(t){this.entries.length=0,F(this.entries,t)},N=function(t,e){if(t<e)throw TypeError("Not enough arguments")},U=s((function(t,e){A(this,{type:"URLSearchParamsIterator",iterator:b(O(t).entries),kind:e})}),"Iterator",(function(){var t=E(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),z=function(){l(this,z,"URLSearchParams");var t,e,n,r,o,i,a,u,c,s=arguments.length>0?arguments[0]:void 0,f=this,p=[];if(A(f,{type:"URLSearchParams",entries:p,updateURL:function(){},updateSearchParams:B}),void 0!==s)if(v(s))if("function"==typeof(t=w(s)))for(n=(e=t.call(s)).next;!(r=n.call(e)).done;){if((a=(i=(o=b(d(r.value))).next).call(o)).done||(u=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");p.push({key:a.value+"",value:u.value+""})}else for(c in s)h(s,c)&&p.push({key:c,value:s[c]+""});else F(p,"string"==typeof s?"?"===s.charAt(0)?s.slice(1):s:s+"")},W=z.prototype;u(W,{append:function(t,e){N(arguments.length,2);var n=O(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){N(arguments.length,1);for(var e=O(this),n=e.entries,r=t+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;e.updateURL()},get:function(t){N(arguments.length,1);for(var e=O(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){N(arguments.length,1);for(var e=O(this).entries,n=t+"",r=[],o=0;o<e.length;o++)e[o].key===n&&r.push(e[o].value);return r},has:function(t){N(arguments.length,1);for(var e=O(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){N(arguments.length,1);for(var n,r=O(this),o=r.entries,i=!1,a=t+"",u=e+"",c=0;c<o.length;c++)(n=o[c]).key===a&&(i?o.splice(c--,1):(i=!0,n.value=u));i||o.push({key:a,value:u}),r.updateURL()},sort:function(){var t,e,n,r=O(this),o=r.entries,i=o.slice();for(o.length=0,n=0;n<i.length;n++){for(t=i[n],e=0;e<n;e++)if(o[e].key>t.key){o.splice(e,0,t);break}e===n&&o.push(t)}r.updateURL()},forEach:function(t){for(var e,n=O(this).entries,r=p(t,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)r((e=n[o++]).value,e.key,this)},keys:function(){return new U(this,"keys")},values:function(){return new U(this,"values")},entries:function(){return new U(this,"entries")}},{enumerable:!0}),a(W,S,W.entries),a(W,"toString",(function(){for(var t,e=O(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(D(t.key)+"="+D(t.value));return n.join("&")}),{enumerable:!0}),c(z,"URLSearchParams"),r({global:!0,forced:!i},{URLSearchParams:z}),i||"function"!=typeof x||"function"!=typeof k||r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,o=[t];return arguments.length>1&&(e=arguments[1],v(e)&&(n=e.body,"URLSearchParams"===y(n)&&((r=e.headers?new k(e.headers):new k).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=g(e,{body:m(0,String(n)),headers:m(0,r)}))),o.push(e)),x.apply(this,o)}}),t.exports={URLSearchParams:z,getState:O}},function(t,e,n){"use strict";e.a=function(){return!1}},function(t,e,n){"use strict";(function(t){var r=n(12);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="object"==("undefined"==typeof exports?"undefined":o(exports))&&exports&&!exports.nodeType&&exports,a=i&&"object"==o(t)&&t&&!t.nodeType&&t,u=a&&a.exports===i?r.a.Buffer:void 0,c=u?u.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,r=c?c(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(113)(t))},function(t,e,n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){var t=function(t){return t.reduce((function(t,e){return 2*t+e}),0)},e=function(t){for(var e=[],n=7;n>=0;n--)e.push(!!(t&1<<n));return e},n=function(t){this.data=t,this.len=this.data.length,this.pos=0,this.readByte=function(){if(this.pos>=this.data.length)throw new Error("Attempted to read past end of stream.");return t instanceof Uint8Array?t[this.pos++]:255&t.charCodeAt(this.pos++)},this.readBytes=function(t){for(var e=[],n=0;n<t;n++)e.push(this.readByte());return e},this.read=function(t){for(var e="",n=0;n<t;n++)e+=String.fromCharCode(this.readByte());return e},this.readUnsigned=function(){var t=this.readBytes(2);return(t[1]<<8)+t[0]}},r=function(n,r){r||(r={});var o=function(t){for(var e=[],r=0;r<t;r++)e.push(n.readBytes(3));return e},i=function(){var t,e;e="";do{t=n.readByte(),e+=n.read(t)}while(0!==t);return e},a=function(a){a.leftPos=n.readUnsigned(),a.topPos=n.readUnsigned(),a.width=n.readUnsigned(),a.height=n.readUnsigned();var u=e(n.readByte());a.lctFlag=u.shift(),a.interlaced=u.shift(),a.sorted=u.shift(),a.reserved=u.splice(0,2),a.lctSize=t(u.splice(0,3)),a.lctFlag&&(a.lct=o(1<<a.lctSize+1)),a.lzwMinCodeSize=n.readByte();var c=i();a.pixels=function(t,e){for(var n,r,o=0,i=function(t){for(var n=0,r=0;r<t;r++)e.charCodeAt(o>>3)&1<<(7&o)&&(n|=1<<r),o++;return n},a=[],u=1<<t,c=u+1,s=t+1,f=[],l=function(){f=[],s=t+1;for(var e=0;e<u;e++)f[e]=[e];f[u]=[],f[c]=null};;)if(r=n,(n=i(s))!==u){if(n===c)break;if(n<f.length)r!==u&&f.push(f[r].concat(f[n][0]));else{if(n!==f.length)throw new Error("Invalid LZW code.");f.push(f[r].concat(f[r][0]))}a.push.apply(a,f[n]),f.length===1<<s&&s<12&&s++}else l();return a}(a.lzwMinCodeSize,c),a.interlaced&&(a.pixels=function(t,e){for(var n=new Array(t.length),r=t.length/e,o=function(r,o){var i=t.slice(o*e,(o+1)*e);n.splice.apply(n,[r*e,e].concat(i))},i=[0,4,2,1],a=[8,8,4,2],u=0,c=0;c<4;c++)for(var s=i[c];s<r;s+=a[c])o(s,u),u++;return n}(a.pixels,a.width)),r.img&&r.img(a)},u=function o(){var u={};switch(u.sentinel=n.readByte(),String.fromCharCode(u.sentinel)){case"!":u.type="ext",function(o){switch(o.label=n.readByte(),o.label){case 249:o.extType="gce",function(o){n.readByte();var i=e(n.readByte());o.reserved=i.splice(0,3),o.disposalMethod=t(i.splice(0,3)),o.userInput=i.shift(),o.transparencyGiven=i.shift(),o.delayTime=n.readUnsigned(),o.transparencyIndex=n.readByte(),o.terminator=n.readByte(),r.gce&&r.gce(o)}(o);break;case 254:o.extType="com",function(t){t.comment=i(),r.com&&r.com(t)}(o);break;case 1:o.extType="pte",function(t){n.readByte(),t.ptHeader=n.readBytes(12),t.ptData=i(),r.pte&&r.pte(t)}(o);break;case 255:o.extType="app",function(t){switch(n.readByte(),t.identifier=n.read(8),t.authCode=n.read(3),t.identifier){case"NETSCAPE":!function(t){n.readByte(),t.unknown=n.readByte(),t.iterations=n.readUnsigned(),t.terminator=n.readByte(),r.app&&r.app.NETSCAPE&&r.app.NETSCAPE(t)}(t);break;default:!function(t){t.appData=i(),r.app&&r.app[t.identifier]&&r.app[t.identifier](t)}(t)}}(o);break;default:o.extType="unknown",function(t){t.data=i(),r.unknown&&r.unknown(t)}(o)}}(u);break;case",":u.type="img",a(u);break;case";":u.type="eof",r.eof&&r.eof(u);break;default:throw new Error("Unknown block: 0x"+u.sentinel.toString(16))}"eof"!==u.type&&requestAnimationFrame(o)};!function(){var i={};if(i.sig=n.read(3),i.ver=n.read(3),"GIF"!==i.sig)throw new Error("Not a GIF file.");i.width=n.readUnsigned(),i.height=n.readUnsigned();var a=e(n.readByte());i.gctFlag=a.shift(),i.colorRes=t(a.splice(0,3)),i.sorted=a.shift(),i.gctSize=t(a.splice(0,3)),i.bgColor=n.readByte(),i.pixelAspectRatio=n.readByte(),i.gctFlag&&(i.gct=o(1<<i.gctSize+1)),r.hdr&&r.hdr(i)}(),requestAnimationFrame(u)};return function(t){var e,o,i={vp_l:0,vp_t:0,vp_w:null,vp_h:null,c_w:null,c_h:null};for(var a in t)i[a]=t[a];i.vp_w&&i.vp_h&&(i.is_vp=!0);var u=null,c=!1,s=null,f=null,l=null,h=null,p=null,y=null,d=null,v=!0,g=!1,m=[],b=[],w=i.gif;void 0===i.auto_play&&(i.auto_play=!w.getAttribute("rel:auto_play")||"1"==w.getAttribute("rel:auto_play"));var _,x,k,S,A=i.hasOwnProperty("on_end")?i.on_end:null,O=i.hasOwnProperty("loop_delay")?i.loop_delay:0,E=i.hasOwnProperty("loop_mode")?i.loop_mode:"auto",P=!i.hasOwnProperty("draw_while_loading")||i.draw_while_loading,j=!!P&&(!i.hasOwnProperty("show_progress_bar")||i.show_progress_bar),R=i.hasOwnProperty("progressbar_height")?i.progressbar_height:25,T=i.hasOwnProperty("progressbar_background_color")?i.progressbar_background_color:"rgba(255,255,255,0.4)",M=i.hasOwnProperty("progressbar_foreground_color")?i.progressbar_foreground_color:"rgba(255,0,22,.8)",I=function(){s=null,f=null,p=l,l=null,y=null},C=function(){try{r(e,Y)}catch(t){F("parse")}},L=function(t,e){_.width=t*H(),_.height=e*H(),k.style.minWidth=t*H()+"px",S.width=t,S.height=e,S.style.width=t+"px",S.style.height=e+"px",S.getContext("2d").setTransform(1,0,0,1,0,0)},D=function(t,e,n){if(n&&j){var r,o,a,u=R;i.is_vp?g?(o=(i.vp_t+i.vp_h-u)/H(),u/=H(),r=i.vp_l/H()+t/e*(i.vp_w/H()),a=_.width/H()):(o=i.vp_t+i.vp_h-u,u=u,r=i.vp_l+t/e*i.vp_w,a=_.width):(o=(_.height-u)/(g?H():1),r=t/e*_.width/(g?H():1),a=_.width/(g?H():1),u/=g?H():1),x.fillStyle=T,x.fillRect(r,o,a-r,u),x.fillStyle=M,x.fillRect(0,o,r,u)}},F=function(t){u=t,o={width:w.width,height:w.height},m=[],x.fillStyle="black",x.fillRect(0,0,i.c_w?i.c_w:o.width,i.c_h?i.c_h:o.height),x.strokeStyle="red",x.lineWidth=3,x.moveTo(0,0),x.lineTo(i.c_w?i.c_w:o.width,i.c_h?i.c_h:o.height),x.moveTo(0,i.c_h?i.c_h:o.height),x.lineTo(i.c_w?i.c_w:o.width,0),x.stroke()},B=function(){y&&(m.push({data:y.getImageData(0,0,o.width,o.height),delay:f}),b.push({x:0,y:0}))},N=function(){var t,e,n,r=-1,o=0,a=function(t){r+=t,s()},c=(t=!1,e=function(){null!==A&&A(w),o++,!1!==E||o<0?n():(t=!1,v=!1)},n=function n(){if(t=v){a(1);var o=10*m[r].delay;o||(o=100),0==(r+1+m.length)%m.length?(o+=O,setTimeout(e,o)):setTimeout(n,o)}},function(){t||requestAnimationFrame(n)}),s=function(){var t;(r=parseInt(r,10))>m.length-1&&(r=0),r<0&&(r=0),t=b[r],S.getContext("2d").putImageData(m[r].data,t.x,t.y),x.globalCompositeOperation="copy",x.drawImage(S,0,0)};return{init:function(){u||(i.c_w&&i.c_h||x.scale(H(),H()),i.auto_play?c():(r=0,s()))},step:c,play:function(){v=!0,c()},pause:function(){v=!1},playing:v,move_relative:a,current_frame:function(){return r},length:function(){return m.length},move_to:function(t){r=t,s()}}}(),U=function(t){D(e.pos,e.data.length,t)},z=function(){},W=function(t,e){return function(n){t(n),U(e)}},Y={hdr:W((function(t){L((o=t).width,o.height)})),gce:W((function(t){B(),I(),s=t.transparencyGiven?t.transparencyIndex:null,f=t.delayTime,l=t.disposalMethod})),com:W(z),app:{NETSCAPE:W(z)},img:W((function(t){y||(y=S.getContext("2d"));var e=m.length,n=t.lctFlag?t.lct:o.gct;e>0&&(3===p?null!==h?y.putImageData(m[h].data,0,0):y.clearRect(d.leftPos,d.topPos,d.width,d.height):h=e-1,2===p&&y.clearRect(d.leftPos,d.topPos,d.width,d.height));var r=y.getImageData(t.leftPos,t.topPos,t.width,t.height);t.pixels.forEach((function(t,e){t!==s&&(r.data[4*e+0]=n[t][0],r.data[4*e+1]=n[t][1],r.data[4*e+2]=n[t][2],r.data[4*e+3]=255)})),y.putImageData(r,t.leftPos,t.topPos),g||(x.scale(H(),H()),g=!0),P&&(x.drawImage(S,0,0),P=i.auto_play),d=t}),!0),eof:function(t){B(),U(!1),i.c_w&&i.c_h||(_.width=o.width*H(),_.height=o.height*H()),N.init(),c=!1,V&&V(w)}},G=function(){var t=w.parentNode,e=document.createElement("div");(_=document.createElement("canvas")).style.width="100%",_.style.height="100%",x=_.getContext("2d"),k=document.createElement("div"),S=document.createElement("canvas"),e.width=_.width=w.width,e.height=_.height=w.height,k.style.minWidth=w.width+"px",e.className="jsgif",e.style.width="100%",e.style.height="100%",k.className="jsgif_toolbar",e.appendChild(_),e.appendChild(k),t.insertBefore(e,w),t.removeChild(w),i.c_w&&i.c_h&&L(i.c_w,i.c_h),q=!0},H=function(){return i.max_width&&o&&o.width>i.max_width?i.max_width/o.width:1},q=!1,V=!1,X=function(t){return!c&&(V=t||!1,c=!0,m=[],I(),h=null,p=null,y=null,d=null,!0)};return{play:N.play,pause:N.pause,move_relative:N.move_relative,move_to:N.move_to,get_playing:function(){return v},get_canvas:function(){return _},get_canvas_scale:function(){return H()},get_loading:function(){return c},get_auto_play:function(){return i.auto_play},get_length:function(){return N.length()},get_current_frame:function(){return N.current_frame()},load_url:function(t,r){if(X(r)){var o=new XMLHttpRequest;o.open("GET",t,!0),"overrideMimeType"in o?o.overrideMimeType("text/plain; charset=x-user-defined"):"responseType"in o?o.responseType="arraybuffer":o.setRequestHeader("Accept-Charset","x-user-defined"),o.onloadstart=function(){q||G()},o.onload=function(t){200!=this.status&&F("xhr - response"),"response"in this||(this.response=new VBArray(this.responseText).toArray().map(String.fromCharCode).join(""));var r=this.response;r.toString().indexOf("ArrayBuffer")>0&&(r=new Uint8Array(r)),e=new n(r),requestAnimationFrame(C)},o.onprogress=function(t){t.lengthComputable&&D(t.loaded,t.total,!0)},o.onerror=function(){F("xhr")},o.send()}},load:function(t){this.load_url(w.getAttribute("rel:animated_src")||w.src,t)},load_raw:function(t,r){X(r)&&(q||G(),e=new n(t),requestAnimationFrame(C))},set_frame_offset:function(t,e){b[t]?(void 0!==e.x&&(b[t].x=e.x),void 0!==e.y&&(b[t].y=e.y)):b[t]=e}}}})?r.apply(e,o):r)||(t.exports=i)},function(t,e,n){n(160),n(373);var r=n(55);t.exports=r},function(t,e,n){n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(72),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(137),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(104),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(307),n(308),n(310),n(311),n(312),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(322),n(323),n(324),n(325),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372);var r=n(55);t.exports=r},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(0),i=n(2),a=n(26),u=n(29),c=n(5),s=n(93),f=n(120),l=n(1),h=n(11),p=n(44),y=n(3),d=n(4),v=n(10),g=n(22),m=n(28),b=n(38),w=n(32),_=n(58),x=n(43),k=n(122),S=n(92),A=n(14),O=n(9),E=n(66),P=n(17),j=n(15),R=n(89),T=n(67),M=n(54),I=n(53),C=n(6),L=n(123),D=n(19),F=n(31),B=n(18),N=n(13).forEach,U=T("hidden"),z=C("toPrimitive"),W=B.set,Y=B.getterFor("Symbol"),G=Object.prototype,H=i.Symbol,q=a("JSON","stringify"),V=A.f,X=O.f,K=k.f,Q=E.f,J=R("symbols"),Z=R("op-symbols"),$=R("string-to-symbol-registry"),tt=R("symbol-to-string-registry"),et=R("wks"),nt=i.QObject,rt=!nt||!nt.prototype||!nt.prototype.findChild,ot=c&&l((function(){return 7!=w(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=V(G,e);r&&delete G[e],X(t,e,n),r&&t!==G&&X(G,e,r)}:X,it=function(t,e){var n=J[t]=w(H.prototype);return W(n,{type:"Symbol",tag:t,description:e}),c||(n.description=e),n},at=f?function(t){return"symbol"==r(t)}:function(t){return Object(t)instanceof H},ut=function(t,e,n){t===G&&ut(Z,e,n),d(t);var r=m(e,!0);return d(n),h(J,r)?(n.enumerable?(h(t,U)&&t[U][r]&&(t[U][r]=!1),n=w(n,{enumerable:b(0,!1)})):(h(t,U)||X(t,U,b(1,{})),t[U][r]=!0),ot(t,r,n)):X(t,r,n)},ct=function(t,e){d(t);var n=g(e),r=_(n).concat(ht(n));return N(r,(function(e){c&&!st.call(n,e)||ut(t,e,n[e])})),t},st=function(t){var e=m(t,!0),n=Q.call(this,e);return!(this===G&&h(J,e)&&!h(Z,e))&&(!(n||!h(this,e)||!h(J,e)||h(this,U)&&this[U][e])||n)},ft=function(t,e){var n=g(t),r=m(e,!0);if(n!==G||!h(J,r)||h(Z,r)){var o=V(n,r);return!o||!h(J,r)||h(n,U)&&n[U][r]||(o.enumerable=!0),o}},lt=function(t){var e=K(g(t)),n=[];return N(e,(function(t){h(J,t)||h(M,t)||n.push(t)})),n},ht=function(t){var e=t===G,n=K(e?Z:g(t)),r=[];return N(n,(function(t){!h(J,t)||e&&!h(G,t)||r.push(J[t])})),r};(s||(j((H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=I(t),n=function t(n){this===G&&t.call(Z,n),h(this,U)&&h(this[U],e)&&(this[U][e]=!1),ot(this,e,b(1,n))};return c&&rt&&ot(G,e,{configurable:!0,set:n}),it(e,t)}).prototype,"toString",(function(){return Y(this).tag})),j(H,"withoutSetter",(function(t){return it(I(t),t)})),E.f=st,O.f=ut,A.f=ft,x.f=k.f=lt,S.f=ht,L.f=function(t){return it(C(t),t)},c&&(X(H.prototype,"description",{configurable:!0,get:function(){return Y(this).description}}),u||j(G,"propertyIsEnumerable",st,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:H}),N(_(et),(function(t){D(t)})),o({target:"Symbol",stat:!0,forced:!s},{for:function(t){var e=String(t);if(h($,e))return $[e];var n=H(e);return $[e]=n,tt[n]=e,n},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(h(tt,t))return tt[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),o({target:"Object",stat:!0,forced:!s,sham:!c},{create:function(t,e){return void 0===e?w(t):ct(w(t),e)},defineProperty:ut,defineProperties:ct,getOwnPropertyDescriptor:ft}),o({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:lt,getOwnPropertySymbols:ht}),o({target:"Object",stat:!0,forced:l((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(v(t))}}),q)&&o({target:"JSON",stat:!0,forced:!s||l((function(){var t=H();return"[null]"!=q([t])||"{}"!=q({a:t})||"{}"!=q(Object(t))}))},{stringify:function(t,e,n){for(var r,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=e,(y(e)||void 0!==t)&&!at(t))return p(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!at(e))return e}),o[1]=e,q.apply(null,o)}});H.prototype[z]||P(H.prototype,z,H.prototype.valueOf),F(H,"Symbol"),M[U]=!0},function(t,e,n){n(19)("asyncIterator")},function(t,e,n){"use strict";var r=n(0),o=n(5),i=n(2),a=n(11),u=n(3),c=n(9).f,s=n(118),f=i.Symbol;if(o&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var l={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new f(t):void 0===t?f():f(t);return""===t&&(l[e]=!0),e};s(h,f);var p=h.prototype=f.prototype;p.constructor=h;var y=p.toString,d="Symbol(test)"==String(f("test")),v=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var t=u(this)?this.valueOf():this,e=y.call(t);if(a(l,t))return"";var n=d?e.slice(7,-1):e.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:h})}},function(t,e,n){n(19)("hasInstance")},function(t,e,n){n(19)("isConcatSpreadable")},function(t,e,n){n(19)("iterator")},function(t,e,n){n(19)("match")},function(t,e,n){n(19)("matchAll")},function(t,e,n){n(19)("replace")},function(t,e,n){n(19)("search")},function(t,e,n){n(19)("species")},function(t,e,n){n(19)("split")},function(t,e,n){n(19)("toPrimitive")},function(t,e,n){n(19)("toStringTag")},function(t,e,n){n(19)("unscopables")},function(t,e,n){var r=n(0),o=n(124);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(t,e,n){n(0)({target:"Object",stat:!0,sham:!n(5)},{create:n(32)})},function(t,e,n){var r=n(0),o=n(5);r({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperty:n(9).f})},function(t,e,n){var r=n(0),o=n(5);r({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperties:n(94)})},function(t,e,n){var r=n(0),o=n(125).entries;r({target:"Object",stat:!0},{entries:function(t){return o(t)}})},function(t,e,n){var r=n(0),o=n(60),i=n(1),a=n(3),u=n(45).onFreeze,c=Object.freeze;r({target:"Object",stat:!0,forced:i((function(){c(1)})),sham:!o},{freeze:function(t){return c&&a(t)?c(u(t)):t}})},function(t,e,n){var r=n(0),o=n(48),i=n(46);r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return o(t,(function(t,n){i(e,t,n)}),void 0,!0),e}})},function(t,e,n){var r=n(0),o=n(1),i=n(22),a=n(14).f,u=n(5),c=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!u||c,sham:!u},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},function(t,e,n){var r=n(0),o=n(5),i=n(90),a=n(22),u=n(14),c=n(46);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),o=u.f,s=i(r),f={},l=0;s.length>l;)void 0!==(n=o(r,e=s[l++]))&&c(f,e,n);return f}})},function(t,e,n){var r=n(0),o=n(1),i=n(122).f;r({target:"Object",stat:!0,forced:o((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:i})},function(t,e,n){var r=n(0),o=n(1),i=n(10),a=n(30),u=n(97);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!u},{getPrototypeOf:function(t){return a(i(t))}})},function(t,e,n){n(0)({target:"Object",stat:!0},{is:n(127)})},function(t,e,n){var r=n(0),o=n(1),i=n(3),a=Object.isExtensible;r({target:"Object",stat:!0,forced:o((function(){a(1)}))},{isExtensible:function(t){return!!i(t)&&(!a||a(t))}})},function(t,e,n){var r=n(0),o=n(1),i=n(3),a=Object.isFrozen;r({target:"Object",stat:!0,forced:o((function(){a(1)}))},{isFrozen:function(t){return!i(t)||!!a&&a(t)}})},function(t,e,n){var r=n(0),o=n(1),i=n(3),a=Object.isSealed;r({target:"Object",stat:!0,forced:o((function(){a(1)}))},{isSealed:function(t){return!i(t)||!!a&&a(t)}})},function(t,e,n){var r=n(0),o=n(10),i=n(58);r({target:"Object",stat:!0,forced:n(1)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},function(t,e,n){var r=n(0),o=n(3),i=n(45).onFreeze,a=n(60),u=n(1),c=Object.preventExtensions;r({target:"Object",stat:!0,forced:u((function(){c(1)})),sham:!a},{preventExtensions:function(t){return c&&o(t)?c(i(t)):t}})},function(t,e,n){var r=n(0),o=n(3),i=n(45).onFreeze,a=n(60),u=n(1),c=Object.seal;r({target:"Object",stat:!0,forced:u((function(){c(1)})),sham:!a},{seal:function(t){return c&&o(t)?c(i(t)):t}})},function(t,e,n){n(0)({target:"Object",stat:!0},{setPrototypeOf:n(47)})},function(t,e,n){var r=n(0),o=n(125).values;r({target:"Object",stat:!0},{values:function(t){return o(t)}})},function(t,e,n){var r=n(96),o=n(15),i=n(197);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,n){"use strict";var r=n(96),o=n(63);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,n){"use strict";var r=n(0),o=n(5),i=n(68),a=n(10),u=n(20),c=n(9);o&&r({target:"Object",proto:!0,forced:i},{__defineGetter__:function(t,e){c.f(a(this),t,{get:u(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),o=n(5),i=n(68),a=n(10),u=n(20),c=n(9);o&&r({target:"Object",proto:!0,forced:i},{__defineSetter__:function(t,e){c.f(a(this),t,{set:u(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),o=n(5),i=n(68),a=n(10),u=n(28),c=n(30),s=n(14).f;o&&r({target:"Object",proto:!0,forced:i},{__lookupGetter__:function(t){var e,n=a(this),r=u(t,!0);do{if(e=s(n,r))return e.get}while(n=c(n))}})},function(t,e,n){"use strict";var r=n(0),o=n(5),i=n(68),a=n(10),u=n(28),c=n(30),s=n(14).f;o&&r({target:"Object",proto:!0,forced:i},{__lookupSetter__:function(t){var e,n=a(this),r=u(t,!0);do{if(e=s(n,r))return e.set}while(n=c(n))}})},function(t,e,n){n(0)({target:"Function",proto:!0},{bind:n(129)})},function(t,e,n){var r=n(5),o=n(9).f,i=Function.prototype,a=i.toString,u=/^\s*function ([^ (]*)/;r&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(u)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(3),o=n(9),i=n(30),a=n(6)("hasInstance"),u=Function.prototype;a in u||o.f(u,a,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){n(0)({global:!0},{globalThis:n(2)})},function(t,e,n){var r=n(0),o=n(130);r({target:"Array",stat:!0,forced:!n(69)((function(t){Array.from(t)}))},{from:o})},function(t,e,n){n(0)({target:"Array",stat:!0},{isArray:n(44)})},function(t,e,n){"use strict";var r=n(0),o=n(1),i=n(46);r({target:"Array",stat:!0,forced:o((function(){function t(){}return!(Array.of.call(t)instanceof t)}))},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(0),o=n(1),i=n(44),a=n(3),u=n(10),c=n(7),s=n(46),f=n(59),l=n(64),h=n(6),p=n(98),y=h("isConcatSpreadable"),d=p>=51||!o((function(){var t=[];return t[y]=!1,t.concat()[0]!==t})),v=l("concat"),g=function(t){if(!a(t))return!1;var e=t[y];return void 0!==e?!!e:i(t)};r({target:"Array",proto:!0,forced:!d||!v},{concat:function(t){var e,n,r,o,i,a=u(this),l=f(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(i=-1===e?a:arguments[e],g(i)){if(h+(o=c(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,h++)n in i&&s(l,h,i[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(l,h++,i)}return l.length=h,l}})},function(t,e,n){var r=n(0),o=n(131),i=n(41);r({target:"Array",proto:!0},{copyWithin:o}),i("copyWithin")},function(t,e,n){"use strict";var r=n(0),o=n(13).every,i=n(33),a=n(21),u=i("every"),c=a("every");r({target:"Array",proto:!0,forced:!u||!c},{every:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(0),o=n(99),i=n(41);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(t,e,n){"use strict";var r=n(0),o=n(13).filter,i=n(64),a=n(21),u=i("filter"),c=a("filter");r({target:"Array",proto:!0,forced:!u||!c},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),o=n(13).find,i=n(41),a=n(21),u=!0,c=a("find");"find"in[]&&Array(1).find((function(){u=!1})),r({target:"Array",proto:!0,forced:u||!c},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(t,e,n){"use strict";var r=n(0),o=n(13).findIndex,i=n(41),a=n(21),u=!0,c=a("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){u=!1})),r({target:"Array",proto:!0,forced:u||!c},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("findIndex")},function(t,e,n){"use strict";var r=n(0),o=n(132),i=n(10),a=n(7),u=n(27),c=n(59);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=i(this),n=a(e.length),r=c(e,0);return r.length=o(r,e,e,n,0,void 0===t?1:u(t)),r}})},function(t,e,n){"use strict";var r=n(0),o=n(132),i=n(10),a=n(7),u=n(20),c=n(59);r({target:"Array",proto:!0},{flatMap:function(t){var e,n=i(this),r=a(n.length);return u(t),(e=c(n,0)).length=o(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},function(t,e,n){"use strict";var r=n(0),o=n(133);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(t,e,n){"use strict";var r=n(0),o=n(56).includes,i=n(41);r({target:"Array",proto:!0,forced:!n(21)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(t,e,n){"use strict";var r=n(0),o=n(56).indexOf,i=n(33),a=n(21),u=[].indexOf,c=!!u&&1/[1].indexOf(1,-0)<0,s=i("indexOf"),f=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:c||!s||!f},{indexOf:function(t){return c?u.apply(this,arguments)||0:o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),o=n(52),i=n(22),a=n(33),u=[].join,c=o!=Object,s=a("join",",");r({target:"Array",proto:!0,forced:c||!s},{join:function(t){return u.call(i(this),void 0===t?",":t)}})},function(t,e,n){var r=n(0),o=n(134);r({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},function(t,e,n){"use strict";var r=n(0),o=n(13).map,i=n(64),a=n(21),u=i("map"),c=a("map");r({target:"Array",proto:!0,forced:!u||!c},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),o=n(71).left,i=n(33),a=n(21),u=i("reduce"),c=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!u||!c},{reduce:function(t){return o(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),o=n(71).right,i=n(33),a=n(21),u=i("reduceRight"),c=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!u||!c},{reduceRight:function(t){return o(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),o=n(44),i=[].reverse,a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),i.call(this)}})},function(t,e,n){"use strict";var r=n(0),o=n(3),i=n(44),a=n(39),u=n(7),c=n(22),s=n(46),f=n(6),l=n(64),h=n(21),p=l("slice"),y=h("slice",{ACCESSORS:!0,0:0,1:2}),d=f("species"),v=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!p||!y},{slice:function(t,e){var n,r,f,l=c(this),h=u(l.length),p=a(t,h),y=a(void 0===e?h:e,h);if(i(l)&&("function"!=typeof(n=l.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[d])&&(n=void 0):n=void 0,n===Array||void 0===n))return v.call(l,p,y);for(r=new(void 0===n?Array:n)(g(y-p,0)),f=0;p<y;p++,f++)p in l&&s(r,f,l[p]);return r.length=f,r}})},function(t,e,n){"use strict";var r=n(0),o=n(13).some,i=n(33),a=n(21),u=i("some"),c=a("some");r({target:"Array",proto:!0,forced:!u||!c},{some:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),o=n(20),i=n(10),a=n(1),u=n(33),c=[],s=c.sort,f=a((function(){c.sort(void 0)})),l=a((function(){c.sort(null)})),h=u("sort");r({target:"Array",proto:!0,forced:f||!l||!h},{sort:function(t){return void 0===t?s.call(i(this)):s.call(i(this),o(t))}})},function(t,e,n){"use strict";var r=n(0),o=n(39),i=n(27),a=n(7),u=n(10),c=n(59),s=n(46),f=n(64),l=n(21),h=f("splice"),p=l("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,d=Math.min;r({target:"Array",proto:!0,forced:!h||!p},{splice:function(t,e){var n,r,f,l,h,p,v=u(this),g=a(v.length),m=o(t,g),b=arguments.length;if(0===b?n=r=0:1===b?(n=0,r=g-m):(n=b-2,r=d(y(i(e),0),g-m)),g+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(f=c(v,r),l=0;l<r;l++)(h=m+l)in v&&s(f,l,v[h]);if(f.length=r,n<r){for(l=m;l<g-r;l++)p=l+n,(h=l+r)in v?v[p]=v[h]:delete v[p];for(l=g;l>g-r+n;l--)delete v[l-1]}else if(n>r)for(l=g-r;l>m;l--)p=l+n-1,(h=l+r-1)in v?v[p]=v[h]:delete v[p];for(l=0;l<n;l++)v[l+m]=arguments[l+2];return v.length=g-r+n,f}})},function(t,e,n){n(49)("Array")},function(t,e,n){n(41)("flat")},function(t,e,n){n(41)("flatMap")},function(t,e,n){var r=n(0),o=n(39),i=String.fromCharCode,a=String.fromCodePoint;r({target:"String",stat:!0,forced:!!a&&1!=a.length},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],o(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?i(e):i(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(0),o=n(22),i=n(7);r({target:"String",stat:!0},{raw:function(t){for(var e=o(t.raw),n=i(e.length),r=arguments.length,a=[],u=0;n>u;)a.push(String(e[u++])),u<r&&a.push(String(arguments[u]));return a.join("")}})},function(t,e,n){"use strict";var r=n(0),o=n(73).codeAt;r({target:"String",proto:!0},{codePointAt:function(t){return o(this,t)}})},function(t,e,n){"use strict";var r,o=n(0),i=n(14).f,a=n(7),u=n(102),c=n(16),s=n(103),f=n(29),l="".endsWith,h=Math.min,p=s("endsWith");o({target:"String",proto:!0,forced:!!(f||p||(r=i(String.prototype,"endsWith"),!r||r.writable))&&!p},{endsWith:function(t){var e=String(c(this));u(t);var n=arguments.length>1?arguments[1]:void 0,r=a(e.length),o=void 0===n?r:h(a(n),r),i=String(t);return l?l.call(e,i,o):e.slice(o-i.length,o)===i}})},function(t,e,n){"use strict";var r=n(0),o=n(102),i=n(16);r({target:"String",proto:!0,forced:!n(103)("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(75),o=n(4),i=n(7),a=n(16),u=n(78),c=n(79);r("match",1,(function(t,e,n){return[function(e){var n=a(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var a=o(t),s=String(this);if(!a.global)return c(a,s);var f=a.unicode;a.lastIndex=0;for(var l,h=[],p=0;null!==(l=c(a,s));){var y=String(l[0]);h[p]=y,""===y&&(a.lastIndex=u(s,i(a.lastIndex),f)),p++}return 0===p?null:h}]}))},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(0),i=n(101),a=n(16),u=n(7),c=n(20),s=n(4),f=n(25),l=n(74),h=n(65),p=n(17),y=n(1),d=n(6),v=n(34),g=n(78),m=n(18),b=n(29),w=d("matchAll"),_=m.set,x=m.getterFor("RegExp String Iterator"),k=RegExp.prototype,S=k.exec,A="".matchAll,O=!!A&&!y((function(){"a".matchAll(/./)})),E=i((function(t,e,n,r){_(this,{type:"RegExp String Iterator",regexp:t,string:e,global:n,unicode:r,done:!1})}),"RegExp String",(function(){var t=x(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,o=function(t,e){var n,o=t.exec;if("function"==typeof o){if("object"!=r(n=o.call(t,e)))throw TypeError("Incorrect exec result");return n}return S.call(t,e)}(e,n);return null===o?{value:void 0,done:t.done=!0}:t.global?(""==String(o[0])&&(e.lastIndex=g(n,u(e.lastIndex),t.unicode)),{value:o,done:!1}):(t.done=!0,{value:o,done:!1})})),P=function(t){var e,n,r,o,i,a,c=s(this),f=String(t);return e=v(c,RegExp),void 0===(n=c.flags)&&c instanceof RegExp&&!("flags"in k)&&(n=h.call(c)),r=void 0===n?"":String(n),o=new e(e===RegExp?c.source:c,r),i=!!~r.indexOf("g"),a=!!~r.indexOf("u"),o.lastIndex=u(c.lastIndex),new E(o,f,i,a)};o({target:"String",proto:!0,forced:O},{matchAll:function(t){var e,n,r,o=a(this);if(null!=t){if(l(t)&&!~String(a("flags"in k?t.flags:h.call(t))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(O)return A.apply(o,arguments);if(void 0===(n=t[w])&&b&&"RegExp"==f(t)&&(n=P),null!=n)return c(n).call(t,o)}else if(O)return A.apply(o,arguments);return e=String(o),r=new RegExp(t,"g"),b?P.call(r,e):r[w](e)}}),b||w in k||p(k,w,P)},function(t,e,n){"use strict";var r=n(0),o=n(105).end;r({target:"String",proto:!0,forced:n(136)},{padEnd:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),o=n(105).start;r({target:"String",proto:!0,forced:n(136)},{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){n(0)({target:"String",proto:!0},{repeat:n(106)})},function(t,e,n){"use strict";var r=n(75),o=n(4),i=n(10),a=n(7),u=n(27),c=n(16),s=n(78),f=n(79),l=Math.max,h=Math.min,p=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,d=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(t,e,n,r){var v=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=r.REPLACE_KEEPS_$0,m=v?"$":"$0";return[function(n,r){var o=c(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,r){if(!v&&g||"string"==typeof r&&-1===r.indexOf(m)){var i=n(e,t,this,r);if(i.done)return i.value}var c=o(t),p=String(this),y="function"==typeof r;y||(r=String(r));var d=c.global;if(d){var w=c.unicode;c.lastIndex=0}for(var _=[];;){var x=f(c,p);if(null===x)break;if(_.push(x),!d)break;""===String(x[0])&&(c.lastIndex=s(p,a(c.lastIndex),w))}for(var k,S="",A=0,O=0;O<_.length;O++){x=_[O];for(var E=String(x[0]),P=l(h(u(x.index),p.length),0),j=[],R=1;R<x.length;R++)j.push(void 0===(k=x[R])?k:String(k));var T=x.groups;if(y){var M=[E].concat(j,P,p);void 0!==T&&M.push(T);var I=String(r.apply(void 0,M))}else I=b(E,p,P,j,T,r);P>=A&&(S+=p.slice(A,P)+I,A=P+E.length)}return S+p.slice(A)}];function b(t,n,r,o,a,u){var c=r+t.length,s=o.length,f=d;return void 0!==a&&(a=i(a),f=y),e.call(u,f,(function(e,i){var u;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":u=a[i.slice(1,-1)];break;default:var f=+i;if(0===f)return e;if(f>s){var l=p(f/10);return 0===l?e:l<=s?void 0===o[l-1]?i.charAt(1):o[l-1]+i.charAt(1):e}u=o[f-1]}return void 0===u?"":u}))}}))},function(t,e,n){"use strict";var r=n(75),o=n(4),i=n(16),a=n(127),u=n(79);r("search",1,(function(t,e,n){return[function(e){var n=i(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=o(t),c=String(this),s=i.lastIndex;a(s,0)||(i.lastIndex=0);var f=u(i,c);return a(i.lastIndex,s)||(i.lastIndex=s),null===f?-1:f.index}]}))},function(t,e,n){"use strict";var r=n(75),o=n(74),i=n(4),a=n(16),u=n(34),c=n(78),s=n(7),f=n(79),l=n(76),h=n(1),p=[].push,y=Math.min,d=!h((function(){return!RegExp(4294967295,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(a(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!o(t))return e.call(r,t,i);for(var u,c,s,f=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),y=0,d=new RegExp(t.source,h+"g");(u=l.call(d,r))&&!((c=d.lastIndex)>y&&(f.push(r.slice(y,u.index)),u.length>1&&u.index<r.length&&p.apply(f,u.slice(1)),s=u[0].length,y=c,f.length>=i));)d.lastIndex===u.index&&d.lastIndex++;return y===r.length?!s&&d.test("")||f.push(""):f.push(r.slice(y)),f.length>i?f.slice(0,i):f}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=a(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,n):r.call(String(o),e,n)},function(t,o){var a=n(r,t,this,o,r!==e);if(a.done)return a.value;var l=i(t),h=String(this),p=u(l,RegExp),v=l.unicode,g=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(d?"y":"g"),m=new p(d?l:"^(?:"+l.source+")",g),b=void 0===o?4294967295:o>>>0;if(0===b)return[];if(0===h.length)return null===f(m,h)?[h]:[];for(var w=0,_=0,x=[];_<h.length;){m.lastIndex=d?_:0;var k,S=f(m,d?h:h.slice(_));if(null===S||(k=y(s(m.lastIndex+(d?0:_)),h.length))===w)_=c(h,_,v);else{if(x.push(h.slice(w,_)),x.length===b)return x;for(var A=1;A<=S.length-1;A++)if(x.push(S[A]),x.length===b)return x;_=w=k}}return x.push(h.slice(w)),x}]}),!d)},function(t,e,n){"use strict";var r,o=n(0),i=n(14).f,a=n(7),u=n(102),c=n(16),s=n(103),f=n(29),l="".startsWith,h=Math.min,p=s("startsWith");o({target:"String",proto:!0,forced:!!(f||p||(r=i(String.prototype,"startsWith"),!r||r.writable))&&!p},{startsWith:function(t){var e=String(c(this));u(t);var n=a(h(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return l?l.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";var r=n(0),o=n(50).trim;r({target:"String",proto:!0,forced:n(107)("trim")},{trim:function(){return o(this)}})},function(t,e,n){"use strict";var r=n(0),o=n(50).start,i=n(107)("trimStart"),a=i?function(){return o(this)}:"".trimStart;r({target:"String",proto:!0,forced:i},{trimStart:a,trimLeft:a})},function(t,e,n){"use strict";var r=n(0),o=n(50).end,i=n(107)("trimEnd"),a=i?function(){return o(this)}:"".trimEnd;r({target:"String",proto:!0,forced:i},{trimEnd:a,trimRight:a})},function(t,e,n){"use strict";var r=n(0),o=n(23);r({target:"String",proto:!0,forced:n(24)("anchor")},{anchor:function(t){return o(this,"a","name",t)}})},function(t,e,n){"use strict";var r=n(0),o=n(23);r({target:"String",proto:!0,forced:n(24)("big")},{big:function(){return o(this,"big","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(23);r({target:"String",proto:!0,forced:n(24)("blink")},{blink:function(){return o(this,"blink","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(23);r({target:"String",proto:!0,forced:n(24)("bold")},{bold:function(){return o(this,"b","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(23);r({target:"String",proto:!0,forced:n(24)("fixed")},{fixed:function(){return o(this,"tt","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(23);r({target:"String",proto:!0,forced:n(24)("fontcolor")},{fontcolor:function(t){return o(this,"font","color",t)}})},function(t,e,n){"use strict";var r=n(0),o=n(23);r({target:"String",proto:!0,forced:n(24)("fontsize")},{fontsize:function(t){return o(this,"font","size",t)}})},function(t,e,n){"use strict";var r=n(0),o=n(23);r({target:"String",proto:!0,forced:n(24)("italics")},{italics:function(){return o(this,"i","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(23);r({target:"String",proto:!0,forced:n(24)("link")},{link:function(t){return o(this,"a","href",t)}})},function(t,e,n){"use strict";var r=n(0),o=n(23);r({target:"String",proto:!0,forced:n(24)("small")},{small:function(){return o(this,"small","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(23);r({target:"String",proto:!0,forced:n(24)("strike")},{strike:function(){return o(this,"strike","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(23);r({target:"String",proto:!0,forced:n(24)("sub")},{sub:function(){return o(this,"sub","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(23);r({target:"String",proto:!0,forced:n(24)("sup")},{sup:function(){return o(this,"sup","","")}})},function(t,e,n){var r=n(5),o=n(2),i=n(57),a=n(81),u=n(9).f,c=n(43).f,s=n(74),f=n(65),l=n(77),h=n(15),p=n(1),y=n(18).set,d=n(49),v=n(6)("match"),g=o.RegExp,m=g.prototype,b=/a/g,w=/a/g,_=new g(b)!==b,x=l.UNSUPPORTED_Y;if(r&&i("RegExp",!_||x||p((function(){return w[v]=!1,g(b)!=b||g(w)==w||"/a/i"!=g(b,"i")})))){for(var k=function(t,e){var n,r=this instanceof k,o=s(t),i=void 0===e;if(!r&&o&&t.constructor===k&&i)return t;_?o&&!i&&(t=t.source):t instanceof k&&(i&&(e=f.call(t)),t=t.source),x&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var u=a(_?new g(t,e):g(t,e),r?this:m,k);return x&&n&&y(u,{sticky:n}),u},S=function(t){t in k||u(k,t,{configurable:!0,get:function(){return g[t]},set:function(e){g[t]=e}})},A=c(g),O=0;A.length>O;)S(A[O++]);m.constructor=k,k.prototype=m,h(o,"RegExp",k)}d("RegExp")},function(t,e,n){var r=n(5),o=n(9),i=n(65),a=n(77).UNSUPPORTED_Y;r&&("g"!=/./g.flags||a)&&o.f(RegExp.prototype,"flags",{configurable:!0,get:i})},function(t,e,n){var r=n(5),o=n(77).UNSUPPORTED_Y,i=n(9).f,a=n(18).get,u=RegExp.prototype;r&&o&&i(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==u){if(this instanceof RegExp)return!!a(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}})},function(t,e,n){"use strict";n(104);var r,o,i=n(0),a=n(3),u=(r=!1,(o=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===o.test("abc")&&r),c=/./.test;i({target:"RegExp",proto:!0,forced:!u},{test:function(t){if("function"!=typeof this.exec)return c.call(this,t);var e=this.exec(t);if(null!==e&&!a(e))throw new Error("RegExp exec method returned something other than an Object or null");return!!e}})},function(t,e,n){"use strict";var r=n(15),o=n(4),i=n(1),a=n(65),u=RegExp.prototype,c=u.toString,s=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),f="toString"!=c.name;(s||f)&&r(RegExp.prototype,"toString",(function(){var t=o(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in u)?a.call(t):n)}),{unsafe:!0})},function(t,e,n){var r=n(0),o=n(138);r({global:!0,forced:parseInt!=o},{parseInt:o})},function(t,e,n){var r=n(0),o=n(139);r({global:!0,forced:parseFloat!=o},{parseFloat:o})},function(t,e,n){"use strict";var r=n(5),o=n(2),i=n(57),a=n(15),u=n(11),c=n(25),s=n(81),f=n(28),l=n(1),h=n(32),p=n(43).f,y=n(14).f,d=n(9).f,v=n(50).trim,g=o.Number,m=g.prototype,b="Number"==c(h(m)),w=function(t){var e,n,r,o,i,a,u,c,s=f(t,!1);if("string"==typeof s&&s.length>2)if(43===(e=(s=v(s)).charCodeAt(0))||45===e){if(88===(n=s.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(s.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+s}for(a=(i=s.slice(2)).length,u=0;u<a;u++)if((c=i.charCodeAt(u))<48||c>o)return NaN;return parseInt(i,r)}return+s};if(i("Number",!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var _,x=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof x&&(b?l((function(){m.valueOf.call(n)})):"Number"!=c(n))?s(new g(w(e)),n,x):w(e)},k=r?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;k.length>S;S++)u(g,_=k[S])&&!u(x,_)&&d(x,_,y(g,_));x.prototype=m,m.constructor=x,a(o,"Number",x)}},function(t,e,n){n(0)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(t,e,n){n(0)({target:"Number",stat:!0},{isFinite:n(274)})},function(t,e,n){var r=n(2).isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&r(t)}},function(t,e,n){n(0)({target:"Number",stat:!0},{isInteger:n(140)})},function(t,e,n){n(0)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(0),o=n(140),i=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(t){return o(t)&&i(t)<=9007199254740991}})},function(t,e,n){n(0)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){n(0)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0),o=n(139);r({target:"Number",stat:!0,forced:Number.parseFloat!=o},{parseFloat:o})},function(t,e,n){var r=n(0),o=n(138);r({target:"Number",stat:!0,forced:Number.parseInt!=o},{parseInt:o})},function(t,e,n){"use strict";var r=n(0),o=n(27),i=n(141),a=n(106),u=n(1),c=1..toFixed,s=Math.floor,f=function t(e,n,r){return 0===n?r:n%2==1?t(e,n-1,r*e):t(e*e,n/2,r)};r({target:"Number",proto:!0,forced:c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!u((function(){c.call({})}))},{toFixed:function(t){var e,n,r,u,c=i(this),l=o(t),h=[0,0,0,0,0,0],p="",y="0",d=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*h[n],h[n]=r%1e7,r=s(r/1e7)},v=function(t){for(var e=6,n=0;--e>=0;)n+=h[e],h[e]=s(n/t),n=n%t*1e7},g=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==h[t]){var n=String(h[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e};if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(p="-",c=-c),c>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(c*f(2,69,1))-69)<0?c*f(2,-e,1):c/f(2,e,1),n*=4503599627370496,(e=52-e)>0){for(d(0,n),r=l;r>=7;)d(1e7,0),r-=7;for(d(f(10,r,1),0),r=e-1;r>=23;)v(1<<23),r-=23;v(1<<r),d(1,1),v(2),y=g()}else d(0,n),d(1<<-e,0),y=g()+a.call("0",l);return y=l>0?p+((u=y.length)<=l?"0."+a.call("0",l-u)+y:y.slice(0,u-l)+"."+y.slice(u-l)):p+y}})},function(t,e,n){"use strict";var r=n(0),o=n(1),i=n(141),a=1..toPrecision;r({target:"Number",proto:!0,forced:o((function(){return"1"!==a.call(1,void 0)}))||!o((function(){a.call({})}))},{toPrecision:function(t){return void 0===t?a.call(i(this)):a.call(i(this),t)}})},function(t,e,n){var r=n(0),o=n(142),i=Math.acosh,a=Math.log,u=Math.sqrt,c=Math.LN2;r({target:"Math",stat:!0,forced:!i||710!=Math.floor(i(Number.MAX_VALUE))||i(1/0)!=1/0},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?a(t)+c:o(t-1+u(t-1)*u(t+1))}})},function(t,e,n){var r=n(0),o=Math.asinh,i=Math.log,a=Math.sqrt;r({target:"Math",stat:!0,forced:!(o&&1/o(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):i(e+a(e*e+1)):e}})},function(t,e,n){var r=n(0),o=Math.atanh,i=Math.log;r({target:"Math",stat:!0,forced:!(o&&1/o(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:i((1+t)/(1-t))/2}})},function(t,e,n){var r=n(0),o=n(108),i=Math.abs,a=Math.pow;r({target:"Math",stat:!0},{cbrt:function(t){return o(t=+t)*a(i(t),1/3)}})},function(t,e,n){var r=n(0),o=Math.floor,i=Math.log,a=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-o(i(t+.5)*a):32}})},function(t,e,n){var r=n(0),o=n(82),i=Math.cosh,a=Math.abs,u=Math.E;r({target:"Math",stat:!0,forced:!i||i(710)===1/0},{cosh:function(t){var e=o(a(t)-1)+1;return(e+1/(e*u*u))*(u/2)}})},function(t,e,n){var r=n(0),o=n(82);r({target:"Math",stat:!0,forced:o!=Math.expm1},{expm1:o})},function(t,e,n){n(0)({target:"Math",stat:!0},{fround:n(292)})},function(t,e,n){var r=n(108),o=Math.abs,i=Math.pow,a=i(2,-52),u=i(2,-23),c=i(2,127)*(2-u),s=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=o(t),f=r(t);return i<s?f*(i/s/u+1/a-1/a)*s*u:(n=(e=(1+u/a)*i)-(e-i))>c||n!=n?f*(1/0):f*n}},function(t,e,n){var r=n(0),o=Math.hypot,i=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,o=0,u=0,c=arguments.length,s=0;u<c;)s<(n=i(arguments[u++]))?(o=o*(r=s/n)*r+1,s=n):o+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*a(o)}})},function(t,e,n){var r=n(0),o=n(1),i=Math.imul;r({target:"Math",stat:!0,forced:o((function(){return-5!=i(4294967295,5)||2!=i.length}))},{imul:function(t,e){var n=+t,r=+e,o=65535&n,i=65535&r;return 0|o*i+((65535&n>>>16)*i+o*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(0),o=Math.log,i=Math.LOG10E;r({target:"Math",stat:!0},{log10:function(t){return o(t)*i}})},function(t,e,n){n(0)({target:"Math",stat:!0},{log1p:n(142)})},function(t,e,n){var r=n(0),o=Math.log,i=Math.LN2;r({target:"Math",stat:!0},{log2:function(t){return o(t)/i}})},function(t,e,n){n(0)({target:"Math",stat:!0},{sign:n(108)})},function(t,e,n){var r=n(0),o=n(1),i=n(82),a=Math.abs,u=Math.exp,c=Math.E;r({target:"Math",stat:!0,forced:o((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(t){return a(t=+t)<1?(i(t)-i(-t))/2:(u(t-1)-u(-t-1))*(c/2)}})},function(t,e,n){var r=n(0),o=n(82),i=Math.exp;r({target:"Math",stat:!0},{tanh:function(t){var e=o(t=+t),n=o(-t);return e==1/0?1:n==1/0?-1:(e-n)/(i(t)+i(-t))}})},function(t,e,n){n(31)(Math,"Math",!0)},function(t,e,n){var r=n(0),o=Math.ceil,i=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(t>0?i:o)(t)}})},function(t,e,n){n(0)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(0),o=n(1),i=n(10),a=n(28);r({target:"Date",proto:!0,forced:o((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=i(this),n=a(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(0),o=n(306);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==o},{toISOString:o})},function(t,e,n){"use strict";var r=n(1),o=n(105).start,i=Math.abs,a=Date.prototype,u=a.getTime,c=a.toISOString;t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=c.call(new Date(-50000000000001))}))||!r((function(){c.call(new Date(NaN))}))?function(){if(!isFinite(u.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+o(i(t),n?6:4,0)+"-"+o(this.getUTCMonth()+1,2,0)+"-"+o(this.getUTCDate(),2,0)+"T"+o(this.getUTCHours(),2,0)+":"+o(this.getUTCMinutes(),2,0)+":"+o(this.getUTCSeconds(),2,0)+"."+o(e,3,0)+"Z"}:c},function(t,e,n){var r=n(15),o=Date.prototype,i=o.toString,a=o.getTime;new Date(NaN)+""!="Invalid Date"&&r(o,"toString",(function(){var t=a.call(this);return t==t?i.call(this):"Invalid Date"}))},function(t,e,n){var r=n(17),o=n(309),i=n(6)("toPrimitive"),a=Date.prototype;i in a||r(a,i,o)},function(t,e,n){"use strict";var r=n(4),o=n(28);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return o(r(this),"number"!==t)}},function(t,e,n){var r=n(0),o=n(26),i=n(1),a=o("JSON","stringify"),u=/[\uD800-\uDFFF]/g,c=/^[\uD800-\uDBFF]$/,s=/^[\uDC00-\uDFFF]$/,f=function(t,e,n){var r=n.charAt(e-1),o=n.charAt(e+1);return c.test(t)&&!s.test(o)||s.test(t)&&!c.test(r)?"\\u"+t.charCodeAt(0).toString(16):t},l=i((function(){return'"\\udf06\\ud834"'!==a("\udf06\ud834")||'"\\udead"'!==a("\udead")}));a&&r({target:"JSON",stat:!0,forced:l},{stringify:function(t,e,n){var r=a.apply(null,arguments);return"string"==typeof r?r.replace(u,f):r}})},function(t,e,n){var r=n(2);n(31)(r.JSON,"JSON",!0)},function(t,e,n){"use strict";var r,o,i,a,u=n(0),c=n(29),s=n(2),f=n(26),l=n(143),h=n(15),p=n(51),y=n(31),d=n(49),v=n(3),g=n(20),m=n(42),b=n(25),w=n(88),_=n(48),x=n(69),k=n(34),S=n(109).set,A=n(145),O=n(146),E=n(313),P=n(110),j=n(147),R=n(18),T=n(57),M=n(6),I=n(98),C=M("species"),L="Promise",D=R.get,F=R.set,B=R.getterFor(L),N=l,U=s.TypeError,z=s.document,W=s.process,Y=f("fetch"),G=P.f,H=G,q="process"==b(W),V=!!(z&&z.createEvent&&s.dispatchEvent),X=T(L,(function(){if(!(w(N)!==String(N))){if(66===I)return!0;if(!q&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!N.prototype.finally)return!0;if(I>=51&&/native code/.test(N))return!1;var t=N.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[C]=e,!(t.then((function(){}))instanceof e)})),K=X||!x((function(t){N.all(t).catch((function(){}))})),Q=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},J=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;A((function(){for(var o=e.value,i=1==e.state,a=0;r.length>a;){var u,c,s,f=r[a++],l=i?f.ok:f.fail,h=f.resolve,p=f.reject,y=f.domain;try{l?(i||(2===e.rejection&&et(t,e),e.rejection=1),!0===l?u=o:(y&&y.enter(),u=l(o),y&&(y.exit(),s=!0)),u===f.promise?p(U("Promise-chain cycle")):(c=Q(u))?c.call(u,h,p):h(u)):p(o)}catch(t){y&&!s&&y.exit(),p(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&$(t,e)}))}},Z=function(t,e,n){var r,o;V?((r=z.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),s.dispatchEvent(r)):r={promise:e,reason:n},(o=s["on"+t])?o(r):"unhandledrejection"===t&&E("Unhandled promise rejection",n)},$=function(t,e){S.call(s,(function(){var n,r=e.value;if(tt(e)&&(n=j((function(){q?W.emit("unhandledRejection",r,t):Z("unhandledrejection",t,r)})),e.rejection=q||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){S.call(s,(function(){q?W.emit("rejectionHandled",t):Z("rejectionhandled",t,e.value)}))},nt=function(t,e,n,r){return function(o){t(e,n,o,r)}},rt=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,J(t,e,!0))},ot=function t(e,n,r,o){if(!n.done){n.done=!0,o&&(n=o);try{if(e===r)throw U("Promise can't be resolved itself");var i=Q(r);i?A((function(){var o={done:!1};try{i.call(r,nt(t,e,o,n),nt(rt,e,o,n))}catch(t){rt(e,o,t,n)}})):(n.value=r,n.state=1,J(e,n,!1))}catch(t){rt(e,{done:!1},t,n)}}};X&&(N=function(t){m(this,N,L),g(t),r.call(this);var e=D(this);try{t(nt(ot,this,e),nt(rt,this,e))}catch(t){rt(this,e,t)}},(r=function(t){F(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(N.prototype,{then:function(t,e){var n=B(this),r=G(k(this,N));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=q?W.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&J(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=D(t);this.promise=t,this.resolve=nt(ot,t,e),this.reject=nt(rt,t,e)},P.f=G=function(t){return t===N||t===i?new o(t):H(t)},c||"function"!=typeof l||(a=l.prototype.then,h(l.prototype,"then",(function(t,e){var n=this;return new N((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof Y&&u({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return O(N,Y.apply(s,arguments))}}))),u({global:!0,wrap:!0,forced:X},{Promise:N}),y(N,L,!1,!0),d(L),i=f(L),u({target:L,stat:!0,forced:X},{reject:function(t){var e=G(this);return e.reject.call(void 0,t),e.promise}}),u({target:L,stat:!0,forced:c||X},{resolve:function(t){return O(c&&this===i?N:this,t)}}),u({target:L,stat:!0,forced:K},{all:function(t){var e=this,n=G(e),r=n.resolve,o=n.reject,i=j((function(){var n=g(e.resolve),i=[],a=0,u=1;_(t,(function(t){var c=a++,s=!1;i.push(void 0),u++,n.call(e,t).then((function(t){s||(s=!0,i[c]=t,--u||r(i))}),o)})),--u||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=G(e),r=n.reject,o=j((function(){var o=g(e.resolve);_(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(t,e,n){var r=n(2);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e,n){"use strict";var r=n(0),o=n(20),i=n(110),a=n(147),u=n(48);r({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=i.f(e),r=n.resolve,c=n.reject,s=a((function(){var n=o(e.resolve),i=[],a=0,c=1;u(t,(function(t){var o=a++,u=!1;i.push(void 0),c++,n.call(e,t).then((function(t){u||(u=!0,i[o]={status:"fulfilled",value:t},--c||r(i))}),(function(t){u||(u=!0,i[o]={status:"rejected",reason:t},--c||r(i))}))})),--c||r(i)}));return s.error&&c(s.value),n.promise}})},function(t,e,n){"use strict";var r=n(0),o=n(29),i=n(143),a=n(1),u=n(26),c=n(34),s=n(146),f=n(15);r({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,u("Promise")),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then((function(){return n}))}:t,n?function(n){return s(e,t()).then((function(){throw n}))}:t)}}),o||"function"!=typeof i||i.prototype.finally||f(i.prototype,"finally",u("Promise").prototype.finally)},function(t,e,n){"use strict";var r=n(83),o=n(148);t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},function(t,e,n){"use strict";var r=n(83),o=n(148);t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},function(t,e,n){"use strict";var r,o=n(2),i=n(51),a=n(45),u=n(83),c=n(149),s=n(3),f=n(18).enforce,l=n(117),h=!o.ActiveXObject&&"ActiveXObject"in o,p=Object.isExtensible,y=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},d=t.exports=u("WeakMap",y,c);if(l&&h){r=c.getConstructor(y,"WeakMap",!0),a.REQUIRED=!0;var v=d.prototype,g=v.delete,m=v.has,b=v.get,w=v.set;i(v,{delete:function(t){if(s(t)&&!p(t)){var e=f(this);return e.frozen||(e.frozen=new r),g.call(this,t)||e.frozen.delete(t)}return g.call(this,t)},has:function(t){if(s(t)&&!p(t)){var e=f(this);return e.frozen||(e.frozen=new r),m.call(this,t)||e.frozen.has(t)}return m.call(this,t)},get:function(t){if(s(t)&&!p(t)){var e=f(this);return e.frozen||(e.frozen=new r),m.call(this,t)?b.call(this,t):e.frozen.get(t)}return b.call(this,t)},set:function(t,e){if(s(t)&&!p(t)){var n=f(this);n.frozen||(n.frozen=new r),m.call(this,t)?w.call(this,t,e):n.frozen.set(t,e)}else w.call(this,t,e);return this}})}},function(t,e,n){"use strict";n(83)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(149))},function(t,e,n){"use strict";var r=n(0),o=n(2),i=n(84),a=n(49),u=i.ArrayBuffer;r({global:!0,forced:o.ArrayBuffer!==u},{ArrayBuffer:u}),a("ArrayBuffer")},function(t,e){var n=Math.abs,r=Math.pow,o=Math.floor,i=Math.log,a=Math.LN2;t.exports={pack:function(t,e,u){var c,s,f,l=new Array(u),h=8*u-e-1,p=(1<<h)-1,y=p>>1,d=23===e?r(2,-24)-r(2,-77):0,v=t<0||0===t&&1/t<0?1:0,g=0;for((t=n(t))!=t||t===1/0?(s=t!=t?1:0,c=p):(c=o(i(t)/a),t*(f=r(2,-c))<1&&(c--,f*=2),(t+=c+y>=1?d/f:d*r(2,1-y))*f>=2&&(c++,f/=2),c+y>=p?(s=0,c=p):c+y>=1?(s=(t*f-1)*r(2,e),c+=y):(s=t*r(2,y-1)*r(2,e),c=0));e>=8;l[g++]=255&s,s/=256,e-=8);for(c=c<<e|s,h+=e;h>0;l[g++]=255&c,c/=256,h-=8);return l[--g]|=128*v,l},unpack:function(t,e){var n,o=t.length,i=8*o-e-1,a=(1<<i)-1,u=a>>1,c=i-7,s=o-1,f=t[s--],l=127&f;for(f>>=7;c>0;l=256*l+t[s],s--,c-=8);for(n=l&(1<<-c)-1,l>>=-c,c+=e;c>0;n=256*n+t[s],s--,c-=8);if(0===l)l=1-u;else{if(l===a)return n?NaN:f?-1/0:1/0;n+=r(2,e),l-=u}return(f?-1:1)*n*r(2,l-e)}}},function(t,e,n){var r=n(0),o=n(8);r({target:"ArrayBuffer",stat:!0,forced:!o.NATIVE_ARRAY_BUFFER_VIEWS},{isView:o.isView})},function(t,e,n){"use strict";var r=n(0),o=n(1),i=n(84),a=n(4),u=n(39),c=n(7),s=n(34),f=i.ArrayBuffer,l=i.DataView,h=f.prototype.slice;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o((function(){return!new f(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(void 0!==h&&void 0===e)return h.call(a(this),t);for(var n=a(this).byteLength,r=u(t,n),o=u(void 0===e?n:e,n),i=new(s(this,f))(c(o-r)),p=new l(this),y=new l(i),d=0;r<o;)y.setUint8(d++,p.getUint8(r++));return i}})},function(t,e,n){var r=n(0),o=n(84);r({global:!0,forced:!n(111)},{DataView:o.DataView})},function(t,e,n){n(35)("Int8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){var r=n(27);t.exports=function(t){var e=r(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},function(t,e,n){n(35)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(35)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},function(t,e,n){n(35)("Int16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(35)("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(35)("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(35)("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(35)("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(35)("Float64",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){"use strict";var r=n(112);(0,n(8).exportTypedArrayStaticMethod)("from",n(152),r)},function(t,e,n){"use strict";var r=n(8),o=n(112),i=r.aTypedArrayConstructor;(0,r.exportTypedArrayStaticMethod)("of",(function(){for(var t=0,e=arguments.length,n=new(i(this))(e);e>t;)n[t]=arguments[t++];return n}),o)},function(t,e,n){"use strict";var r=n(8),o=n(131),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",(function(t,e){return o.call(i(this),t,e,arguments.length>2?arguments[2]:void 0)}))},function(t,e,n){"use strict";var r=n(8),o=n(13).every,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(8),o=n(99),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(t){return o.apply(i(this),arguments)}))},function(t,e,n){"use strict";var r=n(8),o=n(13).filter,i=n(34),a=r.aTypedArray,u=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("filter",(function(t){for(var e=o(a(this),t,arguments.length>1?arguments[1]:void 0),n=i(this,this.constructor),r=0,c=e.length,s=new(u(n))(c);c>r;)s[r]=e[r++];return s}))},function(t,e,n){"use strict";var r=n(8),o=n(13).find,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(8),o=n(13).findIndex,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(8),o=n(13).forEach,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(t){o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(8),o=n(56).includes,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(8),o=n(56).indexOf,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(2),o=n(8),i=n(72),a=n(6)("iterator"),u=r.Uint8Array,c=i.values,s=i.keys,f=i.entries,l=o.aTypedArray,h=o.exportTypedArrayMethod,p=u&&u.prototype[a],y=!!p&&("values"==p.name||null==p.name),d=function(){return c.call(l(this))};h("entries",(function(){return f.call(l(this))})),h("keys",(function(){return s.call(l(this))})),h("values",d,!y),h(a,d,!y)},function(t,e,n){"use strict";var r=n(8),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=[].join;i("join",(function(t){return a.apply(o(this),arguments)}))},function(t,e,n){"use strict";var r=n(8),o=n(134),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(t){return o.apply(i(this),arguments)}))},function(t,e,n){"use strict";var r=n(8),o=n(13).map,i=n(34),a=r.aTypedArray,u=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(u(i(t,t.constructor)))(e)}))}))},function(t,e,n){"use strict";var r=n(8),o=n(71).left,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(t){return o(i(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(8),o=n(71).right,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(t){return o(i(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(8),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=Math.floor;i("reverse",(function(){for(var t,e=o(this).length,n=a(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this}))},function(t,e,n){"use strict";var r=n(8),o=n(7),i=n(151),a=n(10),u=n(1),c=r.aTypedArray;(0,r.exportTypedArrayMethod)("set",(function(t){c(this);var e=i(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=a(t),u=o(r.length),s=0;if(u+e>n)throw RangeError("Wrong length");for(;s<u;)this[e+s]=r[s++]}),u((function(){new Int8Array(1).set({})})))},function(t,e,n){"use strict";var r=n(8),o=n(34),i=n(1),a=r.aTypedArray,u=r.aTypedArrayConstructor,c=r.exportTypedArrayMethod,s=[].slice;c("slice",(function(t,e){for(var n=s.call(a(this),t,e),r=o(this,this.constructor),i=0,c=n.length,f=new(u(r))(c);c>i;)f[i]=n[i++];return f}),i((function(){new Int8Array(1).slice()})))},function(t,e,n){"use strict";var r=n(8),o=n(13).some,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(8),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=[].sort;i("sort",(function(t){return a.call(o(this),t)}))},function(t,e,n){"use strict";var r=n(8),o=n(7),i=n(39),a=n(34),u=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(t,e){var n=u(this),r=n.length,c=i(t,r);return new(a(n,n.constructor))(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,o((void 0===e?r:i(e,r))-c))}))},function(t,e,n){"use strict";var r=n(2),o=n(8),i=n(1),a=r.Int8Array,u=o.aTypedArray,c=o.exportTypedArrayMethod,s=[].toLocaleString,f=[].slice,l=!!a&&i((function(){s.call(new a(1))}));c("toLocaleString",(function(){return s.apply(l?f.call(u(this)):u(this),arguments)}),i((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!i((function(){a.prototype.toLocaleString.call([1,2])})))},function(t,e,n){"use strict";var r=n(8).exportTypedArrayMethod,o=n(1),i=n(2).Uint8Array,a=i&&i.prototype||{},u=[].toString,c=[].join;o((function(){u.call({})}))&&(u=function(){return c.call(this)});var s=a.toString!=u;r("toString",u,s)},function(t,e,n){var r=n(0),o=n(26),i=n(20),a=n(4),u=n(1),c=o("Reflect","apply"),s=Function.apply;r({target:"Reflect",stat:!0,forced:!u((function(){c((function(){}))}))},{apply:function(t,e,n){return i(t),a(n),c?c(t,e,n):s.call(t,e,n)}})},function(t,e,n){var r=n(0),o=n(26),i=n(20),a=n(4),u=n(3),c=n(32),s=n(129),f=n(1),l=o("Reflect","construct"),h=f((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),p=!f((function(){l((function(){}))})),y=h||p;r({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(t,e){i(t),a(e);var n=arguments.length<3?t:i(arguments[2]);if(p&&!h)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(s.apply(t,r))}var o=n.prototype,f=c(u(o)?o:Object.prototype),y=Function.apply.call(t,f,e);return u(y)?y:f}})},function(t,e,n){var r=n(0),o=n(5),i=n(4),a=n(28),u=n(9);r({target:"Reflect",stat:!0,forced:n(1)((function(){Reflect.defineProperty(u.f({},1,{value:1}),1,{value:2})})),sham:!o},{defineProperty:function(t,e,n){i(t);var r=a(e,!0);i(n);try{return u.f(t,r,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),o=n(4),i=n(14).f;r({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){var r=n(0),o=n(3),i=n(4),a=n(11),u=n(14),c=n(30);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,s,f=arguments.length<3?e:arguments[2];return i(e)===f?e[n]:(r=u.f(e,n))?a(r,"value")?r.value:void 0===r.get?void 0:r.get.call(f):o(s=c(e))?t(s,n,f):void 0}})},function(t,e,n){var r=n(0),o=n(5),i=n(4),a=n(14);r({target:"Reflect",stat:!0,sham:!o},{getOwnPropertyDescriptor:function(t,e){return a.f(i(t),e)}})},function(t,e,n){var r=n(0),o=n(4),i=n(30);r({target:"Reflect",stat:!0,sham:!n(97)},{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){n(0)({target:"Reflect",stat:!0},{has:function(t,e){return e in t}})},function(t,e,n){var r=n(0),o=n(4),i=Object.isExtensible;r({target:"Reflect",stat:!0},{isExtensible:function(t){return o(t),!i||i(t)}})},function(t,e,n){n(0)({target:"Reflect",stat:!0},{ownKeys:n(90)})},function(t,e,n){var r=n(0),o=n(26),i=n(4);r({target:"Reflect",stat:!0,sham:!n(60)},{preventExtensions:function(t){i(t);try{var e=o("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),o=n(4),i=n(3),a=n(11),u=n(1),c=n(9),s=n(14),f=n(30),l=n(38);r({target:"Reflect",stat:!0,forced:u((function(){var t=c.f({},"a",{configurable:!0});return!1!==Reflect.set(f(t),"a",1,t)}))},{set:function t(e,n,r){var u,h,p=arguments.length<4?e:arguments[3],y=s.f(o(e),n);if(!y){if(i(h=f(e)))return t(h,n,r,p);y=l(0)}if(a(y,"value")){if(!1===y.writable||!i(p))return!1;if(u=s.f(p,n)){if(u.get||u.set||!1===u.writable)return!1;u.value=r,c.f(p,n,u)}else c.f(p,n,l(0,r));return!0}return void 0!==y.set&&(y.set.call(p,r),!0)}})},function(t,e,n){var r=n(0),o=n(4),i=n(128),a=n(47);a&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){o(t),i(e);try{return a(t,e),!0}catch(t){return!1}}})},function(t,e,n){n(374),n(375),n(376),n(377),n(378),n(379),n(382),n(155);var r=n(55);t.exports=r},function(t,e,n){var r=n(2),o=n(153),i=n(133),a=n(17);for(var u in o){var c=r[u],s=c&&c.prototype;if(s&&s.forEach!==i)try{a(s,"forEach",i)}catch(t){s.forEach=i}}},function(t,e,n){var r=n(2),o=n(153),i=n(72),a=n(17),u=n(6),c=u("iterator"),s=u("toStringTag"),f=i.values;for(var l in o){var h=r[l],p=h&&h.prototype;if(p){if(p[c]!==f)try{a(p,c,f)}catch(t){p[c]=f}if(p[s]||a(p,s,l),o[l])for(var y in i)if(p[y]!==i[y])try{a(p,y,i[y])}catch(t){p[y]=i[y]}}}},function(t,e,n){var r=n(0),o=n(2),i=n(109);r({global:!0,bind:!0,enumerable:!0,forced:!o.setImmediate||!o.clearImmediate},{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){var r=n(0),o=n(2),i=n(145),a=n(25),u=o.process,c="process"==a(u);r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=c&&u.domain;i(e?e.bind(t):t)}})},function(t,e,n){var r=n(0),o=n(2),i=n(70),a=[].slice,u=function(t){return function(e,n){var r=arguments.length>2,o=r?a.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,o)}:e,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(i)},{setTimeout:u(o.setTimeout),setInterval:u(o.setInterval)})},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(137);var o,i=n(0),a=n(5),u=n(154),c=n(2),s=n(94),f=n(15),l=n(42),h=n(11),p=n(124),y=n(130),d=n(73).codeAt,v=n(380),g=n(31),m=n(155),b=n(18),w=c.URL,_=m.URLSearchParams,x=m.getState,k=b.set,S=b.getterFor("URL"),A=Math.floor,O=Math.pow,E=/[A-Za-z]/,P=/[\d+\-.A-Za-z]/,j=/\d/,R=/^(0x|0X)/,T=/^[0-7]+$/,M=/^\d+$/,I=/^[\dA-Fa-f]+$/,C=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,L=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,D=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,F=/[\u0009\u000A\u000D]/g,B=function(t,e){var n,r,o;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=U(e.slice(1,-1))))return"Invalid host";t.host=n}else if(X(t)){if(e=v(e),C.test(e))return"Invalid host";if(null===(n=N(e)))return"Invalid host";t.host=n}else{if(L.test(e))return"Invalid host";for(n="",r=y(e),o=0;o<r.length;o++)n+=q(r[o],W);t.host=n}},N=function(t){var e,n,r,o,i,a,u,c=t.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(e=c.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(o=c[r]))return t;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=R.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?M:8==i?T:I).test(o))return t;a=parseInt(o,i)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=O(256,5-e))return null}else if(a>255)return null;for(u=n.pop(),r=0;r<n.length;r++)u+=n[r]*O(256,3-r);return u},U=function(t){var e,n,r,o,i,a,u,c=[0,0,0,0,0,0,0,0],s=0,f=null,l=0,h=function(){return t.charAt(l)};if(":"==h()){if(":"!=t.charAt(1))return;l+=2,f=++s}for(;h();){if(8==s)return;if(":"!=h()){for(e=n=0;n<4&&I.test(h());)e=16*e+parseInt(h(),16),l++,n++;if("."==h()){if(0==n)return;if(l-=n,s>6)return;for(r=0;h();){if(o=null,r>0){if(!("."==h()&&r<4))return;l++}if(!j.test(h()))return;for(;j.test(h());){if(i=parseInt(h(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;l++}c[s]=256*c[s]+o,2!=++r&&4!=r||s++}if(4!=r)return;break}if(":"==h()){if(l++,!h())return}else if(h())return;c[s++]=e}else{if(null!==f)return;l++,f=++s}}if(null!==f)for(a=s-f,s=7;0!=s&&a>0;)u=c[s],c[s--]=c[f+a-1],c[f+--a]=u;else if(8!=s)return;return c},z=function(t){var e,n,o,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=A(t/256);return e.join(".")}if("object"==r(t)){for(e="",o=function(t){for(var e=null,n=1,r=null,o=0,i=0;i<8;i++)0!==t[i]?(o>n&&(e=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(e=r,n=o),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),o===n?(e+=n?":":"::",i=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},W={},Y=p({},W,{" ":1,'"':1,"<":1,">":1,"`":1}),G=p({},Y,{"#":1,"?":1,"{":1,"}":1}),H=p({},G,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),q=function(t,e){var n=d(t,0);return n>32&&n<127&&!h(e,t)?t:encodeURIComponent(t)},V={ftp:21,file:null,http:80,https:443,ws:80,wss:443},X=function(t){return h(V,t.scheme)},K=function(t){return""!=t.username||""!=t.password},Q=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},J=function(t,e){var n;return 2==t.length&&E.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},Z=function(t){var e;return t.length>1&&J(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},$=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&J(e[0],!0)||e.pop()},tt=function(t){return"."===t||"%2e"===t.toLowerCase()},et={},nt={},rt={},ot={},it={},at={},ut={},ct={},st={},ft={},lt={},ht={},pt={},yt={},dt={},vt={},gt={},mt={},bt={},wt={},_t={},xt=function(t,e,n,r){var i,a,u,c,s,f=n||et,l=0,p="",d=!1,v=!1,g=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(D,"")),e=e.replace(F,""),i=y(e);l<=i.length;){switch(a=i[l],f){case et:if(!a||!E.test(a)){if(n)return"Invalid scheme";f=rt;continue}p+=a.toLowerCase(),f=nt;break;case nt:if(a&&(P.test(a)||"+"==a||"-"==a||"."==a))p+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";p="",f=rt,l=0;continue}if(n&&(X(t)!=h(V,p)||"file"==p&&(K(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=p,n)return void(X(t)&&V[t.scheme]==t.port&&(t.port=null));p="","file"==t.scheme?f=yt:X(t)&&r&&r.scheme==t.scheme?f=ot:X(t)?f=ct:"/"==i[l+1]?(f=it,l++):(t.cannotBeABaseURL=!0,t.path.push(""),f=bt)}break;case rt:if(!r||r.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==a){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,f=_t;break}f="file"==r.scheme?yt:at;continue;case ot:if("/"!=a||"/"!=i[l+1]){f=at;continue}f=st,l++;break;case it:if("/"==a){f=ft;break}f=mt;continue;case at:if(t.scheme=r.scheme,a==o)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==a||"\\"==a&&X(t))f=ut;else if("?"==a)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",f=wt;else{if("#"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),f=mt;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",f=_t}break;case ut:if(!X(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,f=mt;continue}f=ft}else f=st;break;case ct:if(f=st,"/"!=a||"/"!=p.charAt(l+1))continue;l++;break;case st:if("/"!=a&&"\\"!=a){f=ft;continue}break;case ft:if("@"==a){d&&(p="%40"+p),d=!0,u=y(p);for(var m=0;m<u.length;m++){var b=u[m];if(":"!=b||g){var w=q(b,H);g?t.password+=w:t.username+=w}else g=!0}p=""}else if(a==o||"/"==a||"?"==a||"#"==a||"\\"==a&&X(t)){if(d&&""==p)return"Invalid authority";l-=y(p).length+1,p="",f=lt}else p+=a;break;case lt:case ht:if(n&&"file"==t.scheme){f=vt;continue}if(":"!=a||v){if(a==o||"/"==a||"?"==a||"#"==a||"\\"==a&&X(t)){if(X(t)&&""==p)return"Invalid host";if(n&&""==p&&(K(t)||null!==t.port))return;if(c=B(t,p))return c;if(p="",f=gt,n)return;continue}"["==a?v=!0:"]"==a&&(v=!1),p+=a}else{if(""==p)return"Invalid host";if(c=B(t,p))return c;if(p="",f=pt,n==ht)return}break;case pt:if(!j.test(a)){if(a==o||"/"==a||"?"==a||"#"==a||"\\"==a&&X(t)||n){if(""!=p){var _=parseInt(p,10);if(_>65535)return"Invalid port";t.port=X(t)&&_===V[t.scheme]?null:_,p=""}if(n)return;f=gt;continue}return"Invalid port"}p+=a;break;case yt:if(t.scheme="file","/"==a||"\\"==a)f=dt;else{if(!r||"file"!=r.scheme){f=mt;continue}if(a==o)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==a)t.host=r.host,t.path=r.path.slice(),t.query="",f=wt;else{if("#"!=a){Z(i.slice(l).join(""))||(t.host=r.host,t.path=r.path.slice(),$(t)),f=mt;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",f=_t}}break;case dt:if("/"==a||"\\"==a){f=vt;break}r&&"file"==r.scheme&&!Z(i.slice(l).join(""))&&(J(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),f=mt;continue;case vt:if(a==o||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&J(p))f=mt;else if(""==p){if(t.host="",n)return;f=gt}else{if(c=B(t,p))return c;if("localhost"==t.host&&(t.host=""),n)return;p="",f=gt}continue}p+=a;break;case gt:if(X(t)){if(f=mt,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=o&&(f=mt,"/"!=a))continue}else t.fragment="",f=_t;else t.query="",f=wt;break;case mt:if(a==o||"/"==a||"\\"==a&&X(t)||!n&&("?"==a||"#"==a)){if(".."===(s=(s=p).toLowerCase())||"%2e."===s||".%2e"===s||"%2e%2e"===s?($(t),"/"==a||"\\"==a&&X(t)||t.path.push("")):tt(p)?"/"==a||"\\"==a&&X(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&J(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="","file"==t.scheme&&(a==o||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",f=wt):"#"==a&&(t.fragment="",f=_t)}else p+=q(a,G);break;case bt:"?"==a?(t.query="",f=wt):"#"==a?(t.fragment="",f=_t):a!=o&&(t.path[0]+=q(a,W));break;case wt:n||"#"!=a?a!=o&&("'"==a&&X(t)?t.query+="%27":t.query+="#"==a?"%23":q(a,W)):(t.fragment="",f=_t);break;case _t:a!=o&&(t.fragment+=q(a,Y))}l++}},kt=function(t){var e,n,r=l(this,kt,"URL"),o=arguments.length>1?arguments[1]:void 0,i=String(t),u=k(r,{type:"URL"});if(void 0!==o)if(o instanceof kt)e=S(o);else if(n=xt(e={},String(o)))throw TypeError(n);if(n=xt(u,i,null,e))throw TypeError(n);var c=u.searchParams=new _,s=x(c);s.updateSearchParams(u.query),s.updateURL=function(){u.query=String(c)||null},a||(r.href=At.call(r),r.origin=Ot.call(r),r.protocol=Et.call(r),r.username=Pt.call(r),r.password=jt.call(r),r.host=Rt.call(r),r.hostname=Tt.call(r),r.port=Mt.call(r),r.pathname=It.call(r),r.search=Ct.call(r),r.searchParams=Lt.call(r),r.hash=Dt.call(r))},St=kt.prototype,At=function(){var t=S(this),e=t.scheme,n=t.username,r=t.password,o=t.host,i=t.port,a=t.path,u=t.query,c=t.fragment,s=e+":";return null!==o?(s+="//",K(t)&&(s+=n+(r?":"+r:"")+"@"),s+=z(o),null!==i&&(s+=":"+i)):"file"==e&&(s+="//"),s+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==u&&(s+="?"+u),null!==c&&(s+="#"+c),s},Ot=function(){var t=S(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&X(t)?e+"://"+z(t.host)+(null!==n?":"+n:""):"null"},Et=function(){return S(this).scheme+":"},Pt=function(){return S(this).username},jt=function(){return S(this).password},Rt=function(){var t=S(this),e=t.host,n=t.port;return null===e?"":null===n?z(e):z(e)+":"+n},Tt=function(){var t=S(this).host;return null===t?"":z(t)},Mt=function(){var t=S(this).port;return null===t?"":String(t)},It=function(){var t=S(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Ct=function(){var t=S(this).query;return t?"?"+t:""},Lt=function(){return S(this).searchParams},Dt=function(){var t=S(this).fragment;return t?"#"+t:""},Ft=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(a&&s(St,{href:Ft(At,(function(t){var e=S(this),n=String(t),r=xt(e,n);if(r)throw TypeError(r);x(e.searchParams).updateSearchParams(e.query)})),origin:Ft(Ot),protocol:Ft(Et,(function(t){var e=S(this);xt(e,String(t)+":",et)})),username:Ft(Pt,(function(t){var e=S(this),n=y(String(t));if(!Q(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=q(n[r],H)}})),password:Ft(jt,(function(t){var e=S(this),n=y(String(t));if(!Q(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=q(n[r],H)}})),host:Ft(Rt,(function(t){var e=S(this);e.cannotBeABaseURL||xt(e,String(t),lt)})),hostname:Ft(Tt,(function(t){var e=S(this);e.cannotBeABaseURL||xt(e,String(t),ht)})),port:Ft(Mt,(function(t){var e=S(this);Q(e)||(""==(t=String(t))?e.port=null:xt(e,t,pt))})),pathname:Ft(It,(function(t){var e=S(this);e.cannotBeABaseURL||(e.path=[],xt(e,t+"",gt))})),search:Ft(Ct,(function(t){var e=S(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",xt(e,t,wt)),x(e.searchParams).updateSearchParams(e.query)})),searchParams:Ft(Lt),hash:Ft(Dt,(function(t){var e=S(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",xt(e,t,_t)):e.fragment=null}))}),f(St,"toJSON",(function(){return At.call(this)}),{enumerable:!0}),f(St,"toString",(function(){return At.call(this)}),{enumerable:!0}),w){var Bt=w.createObjectURL,Nt=w.revokeObjectURL;Bt&&f(kt,"createObjectURL",(function(t){return Bt.apply(w,arguments)})),Nt&&f(kt,"revokeObjectURL",(function(t){return Nt.apply(w,arguments)}))}g(kt,"URL"),i({global:!0,forced:!u,sham:!a},{URL:kt})},function(t,e,n){"use strict";var r=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",a=Math.floor,u=String.fromCharCode,c=function(t){return t+22+75*(t<26)},s=function(t,e,n){var r=0;for(t=n?a(t/700):t>>1,t+=a(t/e);t>455;r+=36)t=a(t/35);return a(r+36*t/(t+38))},f=function(t){var e,n,r=[],o=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var o=t.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&o)<<10)+(1023&i)+65536):(e.push(o),n--)}else e.push(o)}return e}(t)).length,f=128,l=0,h=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(u(n));var p=r.length,y=p;for(p&&r.push("-");y<o;){var d=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=f&&n<d&&(d=n);var v=y+1;if(d-f>a((2147483647-l)/v))throw RangeError(i);for(l+=(d-f)*v,f=d,e=0;e<t.length;e++){if((n=t[e])<f&&++l>2147483647)throw RangeError(i);if(n==f){for(var g=l,m=36;;m+=36){var b=m<=h?1:m>=h+26?26:m-h;if(g<b)break;var w=g-b,_=36-b;r.push(u(c(b+w%_))),g=a(w/_)}r.push(u(c(g))),h=s(l,v,y==p),l=0,++y}}++l,++f}return r.join("")};t.exports=function(t){var e,n,i=[],a=t.toLowerCase().replace(o,".").split(".");for(e=0;e<a.length;e++)n=a[e],i.push(r.test(n)?"xn--"+f(n):n);return i.join(".")}},function(t,e,n){var r=n(4),o=n(62);t.exports=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},function(t,e,n){"use strict";n(0)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(t,e,n){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=function(t){"use strict";var n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n,r){var o=e&&e.prototype instanceof l?e:l,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=w(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function l(){}function h(){}function p(){}var y={};y[i]=function(){return this};var d=Object.getPrototypeOf,v=d&&d(d(S([])));v&&v!==n&&r.call(v,i)&&(y=v);var g=p.prototype=l.prototype=Object.create(y);function m(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function b(t,n){var o;this._invoke=function(i,a){function u(){return new n((function(o,u){!function o(i,a,u,c){var f=s(t[i],t,a);if("throw"!==f.type){var l=f.arg,h=l.value;return h&&"object"===e(h)&&r.call(h,"__await")?n.resolve(h.__await).then((function(t){o("next",t,u,c)}),(function(t){o("throw",t,u,c)})):n.resolve(h).then((function(t){l.value=t,u(l)}),(function(t){return o("throw",t,u,c)}))}c(f.arg)}(i,a,o,u)}))}return o=o?o.then(u,u):u()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=g.constructor=p,p.constructor=h,p[u]=h.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},m(b.prototype),b.prototype[a]=function(){return this},t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(g),g[u]="Generator",g[i]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}("object"===e(t)?t.exports:{});try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(384)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.r(e),n.d(e,"polyfill",(function(){return c})),n.d(e,"create",(function(){return Dh})),n.d(e,"Model",(function(){return bv})),n.d(e,"Layer",(function(){return Pu})),n.d(e,"EventMap",(function(){return wl})),n.d(e,"NOTHING",(function(){return Ei})),n.d(e,"MODE_VIEW",(function(){return Pi})),n.d(e,"MODE_EDIT",(function(){return ji})),n.d(e,"MODE_SHIFT",(function(){return Ri})),n.d(e,"MAX_UNDO_SIZE",(function(){return Ti})),n.d(e,"DPPX",(function(){return Mi})),n.d(e,"GESTURES",(function(){return Ii})),n.d(e,"KEYEVENTS",(function(){return Ci})),n.d(e,"DEFAULT",(function(){return Li})),n.d(e,"Component",(function(){return Pa})),n.d(e,"ContainerAbstract",(function(){return wu})),n.d(e,"Container",(function(){return _s})),n.d(e,"RootContainer",(function(){return Ml})),n.d(e,"Shape",(function(){return Fu})),n.d(e,"Line",(function(){return Jh})),n.d(e,"Ellipse",(function(){return ip})),n.d(e,"Rect",(function(){return Cc})),n.d(e,"Polygon",(function(){return yp})),n.d(e,"Polyline",(function(){return kp})),n.d(e,"Ruler",(function(){return kc})),n.d(e,"ImageView",(function(){return Ip})),n.d(e,"GifView",(function(){return $p})),n.d(e,"AudioPlayer",(function(){return sy})),n.d(e,"Text",(function(){return gy})),n.d(e,"Group",(function(){return Cs})),n.d(e,"LocalRef",(function(){return Ey})),n.d(e,"GlobalRef",(function(){return qy})),n.d(e,"InfoWindow",(function(){return Xu})),n.d(e,"HTMLOverlayElement",(function(){return Up})),n.d(e,"HTMLOverlayContainer",(function(){return Ly})),n.d(e,"Path",(function(){return td})),n.d(e,"Triangle",(function(){return cd})),n.d(e,"Donut",(function(){return md})),n.d(e,"Star",(function(){return Pd})),n.d(e,"Variable",(function(){return Fd})),n.d(e,"RectPath",(function(){return eu})),n.d(e,"ValueHolder",(function(){return qd})),n.d(e,"DataSource",(function(){return tv})),n.d(e,"MoveHandle",(function(){return lu})),n.d(e,"Layout",(function(){return Ma})),n.d(e,"AbsoluteLayout",(function(){return Ca})),n.d(e,"CardLayout",(function(){return Fa})),n.d(e,"LinearHorizontalLayout",(function(){return Ua})),n.d(e,"LinearVerticalLayout",(function(){return Ya})),n.d(e,"TableLayout",(function(){return Ha})),n.d(e,"HTMLAbsoluteLayout",(function(){return Va})),n.d(e,"ReferenceMap",(function(){return iv})),n.d(e,"ScriptLoader",(function(){return pv})),n.d(e,"error",(function(){return gi})),n.d(e,"warn",(function(){return mi})),n.d(e,"debug",(function(){return bi})),n.d(e,"Scene",(function(){return Lh})),n.d(e,"version",(function(){return yv})),n.d(e,"FPS",(function(){return mv})),n.d(e,"license",(function(){return wv}));var r={};n.r(r),n.d(r,"insertAt",(function(){return Yr})),n.d(r,"append",(function(){return Gr})),n.d(r,"prepend",(function(){return Hr})),n.d(r,"remove",(function(){return qr})),n.d(r,"getAt",(function(){return Vr})),n.d(r,"forEach",(function(){return Xr})),n.d(r,"indexOf",(function(){return Kr})),n.d(r,"size",(function(){return Qr})),n.d(r,"clear",(function(){return Jr})),n.d(r,"moveForward",(function(){return Zr})),n.d(r,"moveBackward",(function(){return $r})),n.d(r,"moveToHead",(function(){return to})),n.d(r,"moveToTail",(function(){return eo}));var o={};n.r(o),n.d(o,"push",(function(){return no})),n.d(o,"pop",(function(){return ro}));var i={};n.r(i),n.d(i,"intercept",(function(){return wi})),n.d(i,"reset",(function(){return _i})),n.d(i,"clear",(function(){return xi}));var a={};n.r(a),n.d(a,"hide",(function(){return tc})),n.d(a,"show",(function(){return ec}));var u={};n.r(u),n.d(u,"compile",(function(){return pf})),n.d(u,"duplicate",(function(){return Jf})),n.d(u,"select",(function(){return Gn})),n.d(u,"match",(function(){return Wn}));n(159),n(383);var c="done";"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}),"function"!=typeof Object.values&&(Object.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e}),"function"!=typeof Object.keys&&(Object.values=function(t){var e=[];for(var n in t)e.push(n);return e}),"undefined"!=typeof CanvasRenderingContext2D&&null==CanvasRenderingContext2D.prototype.ellipse&&(CanvasRenderingContext2D.prototype.ellipse=function(t,e,n,r,o,i,a,u){this.save(),this.translate(t,e),this.rotate(o),this.translate(-n,-r),this.scale(n,r),this.arc(1,1,1,i,a,u),this.restore()}),function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(console.warn("requestAnimationFrame not supported"),window.requestAnimationFrame=function(e,n){var r=performance.now(),o=Math.max(0,33-(r-t)),i=window.setTimeout((function(){e(r+o)}),o);return t=r+o,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t});var s=function(){this.__data__=[],this.size=0};var f=function(t,e){return t===e||t!=t&&e!=e};var l=function(t,e){for(var n=t.length;n--;)if(f(t[n][0],e))return n;return-1},h=Array.prototype.splice;var p=function(t){var e=this.__data__,n=l(e,t);return!(n<0)&&(n==e.length-1?e.pop():h.call(e,n,1),--this.size,!0)};var y=function(t){var e=this.__data__,n=l(e,t);return n<0?void 0:e[n][1]};var d=function(t){return l(this.__data__,t)>-1};var v=function(t,e){var n=this.__data__,r=l(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function g(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}g.prototype.clear=s,g.prototype.delete=p,g.prototype.get=y,g.prototype.has=d,g.prototype.set=v;var m=g;var b=function(){this.__data__=new m,this.size=0};var w=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var _=function(t){return this.__data__.get(t)};var x=function(t){return this.__data__.has(t)},k=n(12),S=k.a.Symbol,A=Object.prototype,O=A.hasOwnProperty,E=A.toString,P=S?S.toStringTag:void 0;var j=function(t){var e=O.call(t,P),n=t[P];try{t[P]=void 0;var r=!0}catch(t){}var o=E.call(t);return r&&(e?t[P]=n:delete t[P]),o},R=Object.prototype.toString;var T=function(t){return R.call(t)},M=S?S.toStringTag:void 0;var I=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":M&&M in Object(t)?j(t):T(t)};function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var L=function(t){var e=C(t);return null!=t&&("object"==e||"function"==e)};var D,F=function(t){if(!L(t))return!1;var e=I(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},B=k.a["__core-js_shared__"],N=(D=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"";var U=function(t){return!!N&&N in t},z=Function.prototype.toString;var W=function(t){if(null!=t){try{return z.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Y=/^\[object .+?Constructor\]$/,G=Function.prototype,H=Object.prototype,q=G.toString,V=H.hasOwnProperty,X=RegExp("^"+q.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var K=function(t){return!(!L(t)||U(t))&&(F(t)?X:Y).test(W(t))};var Q=function(t,e){return null==t?void 0:t[e]};var J=function(t,e){var n=Q(t,e);return K(n)?n:void 0},Z=J(k.a,"Map"),$=J(Object,"create");var tt=function(){this.__data__=$?$(null):{},this.size=0};var et=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},nt=Object.prototype.hasOwnProperty;var rt=function(t){var e=this.__data__;if($){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return nt.call(e,t)?e[t]:void 0},ot=Object.prototype.hasOwnProperty;var it=function(t){var e=this.__data__;return $?void 0!==e[t]:ot.call(e,t)};var at=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=$&&void 0===e?"__lodash_hash_undefined__":e,this};function ut(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ut.prototype.clear=tt,ut.prototype.delete=et,ut.prototype.get=rt,ut.prototype.has=it,ut.prototype.set=at;var ct=ut;var st=function(){this.size=0,this.__data__={hash:new ct,map:new(Z||m),string:new ct}};function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var lt=function(t){var e=ft(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var ht=function(t,e){var n=t.__data__;return lt(e)?n["string"==typeof e?"string":"hash"]:n.map};var pt=function(t){var e=ht(this,t).delete(t);return this.size-=e?1:0,e};var yt=function(t){return ht(this,t).get(t)};var dt=function(t){return ht(this,t).has(t)};var vt=function(t,e){var n=ht(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function gt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gt.prototype.clear=st,gt.prototype.delete=pt,gt.prototype.get=yt,gt.prototype.has=dt,gt.prototype.set=vt;var mt=gt;var bt=function(t,e){var n=this.__data__;if(n instanceof m){var r=n.__data__;if(!Z||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new mt(r)}return n.set(t,e),this.size=n.size,this};function wt(t){var e=this.__data__=new m(t);this.size=e.size}wt.prototype.clear=b,wt.prototype.delete=w,wt.prototype.get=_,wt.prototype.has=x,wt.prototype.set=bt;var _t=wt;var xt=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var kt=function(t){return this.__data__.has(t)};function St(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new mt;++e<n;)this.add(t[e])}St.prototype.add=St.prototype.push=xt,St.prototype.has=kt;var At=St;var Ot=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1};var Et=function(t,e){return t.has(e)};var Pt=function(t,e,n,r,o,i){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=i.get(t);if(s&&i.get(e))return s==e;var f=-1,l=!0,h=2&n?new At:void 0;for(i.set(t,e),i.set(e,t);++f<u;){var p=t[f],y=e[f];if(r)var d=a?r(y,p,f,e,t,i):r(p,y,f,t,e,i);if(void 0!==d){if(d)continue;l=!1;break}if(h){if(!Ot(e,(function(t,e){if(!Et(h,e)&&(p===t||o(p,t,n,r,i)))return h.push(e)}))){l=!1;break}}else if(p!==y&&!o(p,y,n,r,i)){l=!1;break}}return i.delete(t),i.delete(e),l},jt=k.a.Uint8Array;var Rt=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n};var Tt=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},Mt=S?S.prototype:void 0,It=Mt?Mt.valueOf:void 0;var Ct=function(t,e,n,r,o,i,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new jt(t),new jt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return f(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=Rt;case"[object Set]":var c=1&r;if(u||(u=Tt),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;r|=2,a.set(t,e);var l=Pt(u(t),u(e),r,o,i,a);return a.delete(t),l;case"[object Symbol]":if(It)return It.call(t)==It.call(e)}return!1};var Lt=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},Dt=Array.isArray;var Ft=function(t,e,n){var r=e(t);return Dt(t)?r:Lt(r,n(t))};var Bt=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i};var Nt=function(){return[]},Ut=Object.prototype.propertyIsEnumerable,zt=Object.getOwnPropertySymbols,Wt=zt?function(t){return null==t?[]:(t=Object(t),Bt(zt(t),(function(e){return Ut.call(t,e)})))}:Nt;var Yt=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r};function Gt(t){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ht=function(t){return null!=t&&"object"==Gt(t)};var qt=function(t){return Ht(t)&&"[object Arguments]"==I(t)},Vt=Object.prototype,Xt=Vt.hasOwnProperty,Kt=Vt.propertyIsEnumerable,Qt=qt(function(){return arguments}())?qt:function(t){return Ht(t)&&Xt.call(t,"callee")&&!Kt.call(t,"callee")},Jt=n(36);function Zt(t){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var $t=/^(?:0|[1-9]\d*)$/;var te=function(t,e){var n=Zt(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&$t.test(t))&&t>-1&&t%1==0&&t<e};var ee=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},ne={};ne["[object Float32Array]"]=ne["[object Float64Array]"]=ne["[object Int8Array]"]=ne["[object Int16Array]"]=ne["[object Int32Array]"]=ne["[object Uint8Array]"]=ne["[object Uint8ClampedArray]"]=ne["[object Uint16Array]"]=ne["[object Uint32Array]"]=!0,ne["[object Arguments]"]=ne["[object Array]"]=ne["[object ArrayBuffer]"]=ne["[object Boolean]"]=ne["[object DataView]"]=ne["[object Date]"]=ne["[object Error]"]=ne["[object Function]"]=ne["[object Map]"]=ne["[object Number]"]=ne["[object Object]"]=ne["[object RegExp]"]=ne["[object Set]"]=ne["[object String]"]=ne["[object WeakMap]"]=!1;var re=function(t){return Ht(t)&&ee(t.length)&&!!ne[I(t)]};var oe=function(t){return function(e){return t(e)}},ie=n(37),ae=ie.a&&ie.a.isTypedArray,ue=ae?oe(ae):re,ce=Object.prototype.hasOwnProperty;var se=function(t,e){var n=Dt(t),r=!n&&Qt(t),o=!n&&!r&&Object(Jt.a)(t),i=!n&&!r&&!o&&ue(t),a=n||r||o||i,u=a?Yt(t.length,String):[],c=u.length;for(var s in t)!e&&!ce.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||te(s,c))||u.push(s);return u},fe=Object.prototype;var le=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||fe)};var he=function(t,e){return function(n){return t(e(n))}},pe=he(Object.keys,Object),ye=Object.prototype.hasOwnProperty;var de=function(t){if(!le(t))return pe(t);var e=[];for(var n in Object(t))ye.call(t,n)&&"constructor"!=n&&e.push(n);return e};var ve=function(t){return null!=t&&ee(t.length)&&!F(t)};var ge=function(t){return ve(t)?se(t):de(t)};var me=function(t){return Ft(t,ge,Wt)},be=Object.prototype.hasOwnProperty;var we=function(t,e,n,r,o,i){var a=1&n,u=me(t),c=u.length;if(c!=me(e).length&&!a)return!1;for(var s=c;s--;){var f=u[s];if(!(a?f in e:be.call(e,f)))return!1}var l=i.get(t);if(l&&i.get(e))return l==e;var h=!0;i.set(t,e),i.set(e,t);for(var p=a;++s<c;){var y=t[f=u[s]],d=e[f];if(r)var v=a?r(d,y,f,e,t,i):r(y,d,f,t,e,i);if(!(void 0===v?y===d||o(y,d,n,r,i):v)){h=!1;break}p||(p="constructor"==f)}if(h&&!p){var g=t.constructor,m=e.constructor;g==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m||(h=!1)}return i.delete(t),i.delete(e),h},_e=J(k.a,"DataView"),xe=J(k.a,"Promise"),ke=J(k.a,"Set"),Se=J(k.a,"WeakMap"),Ae=W(_e),Oe=W(Z),Ee=W(xe),Pe=W(ke),je=W(Se),Re=I;(_e&&"[object DataView]"!=Re(new _e(new ArrayBuffer(1)))||Z&&"[object Map]"!=Re(new Z)||xe&&"[object Promise]"!=Re(xe.resolve())||ke&&"[object Set]"!=Re(new ke)||Se&&"[object WeakMap]"!=Re(new Se))&&(Re=function(t){var e=I(t),n="[object Object]"==e?t.constructor:void 0,r=n?W(n):"";if(r)switch(r){case Ae:return"[object DataView]";case Oe:return"[object Map]";case Ee:return"[object Promise]";case Pe:return"[object Set]";case je:return"[object WeakMap]"}return e});var Te=Re,Me=Object.prototype.hasOwnProperty;var Ie=function(t,e,n,r,o,i){var a=Dt(t),u=Dt(e),c=a?"[object Array]":Te(t),s=u?"[object Array]":Te(e),f="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),l="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),h=c==s;if(h&&Object(Jt.a)(t)){if(!Object(Jt.a)(e))return!1;a=!0,f=!1}if(h&&!f)return i||(i=new _t),a||ue(t)?Pt(t,e,n,r,o,i):Ct(t,e,c,n,r,o,i);if(!(1&n)){var p=f&&Me.call(t,"__wrapped__"),y=l&&Me.call(e,"__wrapped__");if(p||y){var d=p?t.value():t,v=y?e.value():e;return i||(i=new _t),o(d,v,n,r,i)}}return!!h&&(i||(i=new _t),we(t,e,n,r,o,i))};var Ce=function t(e,n,r,o,i){return e===n||(null==e||null==n||!Ht(e)&&!Ht(n)?e!=e&&n!=n:Ie(e,n,r,o,t,i))};var Le=function(t,e){return Ce(t,e)},De=function(){try{var t=J(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var Fe=function(t,e,n){"__proto__"==e&&De?De(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Be=Object.prototype.hasOwnProperty;var Ne=function(t,e,n){var r=t[e];Be.call(t,e)&&f(r,n)&&(void 0!==n||e in t)||Fe(t,e,n)};var Ue=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var u=e[i],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),o?Fe(n,u,c):Ne(n,u,c)}return n};var ze=function(t){return t};var We=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Ye=Math.max;var Ge=function(t,e,n){return e=Ye(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=Ye(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=r[o];return u[e]=n(a),We(t,this,u)}};var He=function(t){return function(){return t}},qe=De?function(t,e){return De(t,"toString",{configurable:!0,enumerable:!1,value:He(e),writable:!0})}:ze,Ve=Date.now;var Xe=function(t){var e=0,n=0;return function(){var r=Ve(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(qe);var Ke=function(t,e){return Xe(Ge(t,e,ze),t+"")};function Qe(t){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Je=function(t,e,n){if(!L(n))return!1;var r=Qe(e);return!!("number"==r?ve(n)&&te(e,n.length):"string"==r&&e in n)&&f(n[e],t)};var Ze=function(t){return Ke((function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&Je(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,i)}return e}))};var $e=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},tn=Object.prototype.hasOwnProperty;var en=function(t){if(!L(t))return $e(t);var e=le(t),n=[];for(var r in t)("constructor"!=r||!e&&tn.call(t,r))&&n.push(r);return n};var nn=function(t){return ve(t)?se(t,!0):en(t)},rn=Ze((function(t,e,n,r){Ue(e,nn(e),t,r)})),on=he(Object.getPrototypeOf,Object),an=Function.prototype,un=Object.prototype,cn=an.toString,sn=un.hasOwnProperty,fn=cn.call(Object);var ln=function(t){if(!Ht(t)||"[object Object]"!=I(t))return!1;var e=on(t);if(null===e)return!0;var n=sn.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&cn.call(n)==fn};var hn=function(t){if(!Ht(t))return!1;var e=I(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ln(t)},pn=Ke((function(t,e){try{return We(t,void 0,e)}catch(t){return hn(t)?t:new Error(t)}}));var yn=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o};var dn=function(t,e){return yn(e,(function(e){return t[e]}))},vn=Object.prototype,gn=vn.hasOwnProperty;var mn=function(t,e,n,r){return void 0===t||f(t,vn[n])&&!gn.call(r,n)?e:t},bn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var wn=function(t){return"\\"+bn[t]},_n=/<%=([\s\S]+?)%>/g;var xn=function(t){return function(e){return null==t?void 0:t[e]}}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function kn(t){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Sn=function(t){return"symbol"==kn(t)||Ht(t)&&"[object Symbol]"==I(t)},An=S?S.prototype:void 0,On=An?An.toString:void 0;var En=function t(e){if("string"==typeof e)return e;if(Dt(e))return yn(e,t)+"";if(Sn(e))return On?On.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n};var Pn=function(t){return null==t?"":En(t)},jn=/[&<>"']/g,Rn=RegExp(jn.source);var Tn={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:_n,variable:"",imports:{_:{escape:function(t){return(t=Pn(t))&&Rn.test(t)?t.replace(jn,xn):t}}}},Mn=/\b__p \+= '';/g,In=/\b(__p \+=) '' \+/g,Cn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ln=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dn=/($^)/,Fn=/['\n\r\u2028\u2029\\]/g,Bn=Object.prototype.hasOwnProperty;var Nn=function(t,e,n){var r=Tn.imports._.templateSettings||Tn;n&&Je(t,e,n)&&(e=void 0),t=Pn(t),e=rn({},e,r,mn);var o,i,a=rn({},e.imports,r.imports,mn),u=ge(a),c=dn(a,u),s=0,f=e.interpolate||Dn,l="__p += '",h=RegExp((e.escape||Dn).source+"|"+f.source+"|"+(f===_n?Ln:Dn).source+"|"+(e.evaluate||Dn).source+"|$","g"),p=Bn.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/[\r\n]/g," ")+"\n":"";t.replace(h,(function(e,n,r,a,u,c){return r||(r=a),l+=t.slice(s,c).replace(Fn,wn),n&&(o=!0,l+="' +\n__e("+n+") +\n'"),u&&(i=!0,l+="';\n"+u+";\n__p += '"),r&&(l+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=c+e.length,e})),l+="';\n";var y=Bn.call(e,"variable")&&e.variable;y||(l="with (obj) {\n"+l+"\n}\n"),l=(i?l.replace(Mn,""):l).replace(In,"$1").replace(Cn,"$1;"),l="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var d=pn((function(){return Function(u,p+"return "+l).apply(void 0,c)}));if(d.source=l,hn(d))throw d;return d};function Un(t,e,n,r){var o=e.get("class");return!!o&&(o.split(" ")||[]).indexOf(t.substr(1))>=0}function zn(t,e,n,r){return t==e.get("type")}function Wn(t,e,n,r){if("(all)"==t)return!0;switch(t.charAt(0)){case"#":return function(t,e,n,r){return t.substr(1)==e.get("id")}(t,e);case".":return Un(t,e);case"(":return function(t,e,n,r){switch(t){case"(all)":return!0;case"(self)":return r===e;case"(root)":return!r.parent&&r===e;case"(descendant)":return r!==e;case"(child)":return r===e.parent;default:return!1}}(t,e,0,r);default:return zn(t,e)}}function Yn(t,e,n,r){switch(t){case"(all)":return!0;case"(parent)":return n&&n.parent===e;case"(child)":case"(children)":return n&&n===e.parent;case"(sibling)":case"(siblings)":return n&&n.parent===e.parent&&n!==e;default:return!1}}function Gn(t,e,n){if("(root)"==t)return[e];if("(self)"==t)return n?[n]:[];var r;switch(t.charAt(0)){case"#":var o=e.root.findById(t.substr(1));return o?[o]:[];case".":r=Un;break;case"(":r=Yn;break;default:r=zn}return function t(e,n,r,o,i,a){return e(n,r,o,i)&&a.push(r),r.components&&r.components.forEach((function(r){t(e,n,r,o,i,a)})),a}(r,t,e,n,e,[])}var Hn=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t};var qn=function(t,e){return t&&Ue(e,ge(e),t)};var Vn=function(t,e){return t&&Ue(e,nn(e),t)},Xn=n(157);var Kn=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e};var Qn=function(t,e){return Ue(t,Wt(t),e)},Jn=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Lt(e,Wt(t)),t=on(t);return e}:Nt;var Zn=function(t,e){return Ue(t,Jn(t),e)};var $n=function(t){return Ft(t,nn,Jn)},tr=Object.prototype.hasOwnProperty;var er=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&tr.call(t,"index")&&(n.index=t.index,n.input=t.input),n};var nr=function(t){var e=new t.constructor(t.byteLength);return new jt(e).set(new jt(t)),e};var rr=function(t,e){var n=e?nr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},or=/\w*$/;var ir=function(t){var e=new t.constructor(t.source,or.exec(t));return e.lastIndex=t.lastIndex,e},ar=S?S.prototype:void 0,ur=ar?ar.valueOf:void 0;var cr=function(t){return ur?Object(ur.call(t)):{}};var sr=function(t,e){var n=e?nr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var fr=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return nr(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return rr(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return sr(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return ir(t);case"[object Set]":return new r;case"[object Symbol]":return cr(t)}},lr=Object.create,hr=function(){function t(){}return function(e){if(!L(e))return{};if(lr)return lr(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();var pr=function(t){return"function"!=typeof t.constructor||le(t)?{}:hr(on(t))};var yr=function(t){return Ht(t)&&"[object Map]"==Te(t)},dr=ie.a&&ie.a.isMap,vr=dr?oe(dr):yr;var gr=function(t){return Ht(t)&&"[object Set]"==Te(t)},mr=ie.a&&ie.a.isSet,br=mr?oe(mr):gr,wr={};wr["[object Arguments]"]=wr["[object Array]"]=wr["[object ArrayBuffer]"]=wr["[object DataView]"]=wr["[object Boolean]"]=wr["[object Date]"]=wr["[object Float32Array]"]=wr["[object Float64Array]"]=wr["[object Int8Array]"]=wr["[object Int16Array]"]=wr["[object Int32Array]"]=wr["[object Map]"]=wr["[object Number]"]=wr["[object Object]"]=wr["[object RegExp]"]=wr["[object Set]"]=wr["[object String]"]=wr["[object Symbol]"]=wr["[object Uint8Array]"]=wr["[object Uint8ClampedArray]"]=wr["[object Uint16Array]"]=wr["[object Uint32Array]"]=!0,wr["[object Error]"]=wr["[object Function]"]=wr["[object WeakMap]"]=!1;var _r=function t(e,n,r,o,i,a){var u,c=1&n,s=2&n,f=4&n;if(r&&(u=i?r(e,o,i,a):r(e)),void 0!==u)return u;if(!L(e))return e;var l=Dt(e);if(l){if(u=er(e),!c)return Kn(e,u)}else{var h=Te(e),p="[object Function]"==h||"[object GeneratorFunction]"==h;if(Object(Jt.a)(e))return Object(Xn.a)(e,c);if("[object Object]"==h||"[object Arguments]"==h||p&&!i){if(u=s||p?{}:pr(e),!c)return s?Zn(e,Vn(u,e)):Qn(e,qn(u,e))}else{if(!wr[h])return i?e:{};u=fr(e,h,c)}}a||(a=new _t);var y=a.get(e);if(y)return y;a.set(e,u),br(e)?e.forEach((function(o){u.add(t(o,n,r,o,e,a))})):vr(e)&&e.forEach((function(o,i){u.set(i,t(o,n,r,i,e,a))}));var d=f?s?$n:me:s?keysIn:ge,v=l?void 0:d(e);return Hn(v||e,(function(o,i){v&&(o=e[i=o]),Ne(u,i,t(o,n,r,i,e,a))})),u};var xr=function(t){return _r(t,4)},kr=function(){return k.a.Date.now()},Sr=/^\s+|\s+$/g,Ar=/^[-+]0x[0-9a-f]+$/i,Or=/^0b[01]+$/i,Er=/^0o[0-7]+$/i,Pr=parseInt;var jr=function(t){if("number"==typeof t)return t;if(Sn(t))return NaN;if(L(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=L(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Sr,"");var n=Or.test(t);return n||Er.test(t)?Pr(t.slice(2),n?2:8):Ar.test(t)?NaN:+t},Rr=Math.max,Tr=Math.min;var Mr=function(t,e,n){var r,o,i,a,u,c,s=0,f=!1,l=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=r,i=o;return r=o=void 0,s=e,a=t.apply(i,n)}function y(t){return s=t,u=setTimeout(v,e),f?p(t):a}function d(t){var n=t-c;return void 0===c||n>=e||n<0||l&&t-s>=i}function v(){var t=kr();if(d(t))return g(t);u=setTimeout(v,function(t){var n=e-(t-c);return l?Tr(n,i-(t-s)):n}(t))}function g(t){return u=void 0,h&&r?p(t):(r=o=void 0,a)}function m(){var t=kr(),n=d(t);if(r=arguments,o=this,c=t,n){if(void 0===u)return y(c);if(l)return clearTimeout(u),u=setTimeout(v,e),p(c)}return void 0===u&&(u=setTimeout(v,e)),a}return e=jr(e)||0,L(n)&&(f=!!n.leading,i=(l="maxWait"in n)?Rr(jr(n.maxWait)||0,e):i,h="trailing"in n?!!n.trailing:h),m.cancel=function(){void 0!==u&&clearTimeout(u),s=0,r=c=o=u=void 0},m.flush=function(){return void 0===u?a:g(kr())},m};var Ir=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return L(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Mr(t,e,{leading:r,maxWait:e,trailing:o})};var Cr=function(t){return t?(t=jr(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var Lr=function(t){var e=Cr(t),n=e%1;return e==e?n?e-n:e:0};var Dr=function(t,e){var n;if("function"!=typeof e)throw new TypeError("Expected a function");return t=Lr(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}};var Fr=function(t){return Dr(2,t)},Br=Object.prototype.hasOwnProperty;var Nr=function(t){if(null==t)return!0;if(ve(t)&&(Dt(t)||"string"==typeof t||"function"==typeof t.splice||Object(Jt.a)(t)||ue(t)||Qt(t)))return!t.length;var e=Te(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(le(t))return!de(t).length;for(var n in t)if(Br.call(t,n))return!1;return!0};function Ur(t){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var zr=0;function Wr(t){for(;t&&"object"===Ur(t);){var e=t;for(var n in t){t=t[n];break}if(t===e){t=void 0;break}}return t}function Yr(t,e){return this.__collection__?(-1==(t=this.__collection__.indexOf(e))&&this.__collection__.splice(t,0,e),this):this}function Gr(t){return this.__collection__||(this.__collection__=[]),-1==this.__collection__.indexOf(t)&&this.__collection__.push(t),this}function Hr(t){return this.__collection__||(this.__collection__=[]),-1==this.__collection__.indexOf(t)&&this.__collection__.unshift(t),this}function qr(t){if(!this.__collection__)return this;var e=this.__collection__.indexOf(t);return e>=0&&this.__collection__.splice(e,1),this}function Vr(t){if(this.__collection__)return this.__collection__[t]}function Xr(t,e){this.__collection__&&this.__collection__.forEach(t,e)}function Kr(t){if(this.__collection__)return this.__collection__.indexOf(t)}function Qr(){return this.__collection__?this.__collection__.length:0}function Jr(){this.__collection__=[]}function Zr(t){var e=this.indexOf(t);-1!=e&&0!=e&&(this.__collection__[e]=this.__collection__[e-1],this.__collection__[e-1]=t)}function $r(t){var e=this.indexOf(t);-1!=e&&e!=this.size()-1&&(this.__collection__[e]=this.__collection__[e+1],this.__collection__[e+1]=t)}function to(t){var e=this.indexOf(t);if(-1!=e&&0!=e){var n=this.__collection__.splice(0,e),r=this.__collection__.splice(1);this.__collection__=this.__collection__.concat(n,r)}}function eo(t){var e=this.indexOf(t);if(-1!=e&&e!=this.size()-1){var n=this.__collection__.splice(0,e),r=this.__collection__.splice(1);this.__collection__=n.concat(r,this.__collection__)}}function no(t){throw new Error("Not Implemented Yet")}function ro(t){throw new Error("Not Implemented Yet")}function oo(){}function io(t){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}oo.prototype=r;var ao=/\s+/;function uo(t,e,n,r){if(!n)return!0;if("object"==io(n)){for(var o in n){var i=n[o];t[e].apply(t,[o,i])}return!1}return!ao.test(n)||(n.split(ao).forEach((function(n){return t[e].apply(t,[n].concat(r))})),!1)}var co=["on","off","once","delegate_on","delegate_off","trigger","listenTo"],so={withEvent:function(){var t=this;co.forEach((function(e){return t[e]=so[e]}))},on:function(t,e,n){return uo(this,"on",t,[e,n])&&e?(this._listeners||(this._listeners={}),(this._listeners[t]||(this._listeners[t]=[])).push({callback:e,context:n,ctx:n||this}),this):this},once:function(t,e,n){if(!uo(this,"once",t,[e,n])||!e)return this;var r=this,o=Fr((function(){r.off(t,o),e.apply(r,arguments)}));o._callback=e,this.on(t,o,n)},off:function(t,e,n){if(!this._listeners||!uo(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._listeners=void 0,this;var r;r=t?[t]:Object.keys(this._listeners);for(var o=0;o<r.length;o++){var i=r[o],a=this._listeners[i];if(a){var u=[];if(this._listeners[i]=u,e||n)for(var c=0;c<a.length;c++){var s=a[c];(e&&e!==s.callback&&e!==s.callback._callback||n&&n!==s.context)&&u.push(s)}u.length||delete this._listeners[i]}}return this},delegate_on:function(t){return this._delegators||(this._delegators=new oo),this._delegators.append(t),this},delegate_off:function(t){return this._delegators?(this._delegators.remove(t),this):this},delegate:function(){if(this._delegators&&this._delegators.size()>0&&lo(this._delegators,arguments),!this._listeners)return this;var t=arguments.length-1,e=arguments[t];arguments[t]={origin:e.origin,name:e.name,deliverer:this};var n=this._listeners[e.name],r=this._listeners["(all)"];return n&&fo(n,arguments),r&&fo(r,arguments),this},trigger:function(t){var e=[].slice.call(arguments,1);if(e.push({origin:this,name:t,deliverer:this}),this._delegators&&this._delegators.size()>0&&lo(this._delegators,e),!this._listeners)return this;if(!uo(this,"trigger",t,e))return this;var n=this._listeners[t],r=this._listeners["(all)"];return n&&fo(n,e),r&&fo(r,e),this},stopListening:function(t,e,n){var r=this._listeningTo;if(!r)return this;var o=!e&&!n;for(var i in n||"object"!=io(e)||(n=this),t&&((r={})[t._listenId]=t),r){var a=r[i];a.off(e,n,this),(o||Nr(a._events))&&delete this._listeningTo[i]}return this}};function fo(t,e){t.forEach((function(t){return t.callback.apply(t.ctx,e)}))}function lo(t,e){t.forEach((function(t){return so.delegate.apply(t,e)}))}var ho={listenTo:"on",listenToOnce:"once"};for(var po in ho){var yo=ho[po];so[po]=function(t,e,n){this._listeningTo||(this._listeningTo={});var r=this._listeningTo;return t._listenId||(t._listenId="".concat("l"||"").concat(++zr)),r[t._listenId]=t,n||"object"!=io(e)||(n=this),t[yo](e,n,this),this}}var vo=so;function go(t,e){if(e instanceof Array)e.forEach((function(e){return go(t,e)}));else{if(t.mixedIn=t.hasOwnProperty("mixedIn")?t.mixedIn:[],t.mixingIn=t.hasOwnProperty("mixingIn")?t.mixingIn:[],t.mixedIn.indexOf(e)>=0)return t;if(t.mixingIn.indexOf(e)>=0)throw new Error("found cyclic dependencies between ".concat(t.mixingIn));t.mixingIn.push(e),e.call(t),t.mixingIn.pop(),t.mixedIn.push(e)}return t}var mo={linear:function(t){return t},quad:function(t){return Math.pow(t,2)},circ:function(t){return 1-Math.sin(Math.acos(t))},back:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:1.5};return Math.pow(t,2)*((e.x+1)*t-e.x)},bounce:function(t){for(var e=0,n=1;;e+=n,n/=2)if(t>=(7-4*e)/11)return-Math.pow((11-6*e-11*t)/4,2)+Math.pow(n,2)},elastic:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:1.5};return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e.x/3*t)}};function bo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var wo=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.client=e,this.config=n,this._started=!1;var r=this.config,o=r.delta,i=void 0===o?"linear":o,a=r.options,u=r.ease;"string"==typeof i&&(i=mo[i]),this.delta="out"==u?function(t,e){return function(n){return 1-t(1-n,e)}}(i,a):"inout"==u?function(t,e){return function(n){return n<.5?t(2*n,e)/2:(2-t(2*(1-n),e))/2}}(i,a):i,this.init()}var e,n,r;return e=t,(n=[{key:"dispose",value:function(){this.stop(),delete this.client}},{key:"init",value:function(){}},{key:"start",value:function(){var t=this;if(!this._started){var e=this.config,n=e.duration,r=void 0===n?2e3:n,o=e.delay,i=void 0===o?0:o,a=e.repeat,u=void 0!==a&&a;this._started=!0;var c=0,s=r+i;this._raf=requestAnimationFrame((function e(){if(t._started){0==c&&(c=performance.now(),t.client.touch());var n=performance.now()-c,o=Math.max(n%s-i,0)/r;t.step(t.delta(o)),t.client&&t.client.invalidate(),!(n>=s)||u&&t._started||(t.step(1),t.stop(),c=0),t._started&&(t._raf=requestAnimationFrame(e))}}))}}},{key:"stop",value:function(){this._raf&&cancelAnimationFrame(this._raf),this._raf=null,this._started=!1}},{key:"started",get:function(){return this._started},set:function(t){this.started!=!!t&&(t?this.start():this.stop())}}])&&bo(e.prototype,n),r&&bo(e,r),t}();function _o(t){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ko(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function So(t,e){return!e||"object"!==_o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ao(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Oo(t){return(Oo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Eo(t,e){return(Eo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Po(t){return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ro(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function To(t,e){return!e||"object"!==Po(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mo(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Io(t){return(Io=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Co(t,e){return(Co=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lo(t){return(Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Do(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bo(t,e){return!e||"object"!==Lo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function No(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Uo(t){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zo(t,e){return(zo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wo(t){return(Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Go(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ho(t,e){return!e||"object"!==Wo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qo(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Vo(t){return(Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xo(t,e){return(Xo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ko(t){return(Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zo(t,e){return!e||"object"!==Ko(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function ti(t){return(ti=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ei(t,e){return(ei=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ni(t){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ri(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ii(t,e){return!e||"object"!==ni(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ai(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function ui(t){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ci(t,e){return(ci=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var si={rotation:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Eo(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Oo(e);if(Ao()){var r=Oo(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return So(this,t)});function a(){return xo(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"step",value:function(t){var e=this.config.theta,n=void 0===e?6.28:e;this.client.delta("theta",t*n)}}])&&ko(n.prototype,r),o&&ko(n,o),a}(wo),vibration:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Co(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Io(e);if(Mo()){var r=Io(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return To(this,t)});function a(){return jo(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"step",value:function(t){var e=this.config.theta,n=void 0===e?.2617993877991494:e,r=4*n,o=t*r;t<1/4?o*=-1:t<3/4?o-=2*n:o=r-o,this.client.delta("theta",o)}}])&&Ro(n.prototype,r),o&&Ro(n,o),a}(wo),heartbeat:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zo(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Uo(e);if(No()){var r=Uo(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Bo(this,t)});function a(){return Do(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"step",value:function(t){var e,n=this.config.scale,r=2*((void 0===n?1.3:n)-1);e=t<.5?1+r*t:1+(1-t)*r,this.client.delta("sx",e),this.client.delta("sy",e)}}])&&Fo(n.prototype,r),o&&Fo(n,o),a}(wo),moving:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xo(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Vo(e);if(qo()){var r=Vo(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Ho(this,t)});function a(){return Yo(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"step",value:function(t){var e=this.config,n=e.x,r=void 0===n?0:n,o=e.y,i=void 0===o?0:o;this.client.delta("tx",t*r),this.client.delta("ty",t*i)}}])&&Go(n.prototype,r),o&&Go(n,o),a}(wo),outline:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ei(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=ti(e);if($o()){var r=ti(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Zo(this,t)});function a(){return Qo(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"step",value:function(t){var e=this.config.rideOn,n=this.client;if(e&&n&&n.root){var r=n.center,o=n.root.findById(e);if(o){var i=o.outline(t);r=n.transcoordS2T(r.x,r.y),o&&(n.delta("tx",i.x-r.x),n.delta("ty",i.y-r.y))}}}}])&&Jo(n.prototype,r),o&&Jo(n,o),a}(wo),fade:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ci(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=ui(e);if(ai()){var r=ui(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return ii(this,t)});function a(){return ri(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"step",value:function(t){var e,n=this.config,r=n.startAlpha,o=void 0===r?1:r,i=n.endAlpha,a=void 0===i?0:i,u=Math.max(Math.min(o,a,1),0),c=2*(Math.min(Math.max(o,a,1),1)-u);e=t<.5?c*t:(1-t)*c,this.client.delta("fade",e)}}])&&oi(n.prototype,r),o&&oi(n,o),a}(wo)};var fi={x:1,y:1};function li(t,e,n){var r=e.left,o=void 0===r?0:r,i=e.top,a=void 0===i?0:i,u=e.blurSize,c=void 0===u?0:u,s=e.color,f=void 0===s?"transparent":s,l=n.rootModel.get("scale")||fi;t.shadowOffsetX=o*l.x,t.shadowOffsetY=a*l.y,t.shadowBlur=c*l.x,t.shadowColor=f}var hi={gradation:function(t,e,n){n.type;var r=n.subType,o=n.from,i=n.to,a=n.colors;switch(r){case"linear":var u=e.createLinearGradient(o.x,o.y,i.x,i.y);break;case"radial":u=e.createRadialGradient(o.x,o.y,o.r,i.x,i.y,i.r);break;default:u=e.createLinearGradient(o.x,o.y,i.x,i.y)}a&&(a.forEach((function(t){u.addColorStop(t.endPoint,t.color)})),e.fillStyle=u,e.fill())},shadow:li};"undefined"==typeof window||window;var pi,yi="[ERROR]",di="[WARN]",vi="[DEBUG]",gi=function(){for(var t,e=[],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];r.forEach((function(t){return t&&t.stack&&e.push(t.stack)})),(t=console).error.apply(t,[yi].concat(r,[e.join(" ")]))},mi=function(){for(var t,e=[],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];r.forEach((function(t){return t&&t.stack&&e.push(t.stack)})),(t=console).warn.apply(t,[di].concat(r,[e.join(" ")]))},bi=function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=console).log.apply(t,[vi].concat(n))};function wi(t,e,n){var r=t.__lookupGetter__(e);r?n?t.__defineGetter__(e,(function(){return void 0===this.__cache__[e]&&(this.__cache__[e]=r.call(this)),xr(this.__cache__[e])})):t.__defineGetter__(e,(function(){return void 0===this.__cache__[e]&&(this.__cache__[e]=r.call(this)),this.__cache__[e]})):gi("".concat(e," is not defined in ").concat(t.constructor.name))}function _i(t){t.__cache__={}}function xi(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];0==n.length?t.__cache__={}:n.forEach((function(e){return delete t.__cache__[e]}))}function ki(t){var e=t.duration,n=void 0===e?1e3:e,r=(t.delay,t.step),o=t.delta,i=t.ease,a=t.options,u=t.repeat,c=void 0!==u&&u;"string"==typeof o&&(o=mo[o]),"out"==i?o=function(t,e){return function(n){return 1-t(1-n,e)}}(o,a):"inout"==i&&(o=function(t,e){return function(n){return n<.5?t(2*n,e)/2:(2-t(2*(1-n),e))/2}}(o,a));var s=!1;return{start:function(){var t=this;if(s)return this;s=!0;var e=0;return requestAnimationFrame((function i(){if(s){0==e&&(e=performance.now());var u=(performance.now()-e)/n,f=c?u%1:Math.min(u,1);r(o(f,a)),!(u>=1)||c&&s||(t.stop(),e=0),s&&requestAnimationFrame(i)}})),this},stop:function(){return s=!1,this}}}function Si(t){return(Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ai(t,e,n,r,o){var i=r.alpha,a=void 0===i?1:i,u=o.fillStyle;if(t.globalAlpha*=a,u)if("string"==typeof u)t.fillStyle=u,t.fill();else if("object"==Si(u))if("gradient"==u.type){t.translate(n.x,n.y);var c,s=e.width,f=e.height;if("linear"==u.gradientType){var l=3.141592653589793,h=u.rotation;if(h>=.436332&&h<=1.13446||h>=2.00713&&h<=2.70526||h>=3.57792&&h<=4.27606||h>=5.14872&&h<=5.84685){var p=Math.sqrt(Math.pow((s-4)/2,2)+Math.pow((f-4)/2,2));p-=p-(s+f)/3,c=t.createLinearGradient(p*Math.cos(h+l),p*Math.sin(h+l),p*Math.cos(h),p*Math.sin(h))}else c=t.createLinearGradient((s-4)/2*Math.cos(h+l),(f-4)/2*Math.sin(h+l),(s-4)/2*Math.cos(h),(f-4)/2*Math.sin(h))}else if("radial"==u.gradientType){var y=.95*Math.sqrt(Math.pow((s-4)/2,2)+Math.pow((f-4)/2,2));switch(u.center){case"center":c=t.createRadialGradient(0,0,0,0,0,y);break;case"left-top":c=t.createRadialGradient(-s/2,-f/2,0,-s/2,-f/2,2*y);break;case"right-top":c=t.createRadialGradient(s/2,-f/2,0,s/2,-f/2,2*y);break;case"left-bottom":c=t.createRadialGradient(-s/2,f/2,0,-s/2,f/2,2*y);break;case"right-bottom":c=t.createRadialGradient(s/2,f/2,0,s/2,f/2,2*y);break;default:c=t.createRadialGradient(0,0,0,0,0,y)}}u.colorStops.forEach((function(t){if(t.position>=0&&t.position<=1)try{c.addColorStop(t.position,t.color)}catch(e){mi("Invalid Color for colorstop : ",t.color),c.addColorStop(t.position,"#fff")}})),t.fillStyle=c,t.fill(),t.translate(-n.x,-n.y)}else if("pattern"==u.type&&u.image){o.prepareFillIf(!o._pattern_image_origin);var d=o._pattern_image;if(!d)return;var v=0,g=0,m=0,b=0,w=e.left,_=e.top;if(!u.fitPattern){switch(v=u.offsetX,g=u.offsetY,u.align){case"center":m=e.width/2-(u.width?u.width/2:0),b=e.height/2+(u.height?u.height/2:0);break;case"left-top":break;case"left-bottom":b=u.height?e.height%u.height:e.height;break;case"right-top":m=u.width?e.width%u.width:e.width;break;case"right-bottom":m=u.width?e.width%u.width:e.width,b=u.height?e.height%u.height:e.height;break;case"left":b=e.height/2+(u.height?u.height/2:0);break;case"right":m=u.width?e.width%u.width:e.width,b=e.height/2+(u.height?u.height/2:0);break;case"top":m=e.width/2-(u.width?u.width/2:0);break;case"bottom":m=e.width/2-(u.width?u.width/2:0),b=u.height?e.height%u.height:e.height}w+=v+m,_+=g+b}t.translate(w,_),u.fitPattern?Math.abs((d.width-e.width)*(d.height-e.height))>1?(delete o._pattern_image,delete o._pattern_image_origin):t.fillStyle=t.createPattern(d,"no-repeat"):t.fillStyle=t.createPattern(d,"repeat"),t.fill(),t.translate(-w,-_)}}function Oi(t,e,n){var r=e.strokeStyle,o=e.lineDash,i=e.lineWidth,a=e.lineCap,u=e.lineJoin,c=e.alpha;if(r&&0!=i){if(a&&(t.lineCap=a),o){var s="round"==a;switch(o){case"solid":o=[0,0];break;case"round-dot":o=s?[0,2*i]:[i,i];break;case"square-dot":o=s?[i,2*i]:[2*i,i];break;case"dash":o=s?[3*i,2.5*i]:[4*i,1.5*i];break;case"dash-dot":o=s?[3*i,3*i,0,3*i]:[4*i,2*i,i,2*i];break;case"long-dash":o=s?[5*i,4*i]:[6*i,3*i];break;case"long-dash-dot":o=s?[5*i,3*i,0,3*i]:[6*i,2*i,i,2*i];break;case"long-dash-dot-dot":o=s?[5*i,2*i,0,2*i,0,2*i]:[6*i,i,i,i,i,i]}t.setLineDash(o)}t.globalAlpha*=c,t.strokeStyle=r,t.lineWidth=i,t.lineJoin=u,t.stroke()}}pi="undefined"==typeof document?function(t,e){return new Canvas(t,e)}:function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n};var Ei={},Pi=0,ji=1,Ri=2,Ti=30,Mi="undefined"==typeof window?1:window.devicePixelRatio||(window.matchMedia&&window.matchMedia("(min-resolution: 2dppx), (-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches?2:1)||1,Ii=["mousemove","mouseup","mousedown","mouseout","wheel","click","touchstart","touchmove","touchend","dblclick"],Ci=["keydown","keyup"],Li={ALPHA:1,FONT_SIZE:15,FONT_FAMILY:"serif",FONT_COLOR:"black",TEXT_ALIGN:"center",TEXT_BASELINE:"middle",TEXT_WRAP:!1,BOLD:!1,ITALIC:!1,STROKE_STYLE:"#999",LINE_DASH:"solid"};function Di(t,e,n){if(e.length<2)return e;for(var r=2;r<e.length;r++){var o=e.substring(0,r);if(!(t.measureText(o).width<n))break}return e.substring(0,r-1)}function Fi(t,e,n,r){var o=String(e).split("\n");return r?[].concat.apply([],o.map((function(e){return function(t,e,n){var r,o,i=e.split(" "),a=[],u=[];for(r=0,o=1;o<=i.length;o++)if(u=i.slice(r,o),t.measureText(u.join(" ")).width>n){if(o-r==1){var c=Di(t,u[0],n);a.push([c]),i.splice(r,1,c,u[0].substring(c.length))}else{for(;""==i[o-1];)o++;a.push(i.slice(r,--o))}r=o}return o-r>1&&a.push(u),0==a.length&&a.push([""]),a}(t,e,n)}))):o.map((function(t){return t.split(" ")}))}function Bi(t,e,n,r,o){if(!r)return[];t.save(),t.font=n;var i=Fi(t,r,e,!!o);return t.restore(),i}function Ni(t){var e=t.fontFamily,n=void 0===e?Li.FONT_FAMILY:e,r=t.bold,o=void 0===r?Li.BOLD:r,i=t.italic,a=void 0===i?Li.ITALIC:i,u=t.fontSize,c=void 0===u?Li.FONT_SIZE:u,s=[];return o&&s.push("bold"),a&&s.push("italic"),s.push(c+"px"),s.push(n),s.join(" ")}function Ui(t,e,n,r){var o=r.alpha,i=void 0===o?Li.FONT_COLOR:o,a=r.fontColor,u=void 0===a?Li.FONT_COLOR:a,c=r.textAlign,s=void 0===c?Li.TEXT_ALIGN:c,f=r.textBaseline,l=void 0===f?Li.TEXT_BASELINE:f,h=r.fontSize,p=void 0===h?Li.FONT_SIZE:h,y=r.lineHeight,d=void 0===y?1.2*p:y;t.save(),t.beginPath();var v=e.left,g=e.top,m=e.width,b=e.height;t.font=Ni(r);var w,_,x=n.length*d;switch(l){case"top":w=g,t.textBaseline="top";break;case"bottom":w=g+b-x+d,t.textBaseline="bottom";break;case"middle":default:w=g+b/2-x/2+d/2,t.textBaseline="middle"}switch(s){case"left":_=v,t.textAlign="left";break;case"right":_=v+m,t.textAlign="right";break;case"justify":_=v,t.textAlign="left";break;case"center":default:_=v+m/2,t.textAlign="center"}t.globalAlpha*=i,t.fillStyle=u,"justify"!=s?n.forEach((function(e,n){t.fillText(e.join(" "),_,w+n*d)})):n.forEach((function(e,n){var r=w+n*d;if(1==e.length)t.fillText(e[0],_,r);else{var o=e.map((function(e){return t.measureText(e).width})),i=o.reduce((function(t,e){return t+e}),0),a=(m-i)/(e.length-1),u=_;e.forEach((function(e,n){t.fillText(e,u,r),u+=o[n]+a}))}})),t.restore()}function zi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:1,y:1};return t-=n.x,e-=n.y,{x:(t*Math.cos(-r)-e*Math.sin(-r)+n.x)/o.x,y:(t*Math.sin(-r)+e*Math.cos(-r)+n.y)/o.y}}function Wi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:1,y:1};return t-=n.x,e-=n.y,{x:(t*Math.cos(r)-e*Math.sin(r)+n.x)*o.x,y:(t*Math.sin(r)+e*Math.cos(r)+n.y)*o.y}}var Yi=function(t){return t};function Gi(t){var e=t.indexOf("||"),n="",r="";-1!=e&&(n=t,r=t.substring(e+2,t.length-1).trim(),t=t.replace(t.substring(e,t.length-1),"").trim());var o=t.substr(2,t.length-3).trim().replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".").filter((function(t){return!!t.trim()})),i=o.slice(1);return{defaultValue:r,match:t,originText:n||t,target:o[0],accessor:i.length>0?function(t){return i.reduce((function(t,e){return t?t[e]:void 0}),t)}:Yi}}function Hi(t,e,n){if(t){var r=n||Wr,o=String(t),i=(o.match(/#{[^}]*}/gi)||[]).map((function(t){return Gi(t)})),a=(o.match(/\${[^}]*}/gi)||[]).map((function(t){return Gi(t)}));if(0!=i.length||0!=a.length)return function(){var t=o;return i.forEach((function(n){var o=r(n.accessor(e.getState(n.target)));t=t.replace(n.originText,void 0===o?n.defaultValue||"":o)})),a.forEach((function(n){var o=e.root.findById(n.target),i=r(n.accessor(o&&o.data));t=t.replace(n.originText,void 0===i?n.defaultValue||"":i)})),t}}}function qi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Vi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vi(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xi(t){var e=Wr(t);return null==e?"":String(e)}function Ki(t){return Number(Wr(t))}function Qi(t){return t}function Ji(t){return Xi(t)}function Zi(t){return Ki(t)}function $i(t){if(this.param)return t=Xi(t),this.param.hasOwnProperty(t)?this.param[t]:this.param.default}function ta(t){var e=this.param;if(e){for(var n in e){var r=qi(n.split("~"),2),o=r[0],i=r[1],a=!!o,u=!!i;if(o=parseFloat(o),i=parseFloat(i),t=Ki(t),a&&!u&&t>=o)return e[n];if(!a&&u&&t<o)return e[n];if(t>=o&&t<i)return e[n]}return e.default}}function ea(t){return Ki(t)*Math.PI/180}function na(){}function ra(t,e,n,r,o){switch(n){case"value":return"text"===o||"string"===o?Ji.bind(t):"number"===o?Zi.bind(t):Qi.bind(e);case"map":return $i.bind(t);case"range":return ta.bind(t);case"radian":return ea.bind(t);case"eval":return function(t){try{return new Function("value","targets",t)}catch(t){return gi(t),na}}(r).bind(e);default:return Qi.bind(e)}}var oa=function(t){return t};function ia(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var aa=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.owner=n,this.model=e}var e,n,r;return e=t,(n=[{key:"dispose",value:function(){delete this._model,delete this.owner,delete this.evaluator,delete this.accessor}},{key:"model",get:function(){return this._model},set:function(t){t.target;var e=t.property,n=t.rule,r=t.param,o=t.accessor;this._model=t,this.evaluator=ra(this,this.owner,n,r,function(t){switch(t){case"ref":case"fillStyle":case"strokeStyle":return"string";default:return}}(e)),this.accessor=function(t){if(!t)return oa;var e=String(t).trim().replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".").filter((function(t){return!!t.trim()}));return e.length>0?function(t){return e.reduce((function(t,e){return t?t[e]:void 0}),t)}:oa}(o)}},{key:"target",get:function(){return this.model.target}},{key:"property",get:function(){return this.model.property}},{key:"param",get:function(){return this.model.param}}])&&ia(e.prototype,n),r&&ia(e,r),t}();function ua(){var t=this;this.mappings&&this.mappings.forEach((function(e){try{var n=e.target,r=e.property,o=e.accessor;if(o=o(t.data),"(root)"==(n=n.trim())||"(key)"==n){if(null==o)return;var i=Object.keys(o||{}).map((function(e){return t.root.findOrCreate(e)})).filter((function(t){return!!t}));i.length>0&&i.forEach((function(t){return t[r]=e.evaluator(o[t.get("id")],[t])}))}else if(n.startsWith("[")){if(null==o)return;if(!n.endsWith("]"))throw String("mapping target should end with ']' to designate property-id.("+n+")");var a=n.substring(1,n.length-1);if(o instanceof Array)o.forEach((function(n){var o=n[a];if(o){var i=t.root.findOrCreate(o);i&&(i[r]=e.evaluator(n,[i]))}}));else{if(!(o instanceof Object))throw String("mapping data should be an object to target property-id.("+o+")");var u=o[a];if(u){var c=t.root.findOrCreate(u);c&&(c[r]=e.evaluator(o,[c]))}}}else{var s=t.root.findAll(n,t);if(s.length>0){var f=e.evaluator(o,s);s.forEach((function(t){return t[r]=f}))}}}catch(n){gi(n,t,e)}}))}function ca(t){var e=t.element,n=t.fillStyle,r=e.style;if(r.background="",n)if("string"==typeof n)r.backgroundColor=n;else switch(n.type){case"pattern":r.backgroundImage="url("+n.image+")",n.fitPattern?r.backgroundSize="100% 100%":n.width||n.height?r.backgroundSize="".concat(n.width?n.width+"px":"auto"," ").concat(n.height?n.height+"px":"auto"):r.backgroundSize="contain";break;case"gradient":r.background=function(t,e){var n=e.colorStops,r=e.gradientType;if(n instanceof Array&&n.length>0)switch(r){case"radial":var o=e.center||"center";return"radial-gradient(farthest-corner at "+function(t,e){var n=t.bounds,r=n.width,o=n.height;switch(e){case"center":return[r/2,o/2];case"left-top":return[0,0];case"right-top":return[r,0];case"left-bottom":return[0,o];default:return[r,o]}}(t,o).map((function(t){return t+"px"})).join(" ")+","+n.map((function(t){return"".concat(t.color," ").concat(100*t.position,"%")})).join(",")+")";case"linear":return"linear-gradient("+(180*(e.rotation||0)/3.141592653589793+90+"deg")+", "+n.map((function(t){return"".concat(t.color," ").concat(100*t.position,"%")})).join(",")+")"}return""}(t,n)}}var sa={x:1,y:1},fa={boxSizing:"border-box",margin:"0px",position:"absolute",outline:"none"};function la(t){var e=t.state,n=e.id,r=e.scale,o=void 0===r?sa:r,i=(e.translate,e.bold),a=e.italic,u=e.fontFamily,c=void 0===u?"":u,s=e.textAlign,f=e.textBaseline,l=e.paddingTop,h=void 0===l?0:l,p=e.paddingBottom,y=void 0===p?0:p,d=e.paddingLeft,v=void 0===d?0:d,g=e.paddingRight,m=void 0===g?0:g,b=e.fontSize,w=void 0===b?Li.FONT_SIZE:b,_=e.lineWidth,x=void 0===_?0:_,k=e.lineDash,S=t.state.class,A=(t.text,t.strokeStyle),O=(t.fillStyle,t.rotation),E=void 0===O?0:O,P=t.fontColor,j=t.hidden,R=t.bounds,T=R.left,M=R.top,I=R.width,C=R.height,L=t.element;L.hidden=j,n&&(L.id=n),S&&(L.className=S),Object.assign(L.style,fa,{fontFamily:c,fontSize:w+"px",left:T+"px",top:M+"px",width:I+"px",height:C+"px",paddingTop:h+"px",paddingRight:m+"px",paddingBottom:y+"px",paddingLeft:v+"px",border:x+"px",borderColor:A,borderStyle:x>0?k||Li.LINE_DASH:"",color:P,fontWeight:i?"bold":"",fontStyle:a?"italic":"",textAlign:"end"==s?"right":"start"==s?"left":"",verticalAlign:f}),ca(t);var D=t.delta(),F=(o&&o.x||1)*D.sx,B=(o&&o.y||1)*D.sy,N=(E||0)+D.theta,U=D.tx||0,z=D.ty||0;["-webkit-","-moz-","-ms-","-o-",""].forEach((function(t){L.style[t+"transform"]="rotate(".concat(N,"rad) translate(").concat(U,"px, ").concat(z,"px) scale(").concat(F,", ").concat(B,") perspective(1px)")}))}function ha(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var pa,ya=[];function da(){pa=null;var t=performance.now(),e=(ya=ya.filter((function(t){return va(t)}))).reduce((function(e,n){var r=t-n.updatedAt;return r>=n.retention?e.kills.push(n):e.next=0==e.next?n.retention-r:Math.min(e.next,n.retention-r),e}),{next:0,kills:[]});e.kills.forEach((function(t){var e=ya.indexOf(t);-1!=e?(ya.splice(e,1),t.removeSelf(!0)):gi("Should not be here. Maybe reentrance problem.")})),e.next>0&&(pa=setTimeout(ga,Math.max(e.next,500)))}function va(t){return!t.disposed&&t.retention>0&&!t.isTemplate()&&t.app&&t.app.isViewMode}var ga=Ir((function(){requestAnimationFrame(da)}),500),ma=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"add",value:function(t){va(t)&&-1==ya.indexOf(t)&&(ya.push(t),t.touch()),this.touch()}},{key:"remove",value:function(t){var e=ya.indexOf(t);e>0&&ya.splice(e,1),this.touch()}},{key:"touch",value:function(){null!==pa&&(clearTimeout(pa),pa=null),ga()}},{key:"length",get:function(){return ya.length}}])&&ha(e.prototype,n),r&&ha(e,r),t}());function ba(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _a(t,e,n){return e&&wa(t.prototype,e),n&&wa(t,n),t}var xa={},ka={mutable:!1,resizable:!0,rotatable:!0,properties:[],"value-property":"text",sample:{xx:0}},Sa=[],Aa={theta:0,tx:0,ty:0,sx:1,sy:1,fade:0},Oa=new WeakMap,Ea=0,Pa=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._app=n,this._model=e||{},this._state={},this._delta=xr(Aa),n&&this.animation&&(this.animation.started=!0),this.clearCache(),ma.add(this),Oa.set(this,Ea++)}return _a(t,null,[{key:"buildSample",value:function(t,e){var n=this.register(t);if(n){var r=n.nature.sample||{};return Object.assign({type:t},r,e)}console.error("Class not registered.",t)}},{key:"register",value:function(t,e){if(!e)return xa[t];xa[t]=e}},{key:"nature",get:function(){return ka}},{key:"residents",get:function(){return Oa}}]),_a(t,[{key:"created",value:function(){}},{key:"added",value:function(t){}},{key:"removed",value:function(t){}},{key:"ready",value:function(){}},{key:"touch",value:function(){this.updatedAt=performance.now()}},{key:"clearCache",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];xi.apply(i,[this].concat(e))}},{key:"removeSelf",value:function(t){t?this.dispose():this.parent&&this.parent.removeComponent(this)}},{key:"dispose",value:function(){this._animation&&(this._animation.dispose(),delete this._animation),this.disposeMappings(),this.parent&&this.parent.removeComponent(this),delete this._text_substitutor,delete this._value_substitutor,this._disposed=!0,this.retention&&ma.touch(),this.clearCache(),delete this._app}},{key:"isLayer",value:function(){return!1}},{key:"isGroup",value:function(){return!1}},{key:"isContainer",value:function(){return!1}},{key:"isLine",value:function(){return!1}},{key:"isRoot",value:function(){return!1}},{key:"isRootModel",value:function(){return!1}},{key:"is3dish",value:function(){return!1}},{key:"isTemplate",value:function(){return!!this.get("templatePrefix")}},{key:"isHTMLElement",value:function(){return!1}},{key:"get",value:function(t){return this._model[t]}},{key:"set",value:function(t,e){if("string"==typeof t)return this.set(ba({},t,e));var n={},r={},o=!1,i=(t=xr(t),this);return Object.getOwnPropertyNames(t).forEach((function(e){var a=i._model[e],u=t[e];Le(a,u)||(r[e]=a,n[e]=u,i._model[e]=u,delete i._state[e],o=!0)})),o&&(this.clearCache(),n.hasOwnProperty("text")&&delete this._text_substitutor,n.hasOwnProperty("retention")&&ma.add(this),n.hasOwnProperty("fillStyle")&&this.onchangeFill(n,r),n.hasOwnProperty("mappings")&&this.onchangeMappings(n,r),n.hasOwnProperty("data")&&this.onchangeData(n,r),this.onchange&&this.onchange(n,r),this.trigger("change",n,r)),this}},{key:"getState",value:function(t){return this._state.hasOwnProperty(t)?this._state[t]:this.get(t)}},{key:"setState",value:function(t,e){if("string"==typeof t)return this.setState(ba({},t,e));var n={},r={},o=!1,i=(t=xr(t),this);return Object.getOwnPropertyNames(t).forEach((function(e){var a=i.getState(e),u=t[e];Le(a,u)||(r[e]=a,n[e]=u,i._state[e]=u,o=!0)})),o&&(this.clearCache(),n.hasOwnProperty("text")&&delete this._text_substitutor,n.hasOwnProperty("fillStyle")&&this.onchangeFill(n,r),n.hasOwnProperty("data")&&this.onchangeData(n,r),this.onchange&&this.onchange(n,r),this.trigger("change",n,r)),this}},{key:"isDescendible",value:function(t){return!0}},{key:"getContext",value:function(){return this._parent.getContext()}},{key:"outline",value:function(t){return function(t,e){var n=t.path.slice();if(n&&n.length){var r=1,o=[];if(t.isLine()||n.push(n[0]),e<=0)return t.transcoordS2T(n[0].x,n[0].y);if(e>=1)return t.transcoordS2T(n[n.length-1].x,n[n.length-1].y);for(;n[r];){var i=n[r-1],a=n[r],u=a.x-i.x,c=a.y-i.y;o.push(Math.sqrt(u*u+c*c)),r++}var s=o.reduce((function(t,e){return t+e}),0);r=0;var f=0;do{f+=o[r++]}while(f/s<e);e=(e-(f-=o[--r])/s)*(s/o[r]);var l=n[r%n.length],h=n[(r+1)%n.length],p=l.x+Math.round((h.x-l.x)*e),y=l.y+Math.round((h.y-l.y)*e);return t.transcoordS2T(p,y)}gi("path should not be empty")}(this,t||0)}},{key:"contains",value:function(t,e){return!1}},{key:"adjustResize",value:function(t,e,n){if(n){var r=this.bounds,o=r.height/r.width,i=t.width-r.width,a=t.height-r.height;i*o>a?a=i*o:i=a/o;var u=t.left-r.left,c=t.top-r.top;return 0!=u&&0!=c?(c=-a,u=-i):0!=u?u=-i:0!=c&&(c=-a),{left:r.left+u,top:r.top+c,width:r.width+i,height:r.height+a}}return t}},{key:"adjustRotation",value:function(t,e){if(e||this.app.rotateStepForced){var n=this.app.rotateStep;return Math.floor((t+n/2)/n)*n}return t}},{key:"findFirst",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(t.apply(void 0,[this].concat(n)))return this}},{key:"findAll",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return"string"==typeof t?Gn(t,this,n[0]||this):"function"==typeof t&&t.apply(void 0,[this].concat(n))?[this]:void 0}},{key:"capture",value:function(t,e){if(!this.capturable)return!1;var n=this.transcoordP2S(t,e);return this.contains(n.x,n.y)?this:void 0}},{key:"prepare",value:function(t,e){t(this)}},{key:"prepareIf",value:function(t){var e=this;t&&this.prepare&&this.prepare((function(t){e.invalidate()}),(function(t){gi(t)}))}},{key:"draw",value:function(t){t.save(),this.__proto__.hasOwnProperty("_pre_draw")?this._pre_draw(t):this.prerender(t),this.__proto__.hasOwnProperty("_draw")?this._draw(t):this.render(t),this.__proto__.hasOwnProperty("_post_draw")?this._post_draw(t):this.postrender(t),t.restore()}},{key:"delta",value:function(t,e){if(void 0===e)return t?this._delta[t]:this._delta;this._delta[t]=e}},{key:"prerender",value:function(t){var e=this.rotatePoint,n=this.model,r=n.scale,o=n.rotation,i=n.shadow,a=n.alpha,u=(r&&r.x||1)*this._delta.sx,c=(r&&r.y||1)*this._delta.sy,s=(o||0)+this._delta.theta,f=this._delta,l=f.tx,h=void 0===l?0:l,p=f.ty,y=void 0===p?0:p,d=(a||1)-this._delta.fade;(h||y)&&t.translate(h,y),(1!=u||1!=c||s)&&(t.translate(e.x,e.y),1==u&&1==c||t.scale(u,c),s&&t.rotate(s),t.translate(-e.x,-e.y)),d&&(t.globalAlpha=d),i&&li(t,i,this),this.app.isEditMode&&this.hidden&&(t.globalAlpha*=.5)}},{key:"render",value:function(t){}},{key:"postrender",value:function(t){this.drawText(t)}},{key:"drawText",value:function(t){!this.textHidden&&this.text&&this.hasTextProperty&&Ui(t,this.textBounds,this.textLines(t),this.model)}},{key:"drawStroke",value:function(t){Oi(t,this.model)}},{key:"drawFill",value:function(t){this.fillStyle&&"transparent"!=this.fillStyle&&(Ai(t,this.bounds,this.center,this.model,this),function(t){t.shadowColor="transparent"}(t))}},{key:"animate",value:function(t){return this._animate&&this._animate.stop(),this._animate=ki(t),this._animate}},{key:"move",value:function(t){var e=t.x,n=t.y,r=this.path,o=e,i=n;this.path=r.map((function(t){return{x:t.x+o,y:t.y+i}}))}},{key:"symmetryX",value:function(t){"number"!=typeof t&&(t=this.center.x);var e=this.model.rotation,n=this.fillStyle;if(this.set("rotation",2*Math.PI-e),n&&"gradient"===n.type&&"linear"===n.gradientType){var r=xr(n);r.rotation=(Math.PI-parseFloat(n.rotation||0))%(2*Math.PI),this.set("fillStyle",r)}this.path=this.path.map((function(e){return{x:2*t-e.x,y:e.y}}))}},{key:"symmetryY",value:function(t){this.symmetryX(),this.set("rotation",(Math.PI+this.model.rotation)%(2*Math.PI)),t&&this.move({x:0,y:2*(t-this.center.y)})}},{key:"effect",value:function(t,e){return function(t,e,n){var r=hi[n.type];r&&r(t,e,n)}(this,t,e)}},{key:"invalidate",value:function(){this.parent&&this.parent.invalidate()}},{key:"defaultTextSubstitutor",value:function(){var t=this.getState("text");return null==t?"":String(t)}},{key:"textLines",value:function(t){return Bi(t||this.getContext(),this.textBounds.width,this.font,this.text,this.get("textWrap"))}},{key:"trim",value:function(){delete this._model[""],"chartjs"!==this._model.type&&delete this._model.chart}},{key:"serialize",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return JSON.stringify.apply(JSON,[this.hierarchy].concat(e))}},{key:"nature",get:function(){return this.constructor.nature}},{key:"disposed",get:function(){return!!this._disposed}},{key:"retention",get:function(){return Number(this.get("retention"))||0}},{key:"hasTextProperty",get:function(){return!0}},{key:"app",get:function(){return!this._app&&this.parent&&(this._app=this.parent.app),this._app}},{key:"model",get:function(){return this._model}},{key:"state",get:function(){return Object.assign({},this._model,this._state)}},{key:"hierarchy",get:function(){var t=xr(this._model);return this.volatile.forEach((function(e){delete t[e]})),t}},{key:"volatile",get:function(){return Sa}},{key:"textHidden",get:function(){return!!this._textHidden},set:function(t){this._textHidden=!!t,this.invalidate()}},{key:"root",get:function(){return this.isRoot()?this:this.parent&&this.parent.root}},{key:"rootModel",get:function(){return this.isRootModel()?this:this.parent&&this.parent.rootModel}},{key:"parent",get:function(){return this._parent},set:function(t){this._parent=t}},{key:"center",get:function(){var t=this.bounds;return{x:t.left+t.width/2,y:t.top+t.height/2}},set:function(t){if(t&&!isNaN(t.x)&&!isNaN(t.y)){var e=this.center;if(Math.round(100*t.x)/100!=Math.round(100*e.x)/100||Math.round(100*t.y)/100!=Math.round(100*e.y)/100){var n=t.x-e.x,r=t.y-e.y;this.path=this.path.map((function(t){return{x:t.x+n,y:t.y+r}}))}}}},{key:"location",get:function(){return this.center},set:function(t){this.center=t}},{key:"dimension",get:function(){return this.get("dimension")},set:function(t){this.set("dimension",t)}},{key:"bounds",get:function(){var t,e,n,r,o=this.path;t=e=o[0].x,n=r=o[0].y;for(var i=1;i<o.length;i++){var a=o[i];a.x<t?t=a.x:a.x>e&&(e=a.x),a.y<n?n=a.y:a.y>r&&(r=a.y)}return{left:t,top:n,width:e-t,height:r-n}},set:function(t){var e=this.bounds;if(Math.round(100*t.width)/100!=Math.round(100*e.width)/100||Math.round(100*t.height)/100!=Math.round(100*e.height)/100||Math.round(100*t.left)/100!=Math.round(100*e.left)/100||Math.round(100*t.top)/100!=Math.round(100*e.top)/100){var n=0==e.width?1:t.width/e.width,r=0==e.height?1:t.height/e.height;this.path=this.path.map((function(o){return{x:t.left+(o.x-e.left)*n,y:t.top+(o.y-e.top)*r}}))}}},{key:"path",get:function(){return gi("이 컴포넌트에 get path 가 구현되어있지 않음.",this),[]},set:function(t){gi("이 컴포넌트에 get path 가 구현되어있지 않음.",this)}},{key:"anchors",get:function(){return[]}},{key:"strokeStyle",get:function(){return this.get("strokeStyle")},set:function(t){this.set("strokeStyle",t)}},{key:"fillStyle",get:function(){return this.getState("fillStyle")},set:function(t){this.setState("fillStyle",t)}},{key:"fontColor",get:function(){return this.get("fontColor")},set:function(t){this.set("fontColor",String(Wr(t)))}},{key:"rotation",get:function(){return this.getState("rotation")},set:function(t){this.setState("rotation",Number(Wr(t)))}},{key:"mutable",get:function(){return ka.mutable}},{key:"resizable",get:function(){return ka.resizable&&!this.stuck}},{key:"rotatable",get:function(){return ka.rotatable&&!this.stuck}},{key:"capturable",get:function(){return!1!==this.get("capturable")&&(this.app.isEditMode||!this.hidden)}},{key:"stuck",get:function(){return!!(this.parent&&this.parent.layout.isStuck(this)||this.get("locked"))}},{key:"tag",get:function(){return this.get("id")?"#".concat(this.get("id")):""}},{key:"hidden",get:function(){return this.getState("hidden")||this.getState("ndns")&&void 0===this.data||this.isTemplate()},set:function(t){this.setState("hidden",t)}},{key:"animation",get:function(){if(this.app.isViewMode&&!this.isTemplate()){if(!this._animation){var t=this.model.animation;t&&t.oncreate&&(this._animation=(e=this,n=t.oncreate,(r=si[n.type])?new r(e,n):null))}var e,n,r;return this._animation}}},{key:"started",set:function(t){this.animation&&(this.animation.started=t)}},{key:"font",get:function(){return Ni(this.model)}},{key:"lineHeight",get:function(){var t=this.get("lineHeight");return t||1.2*this.fontSize}},{key:"textSubstitutor",get:function(){return this._text_substitutor||(this._text_substitutor=Hi(this.getState("text"),this)||this.defaultTextSubstitutor),this._text_substitutor}},{key:"text",get:function(){var t=this.get("textFormat");return t?function(t,e){if(!t||isNaN(+e))return e;var n,r,o,i,a,u,c,s,f,l=t.length,h=t.search(/[0-9\-\+#]/),p=h>0?t.substring(0,h):"",y=t.split("").reverse().join(""),d=y.search(/[0-9\-\+#]/),v=l-d,g=t.substring(v,v+1),m=v+("."===g||","===g?1:0),b=d>0?t.substring(m,l):"";if(n=(e="-"===(t=t.substring(h,m)).charAt(0)?-e:+e)<0?e=-e:0,".",o=(r=t.match(/[^\d\-\+#]/g))&&r[1]&&r[0]||",",t=t.split("."),e=+(e=e.toFixed(t[1]&&t[1].length))+"",a=t[1]&&t[1].lastIndexOf("0"),(!(c=e.split("."))[1]||c[1]&&c[1].length<=a)&&(e=(+e).toFixed(a+1)),s=t[0].split(o),t[0]=s.join(""),(i=t[0]&&t[0].indexOf("0"))>-1)for(;c[0].length<t[0].length-i;)c[0]="0"+c[0];else 0==+c[0]&&(c[0]="");if((e=e.split("."))[0]=c[0],u=s[1]&&s[s.length-1].length){for(y="",v=(f=e[0]).length%u,l=f.length,m=0;m<l;m++)y+=f.charAt(m),!((m-v+1)%u)&&m<l-u&&(y+=o);e[0]=y}return e[1]=t[1]&&e[1]?"."+e[1]:"","0"!==(r=e.join(""))&&""!==r||(n=!1),p+(("+"==t[0].substring(0,1)?n?"-":"+":n?"-":"")+r)+b}(t,this.textSubstitutor()):this.textSubstitutor()},set:function(t){delete this._text_substitutor;var e=Wr(t);this.setState("text",null==e?"":String(e))}},{key:"textBounds",get:function(){var t=this.model,e=t.paddingTop,n=void 0===e?0:e,r=t.paddingLeft,o=void 0===r?0:r,i=t.paddingRight,a=void 0===i?0:i,u=t.paddingBottom,c=void 0===u?0:u,s=this.bounds,f=s.left,l=s.top,h=s.width,p=s.height;return{left:f+o,top:l+n,width:Math.max(h-o-a,0),height:Math.max(p-n-c,0)}}},{key:"rotatePoint",get:function(){return this.center}},{key:"value",get:function(){var t=this.nature["value-property"]||"text";return"value"==t?this.getState("value"):this[t]},set:function(t){var e=this.nature["value-property"]||"text";"value"==e?this.setState("value",t):this[e]=t}},{key:"data",get:function(){return this.getState("data")},set:function(t){this.setState("data",t),this.touch()}},{key:"mappings",get:function(){return!this._mappings&&this.parent&&this.buildMappings(),this._mappings}},{key:"controls",get:function(){}}]),t}();function ja(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ra(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Pa.union=function(t){var e,n,r,o;return t.forEach((function(t){void 0===e?(e=t.left,n=t.top,r=t.left+t.width,o=t.top+t.height):(e=Math.min(t.left,e),n=Math.min(t.top,n),r=Math.max(t.left+t.width,r),o=Math.max(t.top+t.height,o))})),{left:e,top:n,width:r-e,height:o-n}},Pa.transcoordR=zi,Pa.transcoordRR=Wi,Pa.createCanvas=pi,Pa.memoize=wi,Pa.mixin=go,Pa.drawText=Ui,Pa.font=Ni,Pa.textLines=Bi,Pa.drawStroke=Oi,Pa.drawFill=Ai,Pa.reposition=la,Pa.RetentionManager=ma,Pa.template=Nn,Pa.buildSubstitutor=Hi,Object.assign(Pa.prototype,{drawEffect:function(t){var e=this;this._model.effects&&this._model.effects.forEach((function(n){e.effect(t,n)}))},prepareFill:function(t,e){var n=this.fillStyle;if(n&&"pattern"==n.type&&n.image){if("string"!=typeof n.image)return this._pattern_image_origin=this._pattern_image=n.image,void t(this);this._pattern_image=null,this._pattern_image_origin=new Image;var r=this;this._pattern_image_origin.onload=function(){if(!n.fitPattern&&!n.width&&!n.height)return r._pattern_image=r._pattern_image_origin,void t(this);var e=n.width||this.width,o=n.height||this.height;n.fitPattern&&(e=r.bounds.width,o=r.bounds.height);var i=pi(e,o);i.getContext("2d").drawImage(this,0,0,this.width,this.height,0,0,e,o),r._pattern_image=i,t(this)},this._pattern_image_origin.onerror=function(t){e(t)};try{"data"!==String(n.image).substring(0,4)?this._pattern_image_origin.crossOrigin="use-credentials":this._pattern_image_origin.crossOrigin=null,this._pattern_image_origin.src=this.app.url(n.image)}catch(t){e(t)}}else t(this)},prepareFillIf:function(t){var e=this;t&&this.prepareFill((function(t){e.invalidate()}),(function(t){gi(t)}))},onchangeFill:function(t,e){var n=this.fillStyle;n&&"pattern"!==n.type?this._pattern_image&&(this._pattern_image=null,this._pattern_image_origin=null):(null==n?void 0:n.image)&&this.prepareFillIf(n.image)},mutateBounds:function(t,e){var n=this.bounds,r=this.rotatePoint,o=this.get("rotation"),i=this.get("scale");if(t){var a=t.call(e,n);a&&(n=a)}var u=n,c=u.left,s=u.top,f=[{x:c,y:s},{x:c+u.width,y:s+u.height}],l=(f=f.map((function(t){return Wi(t.x,t.y,r,o,i)})))[0],h=f[1];r={x:(l.x+h.x)/2,y:(l.y+h.y)/2},l=(f=f.map((function(t){return zi(t.x,t.y,r,o,i)})))[0],h=f[1],this.bounds={left:l.x,top:l.y,width:h.x-l.x,height:h.y-l.y}},mutatePath:function(t,e,n){var r=this,o=this.path,i=this.rotatePoint;this.get("rotation"),this.get("scale"),t&&(o=t.call(n,o));var a=o.map((function(t){return r.transcoordS2P(t.x,t.y)}));e&&(o=e.call(n,a))&&(a=o);var u,c,s,f,l={x:0,y:0};u=c=(o=a.map((function(t){return r.transcoordP2S(t.x,t.y,l)})))[0].x,s=f=o[0].y;for(var h=1;h<o.length;h++){var p=o[h];p.x<u?u=p.x:p.x>c&&(c=p.x),p.y<s?s=p.y:p.y>f&&(f=p.y)}i={x:(u+c)/2,y:(s+f)/2},i=this.transcoordS2P(i.x,i.y,l),this.path=a.map((function(t){return r.transcoordP2S(t.x,t.y,i)}))},access:function(t){if(t){var e=String(t),n=(e.match(/#{(\S*)}/)||[]).map((function(t){return Gi(t)}))[0];if(n)return n.accessor(this.getState(n.target));var r=(e.match(/\${[^}]*}/)||[]).map((function(t){return Gi(t)}))[0];if(r){var o=this.root.findById(r.target);return r.accessor(this.getState(o))}return t}},substitute:function(t,e){var n=this;if(t){var r=String(t),o=e||Wr,i=(r.match(/#{(\S*)}/gi)||[]).map((function(t){return Gi(t)})),a=(r.match(/\${[^}]*}/gi)||[]).map((function(t){return Gi(t)}));if(0==i.length&&0==a.length)return r;var u=r;return i.forEach((function(t){var e=o(t.accessor(n.getState(t.target)));u=u.replace(t.match,void 0===e?"":e)})),a.forEach((function(t){var e=n.root.findById(t.target),r=o(t.accessor(e&&e.data));u=u.replace(t.match,void 0===r?"":r)})),u}},onchangeMappings:function(t,e){this.disposeMappings(),ua.call(this)},onchangeData:function(t,e){ua.call(this)},buildMappings:function(){var t=this;if(this._model.mappings)return!this._model.mappings instanceof Array?(gi("Mappings model is invalid (should be a Array) ..",this._model.mappings),void(this._mappings=[])):void(this._mappings=(this._model.mappings||[]).map((function(e){return new aa(e,t)})));this._mappings=[]},executeMappings:ua,disposeMappings:function(){this._mappings&&this._mappings.forEach((function(t){return t.dispose()})),delete this._mappings},ondropfile:function(t,e){for(var n=0;n<t.length;n++)if(t[n].type.startsWith("image/"))return void this.set("fillStyle",{type:"pattern",image:e[n],fitPattern:!0})},transcoordS2P:function(t,e,n){if(!this.parent)return{x:t,y:e};var r=this.model,o=r.rotation,i=void 0===o?0:o,a=r.scale,u=void 0===a?{x:1,y:1}:a;if(this.isLayer()){var c=this.model.translate,s=Wi(t,e,void 0,i,u);return c&&(s.x+=c.x,s.y+=c.y),s}var f=Wi(t,e,n=n||this.rotatePoint,i,u);return{x:f.x-(n.x-n.x/u.x),y:f.y-(n.y-n.y/u.y)}},transcoordP2S:function(t,e,n){if(!this.parent)return{x:t,y:e};var r=this.model,o=r.rotation,i=void 0===o?0:o,a=r.scale,u=void 0===a?{x:1,y:1}:a;if(this.isLayer()){var c=this.model.translate,s=zi(t,e,c,i,u);return c&&(s.x-=c.x/(u?u.x:1),s.y-=c.y/(u?u.y:1)),s}var f=zi(t,e,n=n||this.rotatePoint,i,u);return{x:f.x+(n.x-n.x/u.x),y:f.y+(n.y-n.y/u.y)}},transcoordS2T:function(t,e,n){n=n||this.rootModel;for(var r=[],o=this.parent;o&&o!==n;o=o.parent)r.push(o);var i=this.transcoordS2P(t,e);return r.forEach((function(t){var e=t.model.scale,n=t.bounds;if(e){var r=t.rotatePoint;i.x+=(r.x-n.left)*e.x,i.y+=(r.y-n.top)*e.y}else i.x+=n.left,i.y+=n.top;i=t.transcoordS2P(i.x,i.y)})),i},transcoordT2S:function(t,e,n){n=n||this.rootModel;for(var r=[],o=this.parent;o&&o!==n;o=o.parent)r.splice(0,0,o);var i={x:t,y:e};return r.forEach((function(t){var e=t.model.scale;i=t.transcoordP2S(i.x,i.y);var n=t.bounds;if(e){var r=t.rotatePoint;i.x-=(r.x-n.left)/e.x,i.y-=(r.y-n.top)/e.y}else i.x-=n.left,i.y-=n.top})),this.transcoordP2S(i.x,i.y)},transcoordS2TR:function(t,e,n){n=n||this.rootModel;var r=this.transcoordS2T(t,e,n);return Wi(r.x,r.y,void 0,n.get("rotation")||0)},transcoordS2O:function(t,e,n){var r=this.rootModel,o=this.transcoordS2T(t,e,r);return n.transcoordT2S(o.x,o.y,r)},transcoordC2S:function(t,e,n){if(!n)for(n=this;n&&!n.isLayer();)n=n.parent;var r=n.model,o=r.translate,i=r.scale,a=zi(t,e,o,r.rotation,i);return o&&(a.x-=o.x/(i?i.x:1),a.y-=o.y/(i?i.y:1)),n===this?a:this.transcoordT2S(a.x,a.y,n)},transcoordS2C:function(t,e,n){if(!n)for(n=this;n&&!n.isLayer();)n=n.parent;if(n!==this)var r=this.transcoordS2T(t,e,n);else r={x:t,y:e};var o=n.model,i=o.translate,a=o.rotation,u=o.scale;return r=Wi(r.x,r.y,void 0,a,u),i&&(r.x+=i.x,r.y+=i.y),r},_pre_draw:Pa.prototype.prerender,_draw:Pa.prototype.render,_post_draw:Pa.prototype.postrender}),["rotatePoint","font","lineHeight","retention"].forEach((function(t){return Pa.memoize(Pa.prototype,t,!1)})),["bounds","center","textBounds"].forEach((function(t){return Pa.memoize(Pa.prototype,t,!0)})),Pa.mixin(Pa.prototype,vo.withEvent);var Ta={};var Ma={list:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ja(Object(n),!0).forEach((function(e){Ra(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ja(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Ta)},register:function(t,e){Ta[t]=e},unregister:function(t){delete Ta[t]},get:function(t){if(t){var e=Ta[t];return e||gi("Layout Not Found - ",t),e}}},Ia={reflow:function(t,e){},capturables:function(t){return t.components},drawables:function(t){return t.app.isViewMode?t.components.filter((function(t){return!t.hidden})):t.components},isStuck:function(t){return!1},ABSOLUTE:!0};Ma.register("absolute",Ia);var Ca=Ia;function La(t){var e=t.components.filter((function(t){return!t.hidden})),n=t.get("layoutConfig")||{},r=e[n&&n.activeIndex||0];return r&&[r]||[]}var Da={reflow:function(t){var e=t.bounds,n=t.get("layoutConfig")||{},r={left:0,top:0,width:e.width,height:e.height};t.forEach((function(t,e){var o=e!=n.activeIndex;t.bounds=r,t.set("rotation",0),t.element&&(t.element.style.display=o?"none":"block")}))},capturables:function(t){return La(t)},drawables:function(t){return La(t)},isStuck:function(t){return!0}};Ma.register("card",Da);var Fa=Da;function Ba(t){var e=t.get("layoutConfig");return e&&e.weight||1}var Na={reflow:function(t){var e=this.drawables(t),n=t.get("padding")||{},r=e.reduce((function(t,e){return t+Ba(e)}),0),o=t.bounds,i=r>0?(o.width-((n.left||0)+(n.right||0)))/r:o.width,a=o.height-((n.top||0)+(n.bottom||0)),u=0;e.forEach((function(t){var e=Ba(t),r=t.get("margin")||{};t.bounds={left:i*u+(n.left||0)+(r.left||0),top:0+(n.top||0)+(r.top||0),width:e*i-((r.left||0)+(r.right||0)),height:a-((r.top||0)+(r.bottom||0))},t.set("rotation",0),u+=e}))},capturables:function(t){return t.components},drawables:function(t){return t.app.isViewMode?t.components.filter((function(t){return!t.hidden})):t.components},isStuck:function(t){return!0}};Ma.register("linear-horizontal",Na);var Ua=Na;function za(t){var e=t.get("layoutConfig");return e&&e.weight||1}var Wa={reflow:function(t){var e=this.drawables(t),n=t.get("padding")||{},r=e.reduce((function(t,e){return t+za(e)}),0),o=t.bounds,i=r>0?(o.height-((n.top||0)+(n.bottom||0)))/r:o.height,a=o.width-((n.left||0)+(n.right||0)),u=0;e.forEach((function(t){var e=za(t),r=t.get("margin")||{};t.bounds={left:0+(n.left||0)+(r.left||0),top:i*u+(n.top||0)+(r.top||0),width:a-((r.left||0)+(r.right||0)),height:e*i-((r.top||0)+(r.bottom||0))},t.set("rotation",0),u+=e}))},capturables:function(t){return t.components},drawables:function(t){return t.app.isViewMode?t.components.filter((function(t){return!t.hidden})):t.components},isStuck:function(t){return!0}};Ma.register("linear-vertical",Wa);var Ya=Wa,Ga={reflow:function(t){var e=t.get("layoutConfig"),n=e&&e.columns||t.get("columns"),r=e&&e.rows||t.get("rows"),o=e&&e.widths||t.get("widths"),i=e&&e.heights||t.get("heights"),a=o?o.filter((function(t,e){return e<n})).reduce((function(t,e){return t+e}),0):n,u=i?i.filter((function(t,e){return e<r})).reduce((function(t,e){return t+e}),0):r,c=t.textBounds,s=t.get("paddingLeft")||0,f=t.get("paddingTop")||0,l=c.width/a,h=c.height/u,p=0,y=0;t.components.forEach((function(t,e){for(var r=o?o[e%n]:1,a=i?i[Math.floor(e/n)]:1,u=t.colspan||1,c=0;--u>0;)c+=o?o[(e+u)%n]:1;for(var d=t.rowspan||1,v=0;--d>0;)v+=i?i[Math.floor(e/n)+d]:1;t.bounds={left:s+p,top:f+y,width:l*(r+c),height:h*(a+v)},t.set("rotation",0),e%n==n-1?(p=0,y+=a*h):p+=r*l}))},capturables:function(t){return t.components.filter((function(t){return!t.merged}))},drawables:function(t){return t.components.filter((function(t){return!t.merged&&!t.hidden}))},isStuck:function(t){return!0},keyNavigate:function(t,e,n){var r=t.get("layoutConfig"),o=r&&r.columns||t.get("columns"),i=r&&r.rows||t.get("rows"),a=t.getRowColumn(e),u=a.row,c=a.column;switch(n.code){case"ArrowUp":if(u>0)return t.getAt((u-1)*o+c);break;case"ArrowDown":if(u<i-1)return t.getAt((u+1)*o+c);break;case"ArrowRight":if(c<o-1)return t.getAt(u*o+c+1);break;case"ArrowLeft":if(c>0)return t.getAt(u*o+c-1);break;default:return e}},joinType:!0};Ma.register("table",Ga);var Ha=Ga,qa={reflow:function(t,e){this.drawables(t).filter((function(t){return t.isHTMLElement()})).forEach((function(t){return t.reposition()}))},capturables:function(t){return t.components},drawables:function(t){return t.app&&!t.app.isViewMode?t.components:t.components.filter((function(t){return!t.hidden}))},isStuck:function(t){return!1},ABSOLUTE:!0};Ma.register("html-absolute",qa);var Va=qa;function Xa(t){return(Xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ka(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ja(t,e){return!e||"object"!==Xa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Za(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function $a(t){return($a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tu(t,e){return(tu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var eu=function(t){var e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tu(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=$a(e);if(Za()){var r=$a(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Ja(this,t)});function a(){return Ka(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"contains",value:function(t,e){var n=this.model,r=n.left,o=n.top,i=n.width,a=n.height,u=n.lineWidth,c=(void 0===u?0:u)/2;return t<Math.max(r+i,r)+c&&t>Math.min(r+i,r)-c&&e<Math.max(o+a,o)+c&&e>Math.min(o+a,o)-c}},{key:"path",set:function(t){var e=t[0],n=t[2],r=this.model;r.width,r.height,this.set({left:e.x,top:e.y,width:n.x-e.x,height:n.y-e.y})},get:function(){var t=this.model,e=t.left,n=void 0===e?0:e,r=t.top,o=void 0===r?0:r,i=t.width,a=void 0===i?0:i,u=t.height,c=void 0===u?0:u;return[{x:n,y:o},{x:n+a,y:o},{x:n+a,y:o+c},{x:n,y:o+c}]}}])&&Qa(n.prototype,r),o&&Qa(n,o),a}(t);return wi(e.prototype,"path",!1),e};function nu(t){return(nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ru(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ou(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iu(t,e,n){return(iu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function au(t,e){return!e||"object"!==nu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function cu(t){return(cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function su(t,e){return(su=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fu=new Image;fu.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAclBMVEVHcEwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC0BbqFAAAAJXRSTlMAgAP3VSI6/g9fBk5FavJsMrariSjzPnO1enRRL5SMhmOOWB9keFTE0wAAANxJREFUOMutk9kWgyAMRLFuiLjUtdp9yf//YglVsQXz1HniMPcEMgHGvpX2O0Ypi+EgCL+IAShC+wB7QfubRDT7AFcnUPoLMLiP4PyJbsb55i05AgnR5iaQDsICgtH0cotBWoAP1c7kC6kFxEseCfZfB6gEgbNeBrira2QmH1uVYCXlA3is8UmgUCPIyQJKEmu8QtQJN0e9DPXVpzG2G216c1CqRmcBOdxXk07sWUSPv07zo0amCNQycv+NzmR6cRcwmfbuI7p2nZ/z4be0P83Foz6vIkhfZXr82XgDlZsspIq4peUAAAAASUVORK5CYII=";var lu=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&su(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=cu(e);if(uu()){var r=cu(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return au(this,t)});function a(){return ru(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"postrender",value:function(t){iu(cu(a.prototype),"postrender",this).call(this,t),this.app.isEditMode&&this._focused&&this.showMoveHandle&&this._draw_move_handle(t)}},{key:"_draw_move_handle",value:function(t){var e=this.bounds,n=e.left,r=e.top,o=e.width;t.save(),t.beginPath(),t.rect(n+o,r,25,25),t.fillStyle="rgba(".concat(235,", ").concat(235,", ").concat(235,", 1)"),t.strokeStyle="#333",t.fill(),t.stroke(),t.drawImage(fu,n+o+3.75,r+3.75,17.5,17.5),t.closePath(),t.restore()}},{key:"contains",value:function(t,e){var n=iu(cu(a.prototype),"contains",this).call(this,t,e);if(this.app.isViewMode)return n;var r=this.bounds,o=r.left,i=r.top,u=r.width,c=(r.height,o+u);return this.showMoveHandle&&(n=n||t<Math.max(c+25,c)&&t>Math.min(c+25,c)&&e<Math.max(i+25,i)&&e>Math.min(i+25,i)),this._focused=!!n,this.invalidate(),n}}])&&ou(n.prototype,r),o&&ou(n,o),a}(t)};function hu(t){return(hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yu(t,e,n){return(yu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function du(t,e){return!e||"object"!==hu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function gu(t){return(gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mu(t,e){return(mu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bu=[],wu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mu(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=gu(e);if(vu()){var r=gu(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return du(this,t)});function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t,e))._components=[],n}return n=a,(r=[{key:"dispose",value:function(){this.components.slice().forEach((function(t){return t.dispose()})),yu(gu(a.prototype),"dispose",this).call(this)}},{key:"isContainer",value:function(){return!0}},{key:"containable",value:function(t){return t.isDescendible(this)&&"variable"!==t.get("type")}},{key:"reflow",value:function(){this.layout.reflow(this),this.components&&this.components.forEach((function(t){t.isContainer()&&t.reflow()}))}},{key:"addComponent",value:function(t){var e=t.parent;if(e){if(this===e)return;e.removeComponent(t)}var n=this._components.push(t)-1;t.parent=this,t.added(this),this.trigger("add",this,t,n),t.delegate_on(this),t.trigger("added",this,t,n),this.root&&this.root.isReady&&t.ready()}},{key:"removeComponent",value:function(t){var e=this._components.indexOf(t);-1!=e&&(this._components.splice(e,1),t.parent=null,t.removed(this),this.trigger("remove",this,t),t.trigger("removed",this,t),t.delegate_off(this))}},{key:"insertComponentAt",value:function(t,e){var n=t.parent;n&&n.removeComponent(t);var r=this._components.splice(0,e);this._components=r.concat(t,this._components),e=this._components.indexOf(t),t.parent=this,t.added(this),this.trigger("add",this,t,e),t.delegate_on(this),t.trigger("added",this,t,e)}},{key:"add",value:function(t){var e=this;return t instanceof Array?(t.forEach((function(t){-1==e._components.indexOf(t)&&e.addComponent(t)})),this):this.add.call(this,[t])}},{key:"remove",value:function(t){var e=this;return t instanceof Array?this._components?(t.forEach((function(t){e.removeComponent(t)})),this):this:this.remove.call(this,[t])}},{key:"getAt",value:function(t){if(this._components)return this._components[t]}},{key:"forEach",value:function(t,e){this._components&&this._components.forEach(t,e)}},{key:"traverse",value:function(t,e){t.call(e,this),this._components&&this._components.forEach((function(n){n.isContainer()?n.traverse(t,e):t.call(e,n)}))}},{key:"indexOf",value:function(t){return(this._components||bu).indexOf(t)}},{key:"size",value:function(){return(this._components||bu).length}},{key:"moveChildAt",value:function(t,e){var n=this.indexOf(e);if(-1!=n){var r=this._components.splice(0,n),o=this._components.splice(1);this._components=r.concat(o),t=Math.max(0,t),t=Math.min(t,this._components.length),r=this._components.splice(0,t),this._components=r.concat(e,this._components)}}},{key:"moveChildForward",value:function(t){var e=this.indexOf(t);-1!=e&&e!=this.size()-1&&(this._components[e]=this._components[e+1],this._components[e+1]=t)}},{key:"moveChildBackward",value:function(t){var e=this.indexOf(t);-1!=e&&0!=e&&(this._components[e]=this._components[e-1],this._components[e-1]=t)}},{key:"moveChildToFront",value:function(t){var e=this.indexOf(t);if(-1!=e&&e!=this.size()-1){var n=this._components.splice(0,e),r=this._components.splice(1);this._components=n.concat(r,this._components)}}},{key:"moveChildToBack",value:function(t){var e=this.indexOf(t);if(-1!=e&&0!=e){var n=this._components.splice(0,e),r=this._components.splice(0);this._components=this._components.concat(n,r)}}},{key:"symmetryX",value:function(t){yu(gu(a.prototype),"symmetryX",this).call(this,t),this.components.map((function(t){t.symmetryX(0)}))}},{key:"findAll",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if("string"==typeof t)return Gn(t,this,n[0]||this);if("function"==typeof t){for(var o=[],i=this.components.length-1;i>=0;i--){var a,u=(a=this.components[i]).findAll.apply(a,[t].concat(n));u&&(o=o.concat(u))}return t.apply(void 0,[this].concat(n))&&o.push(this),o}}},{key:"findFirst",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if("string"==typeof t)return Gn(t,this,n[0])[0];if("function"==typeof t){for(var o=this.components.length-1;o>=0;o--){var i,a=(i=this.components[o]).findFirst.apply(i,[t].concat(n));if(null!=a)return a}return t.apply(void 0,[this].concat(n))?this:null}}},{key:"findById",value:function(t){return this.root.findById(t)}},{key:"contains",value:function(t,e){var n=yu(gu(a.prototype),"contains",this).call(this,t,e);if(!n){var r=this.model,o=r.left,i=r.top,u=r.width,c=r.height,s=r.lineWidth,f=void 0===s?0:s,l=this.stuck?0:10+f/2;n=t<Math.max(o+u,o)+l&&t>Math.min(o+u,o)-l&&e<Math.max(i+c,i)+l&&e>Math.min(i+c,i)-l}return n}},{key:"capture",value:function(t,e){var n=this.transcoordP2S(t,e);if(!this.contains(n.x,n.y))return!1;var r=this.bounds;n.x-=r.left,n.y-=r.top;for(var o=this.layout.capturables(this),i=o.length-1;i>=0;i--){var a=o[i].capture(n.x,n.y);if(a)return a}return this.capturable&&this}},{key:"capturePath",value:function(t,e){if(e){if(e.indexOf(this)>-1)return!1;for(var n=0;n<e.length;n++)if(!this.containable(e[n]))return!1}for(var r=[],o=this.bounds,i=o.left,a=o.top,u=o.width,c=o.height,s=0;s<t.length;s++){var f=this.transcoordP2S(t[s].x,t[s].y);if(f.x<i||f.x>i+u||f.y<a||f.y>a+c)return!1;f.x-=i,f.y-=a,r.push(f)}for(var l=this.layout.capturables(this),h=l.length-1;h>=0;h--){var p=l[h];if(p.isContainer()){var y=p.capturePath(r,e);if(y)return y}}return this.focusible&&this}},{key:"render",value:function(t){var e=this.bounds,n=e.left,r=void 0===n?0:n,o=e.top,i=void 0===o?0:o,a=e.width,u=e.height;t.beginPath(),t.rect(r,i,a,u),this.drawFill(t),this.drawStroke(t)}},{key:"postrender",value:function(t){yu(gu(a.prototype),"postrender",this).call(this,t);var e=this.model,n=e.top,r=e.left;e.scale,t.translate(r,n),this.layout.drawables(this).forEach((function(e){e.draw(t)})),t.translate(-r,-n),this.drawText(t)}},{key:"trim",value:function(){this.components.forEach((function(t){t.trim()})),yu(gu(a.prototype),"trim",this).call(this)}},{key:"showMoveHandle",get:function(){return!0}},{key:"hasTextProperty",get:function(){return!1}},{key:"components",get:function(){return this._components}},{key:"focusible",get:function(){return!0}},{key:"layout",get:function(){return Ma.get(this.get("layout"))||Ca}},{key:"hierarchy",get:function(){var t=yu(gu(a.prototype),"hierarchy",this);return this.components&&(t.components=this.components.map((function(t){return t.hierarchy}))),t}}])&&pu(n.prototype,r),o&&pu(n,o),a}(lu(eu(Pa)));function _u(t){return(_u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ku(t,e,n){return(ku="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ou(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Su(t,e){return!e||"object"!==_u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Au(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Ou(t){return(Ou=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Eu(t,e){return(Eu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}["layout"].forEach((function(t){return Pa.memoize(wu.prototype,t,!1)}));var Pu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Eu(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Ou(e);if(Au()){var r=Ou(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Su(this,t)});function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),n=i.call(this,t,e),t.translate=t.translate||{x:0,y:0},n._draw_reserved=!1,n.__draw__=function(){n._draw_reserved=!1,n.trigger("redraw"),n.reflow(),n.draw()},n.throttle_render=function(){n._draw_reserved||requestAnimationFrame(n.__draw__),n._draw_reserved=!0},n}return n=a,(r=[{key:"fitSize",value:function(t,e,n,r){if(this.target){if(e){var o=getComputedStyle(this.target);n=n||(o?parseFloat(o.getPropertyValue("width")):this.target.offsetWidth),r=r||(o?parseFloat(o.getPropertyValue("height")):this.target.offsetHeight)}else n=this.model.width,r=this.model.height;"CANVAS"==t.tagName&&(t.setAttribute("width",n*Mi),t.setAttribute("height",r*Mi)),t.style.width=n+"px",t.style.height=r+"px"}}},{key:"resize",value:function(){var t=this.root.fitMode||this.model.fitMode||"ratio";this.fitSize(this.element,"none"!==t)}},{key:"isLayer",value:function(){return!0}},{key:"createElement",value:function(){var t=Pa.createCanvas(1,1);return t.style.position="absolute",t}},{key:"dispose",value:function(){ku(Ou(a.prototype),"dispose",this).call(this),this.target=null,this.element=null}},{key:"getContext",value:function(){return this._context2D||(this._context2D=this.canvas&&this.canvas.getContext("2d")),this._context2D}},{key:"draw",value:function(t){this.canvas&&(t=t||this.getContext())&&ku(Ou(a.prototype),"draw",this).call(this,t)}},{key:"prerender",value:function(t){var e=this.model,n=e.translate,r=e.scale,o=void 0===r?{x:1,y:1}:r,i=e.rotation;t.clearRect(0,0,t.canvas.width,t.canvas.height),n&&t.translate(n.x*Mi,n.y*Mi),t.scale(o.x*Mi,o.y*Mi),i&&t.rotate(i)}},{key:"contains",value:function(t,e){return!1}},{key:"invalidate",value:function(){this.throttle_render()}},{key:"move",value:function(t){var e=this.get("translate")||{x:0,y:0};this.set({translate:{x:e.x+t.x,y:e.y+t.y}})}},{key:"target",get:function(){return this._target},set:function(t){this._target&&this.element&&this._target.removeChild(this.element),this._target=t,t&&(this.element||(this.element=this.createElement()),this.resize(),t.appendChild(this.element))}},{key:"canvas",get:function(){return this.element}},{key:"selected",get:function(){return this.root.selected},set:function(t){this.root.selected=t}},{key:"focused",get:function(){return this.root.focused},set:function(t){this.root.focused=t}},{key:"rotatePoint",get:function(){return{x:0,y:0}}}])&&xu(n.prototype,r),o&&xu(n,o),a}(wu);function ju(t){return(ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ru(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mu(t,e,n){return(Mu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Lu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Iu(t,e){return!e||"object"!==ju(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Lu(t){return(Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Du(t,e){return(Du=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Fu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Du(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Lu(e);if(Cu()){var r=Lu(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Iu(this,t)});function a(){return Ru(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"postrender",value:function(t){this.drawFill(t),this.drawStroke(t),Mu(Lu(a.prototype),"postrender",this).call(this,t)}},{key:"rotationX",set:function(t){this.setState("rotationX",t)},get:function(){return this.getState("rotationX")}},{key:"rotationY",set:function(t){this.setState("rotationY",t)},get:function(){return this.getState("rotationY")}},{key:"rotationZ",set:function(t){this.setState("rotation",t)},get:function(){return this.getState("rotation")}},{key:"zPos",set:function(t){this.setState("zPos",t)},get:function(){return this.getState("zPos")}},{key:"depth",set:function(t){this.setState("depth",t)},get:function(){return this.getState("depth")}}])&&Tu(n.prototype,r),o&&Tu(n,o),a}(Pa);function Bu(t){return(Bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zu(t,e,n){return(zu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Wu(t,e){return!e||"object"!==Bu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Gu(t){return(Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hu(t,e){return(Hu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qu={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"textarea",label:"front-side-template",name:"frontSideTemplate",property:{language:"html"}},{type:"textarea",label:"back-side-template",name:"backSideTemplate",property:{language:"html"}},{type:"textarea",label:"style",name:"style",property:{language:"css"}}]};function Vu(t,e){var n=t.split(/\s+/),r=n.indexOf(e);return-1!=r?n.splice(r,1):n.splice(-1,0,e),n.join(" ")}var Xu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hu(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Gu(e);if(Yu()){var r=Gu(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Wu(this,t)});function a(){return Nu(this,a),i.apply(this,arguments)}return n=a,o=[{key:"toggle",value:function(t,e,n,r){if(e){var o=t.root.findById(e);o?o._findInfoWindowByComponent(t)?a.hide(t,e):a.show(t,e,n,r):console.warn("InfoWindow Not Found.",e)}else console.warn("InfoWindow not defined.")}},{key:"hide",value:function(t,e){if(e){var n=t.root.findById(e);n?n._removeInfoWindow(t):console.warn("InfoWindow Not Found.",e)}}},{key:"show",value:function(t,e,n,r){if(e){var o=t.root.findById(e);if(o){if(!o._findInfoWindowByComponent(t)){var i=o.model,u=i.frontSideTemplate,c=void 0===u?"":u,s=i.backSideTemplate,f=[c,void 0===s?"":s].filter((function(t){return String(t).trim()}));if(0!=(f=f.map((function(t){return Pa.template(function(t,e,n){return(e||n?['<div class="info-window-btns">',e?'<button class="closable">&#88</button>':"",n?'<button class="flipable">&#8652</button>':"","</div>"]:[]).concat(['<div class="info-window-content">',t,"</div>"]).join("")}(t,!n,2==f.length))}))).length){var l='\n.flip {\n  backface-visibility:             hidden;\n      -moz-backface-visibility:    hidden;\n      -ms-backface-visibility:     hidden;\n      -o-backface-visibility:      hidden;\n      -webkit-backface-visibility: hidden;\n  border-radius: 7px;\n  height: auto;\n  font: normal 14px helvetica, arial, san serif;\n  position: absolute;\n  opacity:.9;\n  transform-origin:             50% 50% 0px;\n      -moz-transform-origin:    50% 50% 0px;\n      -ms-transform-origin:     50% 50% 0px;\n      -o-transform-origin:      50% 50% 0px;\n      -webkit-transform-origin: 50% 50% 0px;\n  transition: all 2s;\n      -moz-transition:    all 2s;\n      -ms-transition:     all 2s;\n      -o-transition:      all 2s;\n      -webkit-transition: all 2s;\n  min-width: 100px;min-height:50px;\n  background-color:#3e424e;\n  box-shadow: 2px 3px 2px 0px rgba(0,0,0,0.15);\n}\n\n#side-1 {\n  transform:             rotateY( 0deg );\n      -moz-transform:    rotateY( 0deg );\n      -ms-transform:     rotateY( 0deg );\n      -o-transform:      rotateY( 0deg );\n      -webkit-transform: rotateY( 0deg );\n}\n.flip:after{\n   content:"";\n   display:block;\n   position: absolute;\n   opacity:.9;\n   width: 0;\n   height: 0;\n}\n.flip.arrow-top:after{\n   left:45%;\n   top:-17px;\n   border-left:10px solid transparent;\n   border-bottom:18px solid #323b44;\n   border-right:10px solid transparent;\n}\n.flip.arrow-right:after{\n   left:100%;\n   top:48%;\n   border-top:10px solid transparent;\n   border-left:18px solid #323b44;\n   border-bottom:10px solid transparent;\n}\n.flip.arrow-bottom:after{\n   left:45%;\n   top:100%;\n   border-left:10px solid transparent;\n   border-top:18px solid #323b44;\n   border-right:10px solid transparent;\n}\n.flip.arrow-left:after{\n   right:100%;\n   top:48%;\n   border-top:10px solid transparent;\n   border-right:18px solid #323b44;\n   border-bottom:10px solid transparent;\n}\n\n#side-2 {\n  transform:             rotateY( 180deg );\n      -moz-transform:    rotateY( 180deg );\n      -ms-transform:     rotateY( 180deg );\n      -o-transform:      rotateY( 180deg );\n      -webkit-transform: rotateY( 180deg );\n}\n\n.flip-side-1 {\n  transform:             rotateY( 0deg ) !important;\n      -moz-transform:    rotateY( 0deg ) !important;\n      -ms-transform:     rotateY( 0deg ) !important;\n      -o-transform:      rotateY( 0deg ) !important;\n      -webkit-transform: rotateY( 0deg ) !important;\n}\n\n.flip-side-2 {\n  transform:             rotateY( 180deg ) !important;\n      -moz-transform:    rotateY( 180deg ) !important;\n      -ms-transform:     rotateY( 180deg ) !important;\n      -o-transform:      rotateY( 180deg ) !important;\n      -webkit-transform: rotateY( 180deg ) !important;\n}\n\n.info-window-btns{\n  position:absolute;\n  top:-18px;\n  right:5px;\n  overflow:hidden;\n}\n.info-window-content{\n  padding:10px;\n  color:#efefef;\n  font-size:13px;\n  line-height:1.4;\n}\n.info-window-btns button{\n  width:40px;height:40px;\n  float:right;\n  border:0;\n  border-radius:50%;\n  background-color:#2a7da1;\n  margin-right:3px;\n  text-align:center;\n  cursor:pointer;\n  font-size:35px;\n  color:#fff;\n  line-height:0;\n}\n.info-window-btns button:hover{\n  background-color:#60bb23;\n}\n'+o.get("style"),h=t.bounds,p=h.left,y=h.top,d=r?t.rootModel.transcoordC2S(r.x,r.y):t.transcoordS2T(p,y);p=d.x,y=d.y;var v=document.createElement("span");v.style.position="absolute";var g=document.createElement("style");if(g.type="text/css",g.styleSheet?g.styleSheet.cssText=l:g.appendChild(document.createTextNode(l)),v.appendChild(g),f[0]){var m=document.createElement("div");m.id="side-1",m.className="flip",m.style.display="inline-block",m.innerHTML=f[0](t)}if(f[1]){var b=document.createElement("div");b.id="side-2",b.className="flip",b.style.display="inline-block",b.innerHTML=f[1](t)}Ii.forEach((function(t){v.addEventListener(t,(function(t){t.stopPropagation()}))})),Ci.forEach((function(t){v.addEventListener(t,(function(t){t.stopPropagation()}))}));var w=t.root.model_layer.overlay;if(m&&v.appendChild(m),b&&v.appendChild(b),w.appendChild(v),o._addInfoWindow(t,v,g),m){var _=m.querySelector(".info-window-btns > .flipable");_&&_.addEventListener("click",(function(t){t.preventDefault(),b.className=Vu(b.className,"flip-side-1"),m.className=Vu(m.className,"flip-side-2")}),!1);var x=m.querySelector(".info-window-btns > .closable");x&&x.addEventListener("click",(function(n){n.preventDefault(),a.hide(t,e)}),!1)}if(b){var k=b.querySelector(".info-window-btns > .flipable");k&&k.addEventListener("click",(function(t){t.preventDefault(),b.className=Vu(b.className,"flip-side-1"),m.className=Vu(m.className,"flip-side-2")}),!1);var S=b.querySelector(".info-window-btns > .closable");S&&S.addEventListener("click",(function(n){n.preventDefault(),a.hide(t,e)}),!1)}var A=m.offsetWidth,O=m.offsetHeight,E=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,t.rootModel.target.getBoundingClientRect()),P=[];m&&P.push(m),b&&P.push(b);var j={x:p,y:y},R=t.transcoordS2C(j.x,j.y);if(R.x+A/2+E.left<E.right&&R.x-A/2>E.left){if(O+20<R.y)return v.style.marginLeft=j.x-A/2+"px",v.style.marginTop=j.y-O-20+"px",void P.forEach((function(t){return t.className+=" arrow-bottom"}));if(R=t.transcoordS2C(j.x,j.y+O+20),E.bottom>R.y+E.top)return v.style.marginLeft=j.x-A/2+"px",v.style.marginTop=j.y+20+"px",void P.forEach((function(t){return t.className+=" arrow-top"}))}if((R=t.transcoordS2C(j.x,j.y)).x-(A+20)>E.left)return v.style.marginLeft=j.x-A-20+"px",v.style.marginTop=j.y-O/2+"px",void P.forEach((function(t){return t.className+=" arrow-right"}));v.style.marginLeft=j.x+20+"px",v.style.marginTop=j.y-O/2+"px",P.forEach((function(t){return t.className+=" arrow-left"}))}}}else console.warn("InfoWindow Not Found.",e)}else console.warn("InfoWindow not defined.")}},{key:"image",get:function(){return a._image||(a._image=new Image,a._image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAY1BMVEVHcEwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADIAbxiAAAAIHRSTlMA+gPshCwwWFzYCeLRm7QRG6rLeDZI9JOJJDtjb1HAf1sAT80AAAQQSURBVHhe7MCBAAAAAMKw/KkzOMG2BAAAAKeu3lUohIEggO7jQi5qHqpgwML5/6+0F0y02z31FlvMMLKt86QMQ1ined2Evih1hFFjLfRWjgzDOGZ6JSiM00B9EuHALtQxJLiQBmqSBCeSUEuEGzs1BDjSaHxWOKK5Eyz/4SoMV/hp4+vtcPkdwZD/udwevNg7t1xXYRiKmkB7C+ENlPLq8fxHeX+RGjWQ1D45ldcIulBIvCvYJGBEadyTzxAcfY57NBjpLScOO/bzugcTHe7IMwiSLMcdHZhocMcMgTLjjgZM7F1bCJZ2v27ARGzYDwIk2Z+JYGJ/iiwQLMv+JAEThjkmRG64Q0Q+gIiIiIiIiIiIyFy0KRFt0bOJZAWSUigmkQaJaXhENiRnYBEpkZySRSRGcmIWEaQnYhHRSI5mESmQnIJFZIqQmGhiEYEbEnPjGlEGjYTogW/WUkOXENENSqZfEXmDiIiIiIiIiIiIiIiIiIiImq5ETIpRpBpjJCMeKy6Ri0ZS9MQjkmkkJs1YRDokp2MRyZGclkUkQnIiEQltaX3Lzb6yiGTpl2y/avqSAxGgelCOKI+Kc2isL0TUSsZ4EREREREREREREREREREREfnIQzXrNWSRTeNxnlOwIgueIr6AAyE+CpiqMEUK71IDO4E+LluEKYKnKcMUifEsTZgiJZ5lDVNkwJPcqzBFoPF/HplfxL/w6b4EPGv1h18Weya1TL8iIiIeiIiIiIiIiEjkPefxV+5YA9PPHylB+u5aqgZ39H+jKOxrqtu+pkzvr9YbzoZ6w2OFkzcrA3yE4WZlSSyFk54VoA/wR43+FaD+r9w32QdWvgvjp2ty2xq8qHPHmtyPFxfrK3hw1ejERlAlfR/Ame2OTow05d4rOLLSlHtDVhI0uRO01JeZ405op6zgNNXT+bIRfpIgn+AkU4pOxBscohojdCHu4RRzjC5EYwVHqRONDkSnEvK/CB3QSU32IRW3ZPnj9iEVoGCNTLVrh8ia1x+6wq8xvB5mz8pxu7oPwIn9lcR0AiuX1+1KX+BXqdvXzWsAC0NsGjzZsS/2Bd6yRA5RgIHkXNhSD3whASZ8rrB9mItuEAizac0fDlHxDMEwpQfD1tW4y3Hjfy5s9nOHH3uwWA+EqEJBWCjoTL/S5toBB/7hu6zer74NgqSP39zJU+qQX3ix763mHTqvIVRUVprCljlElRkEjBqNYevH8veBJ2xhiyhE8YctmhDFH7ZoQhR/2KIJUfxhiyRE8YctmhDFH7ZoQhR/2OIJUfxhC9Ppf/t1jgJACERRsHGyYRZB0Ujvf0xD8w6kP7y6RZmgf/oTFTtbbzJVxZWo2Nlqw6TVy5GowNl6ssm7v50obamfSxQAAAAAAAsKLM15fb3vpQAAAABJRU5ErkJggg=="),a._image}}],(r=[{key:"dispose",value:function(){var t=this;this.infoWindows.map((function(t){return t.component})).forEach((function(e){return t._removeInfoWindow(e)})),zu(Gu(a.prototype),"dispose",this).call(this)}},{key:"_findInfoWindowByComponent",value:function(t){return this.infoWindows.find((function(e){return e.component===t}))}},{key:"_addInfoWindow",value:function(t,e,n){this._findInfoWindowByComponent(t)||this._windows.push({component:t,window:e,styleElement:n})}},{key:"_removeInfoWindow",value:function(t){var e=this._findInfoWindowByComponent(t);if(e){var n=e.window;n&&n.parentNode.removeChild(n);var r=this.infoWindows.lastIndexOf(e);this.infoWindows.splice(r,1)}}},{key:"render",value:function(t){var e=this.bounds,n=e.left,r=e.top,o=e.width,i=e.height;t.beginPath(),t.drawImage(a.image,n,r,o,i)}},{key:"infoWindows",get:function(){return this._windows||(this._windows=[]),this._windows}},{key:"hasTextProperty",get:function(){return!1}},{key:"nature",get:function(){return qu}}])&&Uu(n.prototype,r),o&&Uu(n,o),a}(eu(Fu));Pa.register("info-window",Xu);var Ku='\n<div class="popup-content">\n</div>\n<button class="closable">&#88</button>\n',Qu="\nbutton.closable {\n  width: 20px;\n  height: 20px;\n  right: 0px;\n  top: 0px;\n  padding: 0;\n  margin: 0;\n  border: 0px;\n  text-align: center;\n  cursor: pointer;\n  font-size: 12px;\n  color: black;\n  position: absolute;\n  background-color: transparent;\n}\n\nbutton.closable:hover {\n  background-color:#60bb23;\n}\n",Ju=new WeakMap;function Zu(t,e,n){$u(t),Ju.set(t,{div:e,scene:n})}function $u(t){var e=Ju.get(t);if(e){var n=e.div.parentNode;n&&n.removeChild(e.div);var r=e.scene;r.target=null,r.release(),Ju.delete(t)}}function tc(t){$u(t)}function ec(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.data,o=n.location,i=void 0===o?"center":o,a=n.modal,u=void 0!==a&&a,c=t.app.refProvider;c&&c.get(e,!0).then((function(e){var n=document.createElement("div"),o=n.style;if(u){var a=t.rootModel.bounds,c=a.width,s=a.height;o.position="fixed",o.zIndex=1,o.left=0,o.top=0,o.width=c+"px",o.height=s+"px",o.overflow="auto",o.backgroundColor="rgba(0,0,0,0.3)"}else o.position="absolute",o.display="inline-block";n.innerHTML=u?'\n<div class="popup-content">\n</div>\n':Ku;var f=n.querySelector(".popup-content"),l=e.root.model;c=l.width,s=l.height;f.style.width=c+"px",f.style.height=s+"px";var h=document.createElement("style");h.type="text/css",h.styleSheet?h.styleSheet.cssText=Qu:h.appendChild(document.createTextNode(Qu)),n.appendChild(h);var p=n.querySelector(".popup-content");Ii.forEach((function(t){p.addEventListener(t,(function(e){"click"==t&&console.log(e,e.target),e.stopPropagation()}))})),Ci.forEach((function(t){p.addEventListener(t,(function(t){t.stopPropagation()}))})),n.addEventListener("click",(function(e){return tc(t.root)})),t.root.model_layer.overlay.appendChild(n),Zu(t.root,n,e),u||n.querySelector(".closable").addEventListener("click",(function(e){e.preventDefault(),tc(t.root)}),!1),n.addEventListener("close-scene",(function(e){e.preventDefault(),tc(t.root)}),!1),e.target=f,e.data=r||t.data,e.fit("both");var y=nc(t.rootModel,e.root,t.center,i);u?(f.style.left=y.x+"px",f.style.top=y.y+"px",f.style.width=c+"px",f.style.height=s+"px"):(n.style.left=y.x+"px",n.style.top=y.y+"px",n.style.width=c+"px",n.style.height=s+"px")}),(function(t){console.error("cannot fetch board: "+e,t)}))}function nc(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"center",o=t.bounds,i=e.bounds,a=Math.max(o.width/4-i.width/2,20),u=Math.min(3*o.width/4+i.width/2,o.width-20)-i.width,c=Math.max(o.height/4-i.height/2,20),s=Math.min(3*o.height/4+i.height/2,o.height-20)-i.height;switch(r){case"auto":return{x:n.x<o.width/2?u:a,y:n.y<o.height/2?s:c};case"left-top":return{x:a,y:c};case"right-top":return{x:u,y:c};case"left-bottom":return{x:a,y:s};case"right-bottom":return{x:u,y:s};case"center":default:return{x:(o.width-i.width)/2,y:(o.height-i.height)/2}}}function rc(t){t.hasOwnProperty("_backupStrokeStyle")||(t._backupStrokeStyle=t.model.strokeStyle,t.set("strokeStyle","#f26522"),t.hasOwnProperty("_backupLineWidth")||(t._backupLineWidth=t.model.lineWidth,t.set("lineWidth",t.model.lineWidth+5)))}function oc(t){t.hasOwnProperty("_backupStrokeStyle")&&(t.set("strokeStyle",t._backupStrokeStyle),delete t._backupStrokeStyle,t.hasOwnProperty("_backupLineWidth")&&(t.set("lineWidth",t._backupLineWidth),delete t._backupLineWidth))}function ic(t){return(ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ac(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uc(t,e,n){return(uc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function cc(t,e){return!e||"object"!==ic(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function fc(t){return(fc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lc(t,e){return(lc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hc={x:1,y:1},pc={x:0,y:0},yc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lc(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=fc(e);if(sc()){var r=fc(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return cc(this,t)});function a(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,t,e)}return n=a,(r=[{key:"dispose",value:function(){uc(fc(a.prototype),"dispose",this).call(this),delete this._canvas,delete this._overlay}},{key:"contains",value:function(t,e){return!0}},{key:"isRootModel",value:function(){return!0}},{key:"createElement",value:function(){var t=document.createElement("div");return t.style.position="absolute",t.style["user-select"]="none",t.style.overflow="hidden",this._canvas=Pa.createCanvas(1,1),this._canvas.style.position="absolute",t.appendChild(this._canvas),this._overlay&&t.appendChild(this._overlay),t}},{key:"resize",value:function(){var t=this.model,e=t.width,n=t.height,r=t.fitMode;this.root.fitMode?r=this.root.fitMode:r||(r="ratio");var o,i,a=getComputedStyle(this.target);switch(r){case"both":case"ratio":o=a?parseFloat(a.getPropertyValue("width")):this.target.offsetWidth,i=a?parseFloat(a.getPropertyValue("height")):this.target.offsetHeight;break;case"width":i=n*(o=a?parseFloat(a.getPropertyValue("width")):this.target.offsetWidth)/e;break;case"height":o=e*(i=a?parseFloat(a.getPropertyValue("height")):this.target.offsetHeight)/n;break;default:o=e,i=n}switch(this.fitSize(this.canvas,"none"!==r,o,i),r){case"ratio":case"both":break;case"width":this.element.style.overflowX="hidden",this.element.style.overflowY="auto";break;case"height":this.element.style.overflowX="auto",this.element.style.overflowY="hidden";break;default:this.element.style.overflowX="auto",this.element.style.overflowY="auto"}this.fitSize(this.element,!0)}},{key:"capturePath",value:function(t,e){for(var n=this.layout.capturables(this),r=n.length-1;r>=0;r--){var o=n[r];if(o.isContainer()){var i=o.capturePath(t,e);if(i)return i}}return!1}},{key:"_repositionOverlay",value:function(){var t=this._overlay;if(t){var e=this.model,n=e.translate,r=void 0===n?pc:n,o=e.scale,i=void 0===o?hc:o,a=e.rotation,u=void 0===a?0:a,c=this.bounds,s=c.left,f=c.top;c.width,c.height,t.style.left=s+"px",t.style.top=f+"px";var l="rotate(".concat(u,"rad) scale(").concat(i.x,", ").concat(i.y,") perspective(1px)");t.style["margin-left"]=r.x+"px",t.style["margin-top"]=r.y+"px",["-webkit-","-moz-","-ms-","-o-",""].forEach((function(e){t.style[e+"transform"]=l}))}}},{key:"onchange",value:function(t){var e=this._model;delete e.id,delete e.text,delete e.class,this._repositionOverlay()}},{key:"_onchanged_all",value:function(t,e,n){this.invalidate()}},{key:"_onmouseenter_all",value:function(t,e){if(t.stopPropagation(),this.app&&!this.app.isEditMode&&e){var n=e.origin;if(!(n instanceof a)&&n.model.event&&n.model.event.hover&&!n.hidden){var r=n.model.event.hover;r&&this._doEventAction(r,n,!0,!0,t)}}}},{key:"_onmouseleave_all",value:function(t,e){if(t.stopPropagation(),this.app&&!this.app.isEditMode&&e){var n=e.origin,r=n.model.event&&n.model.event.hover;r&&this._doEventAction(r,n,!1,!0,t)}}},{key:"_onclick",value:function(t,e){if(t.stopPropagation(),!this.app.isEditMode&&e){var n=e.origin,r=n.model.event&&n.model.event.tap;r&&this._doEventAction(r,n,!0,!1,t)}}},{key:"_doEventAction",value:function(t,e,n,r,o){t.action?this._doEventAction_1_1(t,e,n,o):this._doEventAction_1_0(t,e,n,r,o)}},{key:"_doEventAction_1_0",value:function(t,e,n,r,o){var i=t.infoWindow,a=t.emphasize,u=t.target,c=t.value;if(a&&(n?rc(e):r&&oc(e)),i&&!e.hidden&&(n?Xu.show(e,i,!1,{x:o.offsetX,y:o.offsetY}):r&&Xu.hide(e,i)),u)if(/^\$/.test(u)){if(!("value"in t))return;n?(r&&(e._lastValue=this.root.variable(u.substring(1))),this.root.variable(u.substring(1),e.access(c))):(this.root.variable(u,e._lastValue),delete e._lastValue)}else"popup"==u?ec(e,c):"modal-popup"==u?ec(e,c,{modal:!0}):"close-scene"==u?(this.overlay.dispatchEvent(new CustomEvent("close-scene",{bubbles:!0,composed:!0})),this.trigger("close-scene",this)):"infoWindow"==u||"info-window"==u?"click"==o.type&&Xu.show(e,c,r,{x:o.offsetX,y:o.offsetY}):"toggle-info-window"==u?Xu.toggle(e,c,!1,{x:o.offsetX,y:o.offsetY}):this.trigger(u,e.access(c),e)}},{key:"_doEventAction_1_1",value:function(t,e,n,r){var o=t.action,i=t.target,a=t.value,u=t.emphasize,c=void 0!==u&&u,s=t.restore,f=void 0!==s&&s;if(i&&(i=e.access(i)),a&&(a=e.access(a)),c&&(n?rc(e):f&&oc(e)),o)switch(o){case"data-toggle":if(!i)return;(n||f)&&this.root.findAll(i,e).forEach((function(t){t.data=!t.data}));break;case"data-tristate":if(!i)return;(n||f)&&this.root.findAll(i,e).forEach((function(t){var e=Math.round(Math.max(Number(t.data)||0,0));t.data=(e+(n?1:2))%3}));break;case"data-set":if(!i)return;if(n){var l=a;this.root.findAll(i,e).forEach((function(t){t.data=l}))}break;case"value-set":if(!i)return;n&&(l=a,this.root.findAll(i,e).forEach((function(t){t.value=l})));break;case"infoWindow":case"info-window":if(!i)return;"click"==r.type||n?Xu.show(e,i,f,{x:r.offsetX,y:r.offsetY}):f&&Xu.hide(e,i);break;case"toggle-info-window":if(!i)return;Xu.toggle(e,i,!1,{x:r.offsetX,y:r.offsetY});break;case"popup":if(!i)return;ec(e,i);break;case"modal-popup":if(!i)return;ec(e,i,{modal:!0});break;case"close-scene":this.overlay.dispatchEvent(new CustomEvent("close-scene",{bubbles:!0,composed:!0}));break;default:this.trigger(o,i,a,e)}}},{key:"stuck",get:function(){return!0}},{key:"layout",get:function(){return Va}},{key:"overlay",get:function(){if(!this._overlay){var t=document.createElement("div");t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="initial",t.style["user-select"]="none",t.style["transform-origin"]="top left",this.element&&this.element.appendChild(t),this._overlay=t,this._repositionOverlay()}return this._overlay}},{key:"canvas",get:function(){return this._canvas}},{key:"MPP",get:function(){var t=this.model,e=t.scale,n=void 0===e?{x:1,y:1}:e;switch(t.unit){case"mm":case"cm":return 1/this.app.PPM/n.x;case"in":return 1/this.app.PPI/n.x;case"px":default:return 1/n.x}}},{key:"eventMap",get:function(){return{"(self)":{"(all)":{change:this._onchanged_all,mouseenter:this._onmouseenter_all,mouseleave:this._onmouseleave_all,click:this._onclick}}}}}])&&ac(n.prototype,r),o&&ac(n,o),a}(Pu);function dc(t){return(dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mc(t,e){return!e||"object"!==dc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function wc(t){return(wc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _c(t,e){return(_c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}yc.Popup=a,Pa.register("model-layer",yc);var xc=[1,2,10,20,50,50,50,50,50,50],kc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_c(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=wc(e);if(bc()){var r=wc(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return mc(this,t)});function a(){return vc(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"render",value:function(t){var e=this.model,n=e.lineWidth,r=void 0===n?1:n,o=e.fillStyle,i=void 0===o?"lightgray":o,a=e.font,u=void 0===a?"15px Arial":a,c=e.left,s=e.top,f=(e.rotation,e.origin),l=(e.margin,e.width),h=e.height,p=e.side,y=void 0===p?"bottom":p,d=e.strokeStyle,v=void 0===d?"#000000":d,g=e.scale,m=void 0===g?1:g;t.translate(c,s),t.beginPath();var b=Math.round(r/2);t.rect(-b,-b,l+2*b,h+2*b),t.clip(),t.beginPath(),t.rect(0,0,l,h),i&&(t.fillStyle=i,t.fill()),t.lineWidth=r,t.strokeStyle=v,t.stroke(),t.beginPath(),t.font=u;var w="bottom"!==y,_=w?0:h,x=4*h/5,k=2*h/3,S=1*h/2,A=3*h/5;w&&(x=h-x,k=h-k,S=h-S,A=h-1.5*h/5);var O=m*this.app.PPM/this.root.unitScale,E=Math.ceil(f/O),P=this.app.PPM/O,j=P<=1.1?1:xc[Math.round(P)]||100;1!=j&&(E+=(j-E%j)%j);var R=Math.ceil(E*O),T=f+l;for(t.fillStyle=v;R<T;){if(E%10==0){t.moveTo(R-f,S),t.lineTo(R-f,_);var M=(E/10).toString(),I=t.measureText(M);t.fillText(M,R-f-I.width-6,A)}else E%5==0?(t.moveTo(R-f,k),t.lineTo(R-f,_)):(t.moveTo(R-f,x),t.lineTo(R-f,_));E+=j,R=Math.ceil(E*O)}}}])&&gc(n.prototype,r),o&&gc(n,o),a}(eu(Fu));function Sc(t){return(Sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ac(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ec(t,e){return!e||"object"!==Sc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function jc(t){return(jc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rc(t,e){return(Rc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.register("ruler",kc);var Tc={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"round",name:"round",property:"round"}]},Mc={ondragmove:function(t,e,n){var r=n.model,o=r.left,i=(r.top,r.width),a=r.height,u=(n.transcoordP2S(t.x,t.y).x-o)/(i/2)*100;u=Ic(u,i,a),n.set({round:u})}};function Ic(t,e,n){var r=e>n?n/e*100:100;return t>=r?t=r:t<=0&&(t=0),t}var Cc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rc(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=jc(e);if(Pc()){var r=jc(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Ec(this,t)});function a(){return Ac(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"is3dish",value:function(){return!0}},{key:"render",value:function(t){var e=this.model.round,n=void 0===e?0:e,r=this.bounds,o=r.left,i=r.top,a=r.width,u=r.height;t.translate(o,i),t.beginPath();var c=(n=Ic(n,a,u))/100*(a/2);t.moveTo(c,0),t.arcTo(a,0,a,u,c),t.arcTo(a,u,0,u,c),t.arcTo(0,u,0,0,c),t.arcTo(0,0,a,0,c),t.translate(-o,-i)}},{key:"controls",get:function(){var t=this.model,e=t.left,n=t.top,r=t.width,o=t.round,i=t.height;return[{x:e+r/2*((o=null==o?0:Ic(o,r,i))/100),y:n,handler:Mc}]}},{key:"nature",get:function(){return Tc}}])&&Oc(n.prototype,r),o&&Oc(n,o),a}(eu(Fu));function Lc(t){return(Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fc(t,e,n){return(Fc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Uc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Bc(t,e){return!e||"object"!==Lc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Uc(t){return(Uc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zc(t,e){return(zc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.register("rect",Cc);var Wc=90*Math.PI/180;function Yc(t,e,n){return{left:-t.x,top:-t.y,width:20,height:20}}function Gc(t,e,n,r){return{left:20-t.x,top:0-t.y,origin:20-t.x,width:e-20,height:20}}function Hc(t,e,n,r){var o={x:0-t.x+10,y:20-t.y+(n-20)/2},i=Pa.transcoordRR(0-t.x,20-t.y,o,Wc);return{left:i.x-(n-20),top:i.y,origin:20-t.y,width:n-20,height:20}}function qc(t){var e=t.get("translate");return{left:-e.x,top:-e.y,width:t.canvas.width/Mi,height:t.canvas.height/Mi}}var Vc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zc(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Uc(e);if(Nc()){var r=Uc(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Bc(this,t)});function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t,e)).appScale={x:1,y:1},"disabled"!==t.ruler&&(n.hruler=new kc({left:20,top:0,origin:20,margin:0,height:20,unit:"m",rotation:0,font:"9px Verdana",fillStyle:"#f4f4f4",strokeStyle:"#999",capturable:!1}),n.vruler=new kc({left:0,top:0,origin:20,margin:0,height:20,unit:"m",rotation:Wc,font:"9px Verdana",side:"top",fillStyle:"#f4f4f4",strokeStyle:"#999",capturable:!1}),n.origin_rect=new Cc({left:-20,top:-20,width:20,height:20,fillStyle:"#f4f4f4",strokeStyle:"#999",lineWidth:1}),n.addComponent(n.hruler),n.addComponent(n.vruler),n.addComponent(n.origin_rect)),n.invalidate(),n}return n=a,(r=[{key:"ready",value:function(){if(this.hruler){var t=this.rootModel,e=Object.assign({},t.get("translate"));e.x<20&&(e.x+=20),e.y<20&&(e.y+=20);var n=t.get("scale")||{x:1,y:1};this.appScale=n,this.hruler.set("scale",n.x),this.vruler.set("scale",n.y),t.set("translate",e),this.set("translate",e),this.screen_coord=qc(this);var r=this.screen_coord,o=r.width,i=r.height;this.hruler.set(Gc(e,o,0,this.hruler)),this.vruler.set(Hc(e,0,i,this.vruler)),this.origin_rect.set(Yc(e))}else this.screen_coord=qc(this)}},{key:"resize",value:function(){Fc(Uc(a.prototype),"resize",this).call(this),this.screen_coord=qc(this);var t=this.screen_coord,e=t.width,n=t.height;this.hruler&&(this.hruler.set(Gc(this.model.translate,e,0,this.hruler)),this.vruler.set(Hc(this.model.translate,0,n,this.vruler)),this.origin_rect.set(Yc(this.model.translate)))}},{key:"render",value:function(t){if(this.guide){t.save();var e=this.guide,n=e.x,r=e.y,o=this.screen_coord,i=o.top,a=o.left,u=o.width,c=o.height;t.beginPath(),t.moveTo(n,i),t.lineTo(n,i+c),t.moveTo(a,r),t.lineTo(a+u,r),t.lineWidth=1,t.strokeStyle="tomato",t.setLineDash([2,3]),t.font="10px tahoma",t.fillStyle="#333";var s=this.transcoordS2C(n,r,this.rootModel);t.textBaseline=s.y>200?"bottom":"top",t.textAlign=s.x>200?"right":"left";var f=s.y>200?-5:5,l=s.x>200?-5:5,h=Math.round(n/this.appScale.x),p=Math.round(r/this.appScale.y);t.fillText(" ".concat(h,", ").concat(p," "),n+l,r+f),t.stroke(),t.restore()}}},{key:"contains",value:function(t,e){return!0}},{key:"onmousedown_origin",value:function(t,e){this.rootModel.set("translate",{x:20,y:20})}},{key:"onchange_root_model",value:function(t,e,n){if(t.scale&&(this.appScale=t.scale,this.hruler&&(this.hruler.set("scale",t.scale.x),this.vruler.set("scale",t.scale.y))),t.translate&&this.set({translate:{x:t.translate.x,y:t.translate.y}}),t.scale||t.translate){if(this.screen_coord=qc(this),this.hruler){var r=this.model.translate,o=this.screen_coord,i=o.width,a=o.height;this.hruler.set(Gc(r,i,0,this.hruler)),this.vruler.set(Hc(r,0,a,this.vruler)),this.origin_rect.set(Yc(r))}this._guide=null}this.invalidate()}},{key:"onmouseout_child",value:function(t){this._guide=null,this.invalidate()}},{key:"onmousemove_child",value:function(t,e){t.target&&"CANVAS"!==t.target.tagName?this.guide=null:this.guide=this.transcoordC2S(t.offsetX,t.offsetY)}},{key:"capturable",get:function(){return!1}},{key:"guide",get:function(){return this._guide},set:function(t){this._guide=t,this.invalidate()}},{key:"eventMap",get:function(){return{"(root)":{"(descendant)":{mousemove:this.onmousemove_child,mouseout:this.onmouseout_child,dragmove:this.onmousemove_child},"model-layer":{change:this.onchange_root_model}},"(self)":{"(descendant)":{mousedown:this.onmousedown_origin}}}}}])&&Dc(n.prototype,r),o&&Dc(n,o),a}(Pu);function Xc(t){return(Xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jc(t,e){return!e||"object"!==Xc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function $c(t){return($c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ts(t,e){return(ts=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.register("guide-layer",Vc);var es=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ts(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=$c(e);if(Zc()){var r=$c(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Jc(this,t)});function a(){return Kc(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"ready",value:function(){var t=this.rootModel.get("translate");this.set("translate",t)}},{key:"render",value:function(t){}},{key:"contains",value:function(t,e){return!(this.app.mode!=Ri)}},{key:"onkeydown",value:function(t){32==t.keyCode&&void 0===this.before_mode&&(this.before_mode=this.app.mode,this.app.mode=Ri)}},{key:"onkeyup",value:function(t){32==t.keyCode&&(null!=this.before_mode&&(this.app.mode=this.before_mode),delete this.before_mode)}},{key:"ondragstart",value:function(t){this.last_position=this.transcoordC2S(t.offsetX,t.offsetY)}},{key:"ondragmove",value:function(t){var e=this.transcoordC2S(t.offsetX,t.offsetY),n=e.x,r=e.y;this.rootModel.move({x:n-this.last_position.x,y:r-this.last_position.y}),this.last_position=this.transcoordC2S(t.offsetX,t.offsetY)}},{key:"eventMap",get:function(){return{"(root)":{"(self)":{keydown:this.onkeydown,keyup:this.onkeyup}}}}}])&&Qc(n.prototype,r),o&&Qc(n,o),a}(Pu);function ns(t){return(ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function os(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function is(t,e,n){return(is="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cs(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function as(t,e){return!e||"object"!==ns(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function us(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function cs(t){return(cs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ss(t,e){return(ss=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.register("shift-layer",es);var fs=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ss(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=cs(e);if(us()){var r=cs(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return as(this,t)});function a(){return rs(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"isHTMLElement",value:function(){return!0}},{key:"setElementProperties",value:function(t){throw new Error("Not Implemented Yet")}},{key:"createElement",value:function(){var t=this;this.element=document.createElement(this.tagName),this.element&&(this.parent.isHTMLElement()?this.parent.element.appendChild(this.element):this.root.model_layer.overlay.appendChild(this.element),Ii.forEach((function(e){t.element.addEventListener(e,t.userInputEventHandler.bind(t))})),Ci.forEach((function(e){t.element.addEventListener(e,t.userInputEventHandler.bind(t))})),this.oncreate_element&&this.oncreate_element(this.element))}},{key:"userInputEventHandler",value:function(t){t.stopPropagation()}},{key:"reposition",value:function(){this.element&&la(this)}},{key:"disposeElement",value:function(){var t=this.element;t&&t.parentElement&&t.parentElement.removeChild(t),delete this.element}},{key:"ready",value:function(){!this.element&&this.createElement(),this.parent.isHTMLElement()?this.parent.element.appendChild(this.element):this.root.model_layer.overlay.appendChild(this.element),this.setElementProperties(this.element),this.reposition()}},{key:"dispose",value:function(){this.disposeElement(this),is(cs(a.prototype),"dispose",this).call(this)}},{key:"onchange",value:function(t,e){this.element&&this.setElementProperties(this.element),this.reposition()}},{key:"isDescendible",value:function(t){return t.isHTMLElement()}},{key:"element",get:function(){return this._element},set:function(t){this._element=t}},{key:"tagName",get:function(){return this.get("type")}},{key:"hasTextProperty",get:function(){return!0}},{key:"textHidden",get:function(){return!0}}])&&os(n.prototype,r),o&&os(n,o),a}(t)};function ls(t){return(ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ps(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ys(t,e){return!e||"object"!==ls(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ds(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function vs(t){return(vs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gs(t,e){return(gs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ms={x:1,y:1},bs={boxSizing:"border-box",margin:"0px",position:"absolute",outline:"none"},ws={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"layout",label:"layout",name:"layoutOption"}]},_s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gs(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=vs(e);if(ds()){var r=vs(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return ys(this,t)});function a(){return hs(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"setElementProperties",value:function(t){}},{key:"reposition",value:function(){if(this.element){var t=this.state,e=t.id,n=t.class,r=t.scale,o=void 0===r?ms:r,i=this.rotation,a=void 0===i?0:i,u=this.hidden,c=this.bounds,s=c.left,f=c.top,l=c.width,h=c.height,p=l/2,y=h/2,d=this.element;d.hidden=u,e&&(d.id=e),n&&(d.className=n),Object.assign(d.style,bs,{left:s+"px",top:f+"px",width:"0px",height:"0px",backgroundColor:"transparent"});var v=this.delta(),g=(o&&o.x||1)*v.sx,m=(o&&o.y||1)*v.sy,b=(a||0)+v.theta,w=v.tx||0,_=v.ty||0;["-webkit-","-moz-","-ms-","-o-",""].forEach((function(t){d.style[t+"transform"]="translate(".concat(w+p,"px, ").concat(_+y,"px) rotate(").concat(b,"rad) translate(").concat(-p,"px, ").concat(-y,"px) scale(").concat(g,", ").concat(m,") perspective(1px)")}))}}},{key:"tagName",get:function(){return"div"}},{key:"nature",get:function(){return ws}},{key:"layout",get:function(){return Ma.get(this.get("layout"))||Va}}])&&ps(n.prototype,r),o&&ps(n,o),a}(fs(wu));function xs(t){return(xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ks(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ss(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function As(t,e,n,r){return(As="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,r){var o,i=Ps(t,e);if(i){if((o=Object.getOwnPropertyDescriptor(i,e)).set)return o.set.call(r,n),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(r,e)){if(!o.writable)return!1;o.value=n,Object.defineProperty(r,e,o)}else Os(r,e,n);return!0})(t,e,n,r)}function Os(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Es(t,e,n){return(Es="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Ps(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ps(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ts(t)););return t}function js(t,e){return!e||"object"!==xs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rs(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Ts(t){return(Ts=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ms(t,e){return(Ms=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.register("container",_s);var Is=["left","top","width","height","rotation","animation"],Cs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ms(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Ts(e);if(Rs()){var r=Ts(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return js(this,t)});function a(){return ks(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"isGroup",value:function(){return!0}},{key:"get",value:function(t){return this._model[t]}},{key:"set",value:function(t,e){if("string"==typeof t)return this.set(Os({},t,e));var n=Is.reduce((function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e}),{});return Es(Ts(a.prototype),"set",this).call(this,n)}},{key:"capture",value:function(t,e){var n=Es(Ts(a.prototype),"capture",this).call(this,t,e);if(n!==this)return n}},{key:"calculateBounds",value:function(){this.clearCache(),this.__MUTATING__=!0,this.mutateBounds((function(t){var e=Pa.union(this.components.map((function(t){return t.bounds})));return this.components.forEach((function(t){var n=t.bounds;t.bounds={left:n.left-e.left,top:n.top-e.top,width:n.width,height:n.height}})),{left:t.left+e.left,top:t.top+e.top,width:e.width,height:e.height}}),this),this.__MUTATING__=!1,this.parent.isGroup()&&this.parent.calculateBounds()}},{key:"render",value:function(t){}},{key:"postrender",value:function(t){var e=this.model,n=e.top,r=e.left;e.scale,t.translate(r,n),this.layout.drawables(this).forEach((function(e){e.draw(t)})),t.translate(-r,-n)}},{key:"bounds",set:function(t){if(this.__MUTATING__)!function(t,e,n,r,o){if(!As(t,e,n,r||t)&&o)throw new Error("failed to set property")}(Ts(a.prototype),"bounds",t,this,!0);else{var e=this.bounds,n=t.width/e.width,r=t.height/e.height;this.path=this.path.map((function(o){return{x:t.left+(o.x-e.left)*n,y:t.top+(o.y-e.top)*r}})),this.components&&this.components.forEach((function(t){if(t.mutable)t.mutatePath(null,(function(t){return t.map((function(t){return{x:t.x*n,y:t.y*r}}))}));else{var e=t.bounds,o=t.center,i={x:o.x*(1-n),y:o.y*(1-r)},a=e.width*(1-n),u=e.height*(1-r),c=-(i.x-a/2),s=-(i.y-u/2);t.bounds={left:e.left+c,top:e.top+s,width:e.width*n,height:e.height*r}}}))}},get:function(){return Es(Ts(a.prototype),"bounds",this)}},{key:"focusible",get:function(){return!1}},{key:"hasTextProperty",get:function(){return!1}}])&&Ss(n.prototype,r),o&&Ss(n,o),a}(_s);function Ls(t){return(Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ds(t){return function(t){if(Array.isArray(t))return Fs(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Fs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fs(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ns(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Us(t,e){return!e||"object"!==Ls(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zs(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Ws(t){return(Ws=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ys(t,e){return(Ys=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gs(t,e,n,r){var o=t.selected,i=r?o.slice(0):[];r&&i.length>0?e=i[0].parent:e.isContainer()||(e=e.parent);var a=e.layout.capturables(e),u=!!e.layout.joinType;if(r&&n.selected.forEach((function(t){i.splice(i.indexOf(t),1)})),n.selected=[],a.forEach((function(t){t.capturable&&function(t,e,n){var r,o,i,a,u=e.sx,c=e.sy,s=e.ex,f=e.ey;if(u>s?(r=s,o=u):(r=u,o=s),c>f?(i=f,a=c):(i=c,a=f),n){var l=t.bounds,h=t.transcoordS2TR(l.left,l.top),p=t.transcoordS2TR(l.left+l.width,l.top+l.height),y=h.x,d=p.x,v=h.y,g=p.y,m=Math.min(r,y,o,d),b=Math.max(r,y,o,d),w=Math.min(i,v,a,g),_=Math.max(i,v,a,g);return!(b-m>Math.abs(o-r)+Math.abs(d-y))&&!(_-w>Math.abs(a-i)+Math.abs(g-v))}var x=t.path;if(!x)return gi("컴포넌트에 get path가 잘못 구현되어있음.",t),!1;for(var k=0;k<x.length;k++){var S=t.transcoordS2TR(x[k].x,x[k].y);if(r>S.x||o<S.x||i>S.y||a<S.y)return!1}return!0}(t,n,u)&&-1==i.indexOf(t)&&n.selected.push(t)})),i=i.concat(n.selected),o.length!==i.length)t.selected=i;else for(var c=0;c<i.length;c++)if(o[c]!=i[c]){t.selected=i;break}}function Hs(t,e,n,r,o){o||Gs(t,e,n,r)}Pa.register("group",Cs);var qs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ys(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Ws(e);if(zs()){var r=Ws(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Us(this,t)});function a(){return Bs(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"ready",value:function(){var t=this.rootModel,e=t.get("translate"),n=t.get("scale");this.set("translate",e),this.set("scale",n)}},{key:"contains",value:function(t,e){return!1}},{key:"render",value:function(t){var e=this.selbox;if(e){var n=e.sx,r=e.sy,o=e.ex,i=e.ey,a=this.get("scale")||{x:1,y:1};t.beginPath(),t.rect(n,r,o-n,i-r),t.setLineDash([2/a.x,4/a.y]),t.lineWidth=1/a.x,t.strokeStyle="black",t.stroke()}}},{key:"onkeydown",value:function(t,e){e.origin;var n=e.deliverer,r=n.selected;if(1!=r.length)return!1;var o=r[0],i=o.parent;if(!i||i===n)return!1;if("Tab"==t.code){if("Tab"!=t.code)return!1;var a=i.layout.capturables(i),u=a.indexOf(o);if(-1==u){if(!i.indexOf(o))return mi("Container not contains [",o,"] as a component"),!1;u=0}var c=a.length;t.shiftKey?u--:u++,o=a[(u+c)%c]}else{if(!i.layout.keyNavigate)return!1;o=i.layout.keyNavigate(i,o,t)||o}n.selected=[o],t.preventDefault()}},{key:"onchange_root_model",value:function(t,e,n){t.translate&&this.set("translate",t.translate),t.scale&&this.set("scale",t.scale)}},{key:"_pendingDecision",value:function(t){this.downpoint={x:t.offsetX,y:t.offsetY}}},{key:"_selectGroupItem",value:function(t,e){for(var n=this.selected.indexOf(t),r=t.parent;r.parent.isGroup();)r=r.parent;var o=[],i=!1,a=!1;if(this.selected.forEach((function(t){var e=t.parent;if(t!==r){for(;e.parent&&e.parent.isGroup();)e=e.parent;e===r&&(o.push(t),i=!0)}else a=!0})),i)if(e.shiftKey){if(-1!=n)return void this._pendingDecision(e);o.push(t)}else{if(-1!=n)return void this._pendingDecision(e);o=[t]}else{if(a)return void this._pendingDecision(e);if(e.shiftKey)if(this.selected.length>0){if(-1!=this.selected.indexOf(r)||this.selected[0].parent!==r.parent)return;o=[].concat(Ds(this.selected),[r])}else o=[r];else o=[r]}this.selected=o}},{key:"onmousedown_comp",value:function(t,e){var n=e.origin;if(this.downpoint=null,t.shiftKey){if(n.parent.isGroup())return void this._selectGroupItem(n,t);if(-1!=this.selected.indexOf(n))return void this._pendingDecision(t);var r=this.selected.filter((function(t){return!t.isRootModel()&&!!t.parent})),o=r.length>0&&r[0].parent;if(o&&o!==n.parent)return void(n.parent.isGroup()&&this._pendingDecision(t));r.push(n),this.selected=r}else{if(n.parent.isGroup())return void this._selectGroupItem(n,t);if(-1!=this.selected.indexOf(n))return;this.selected=[n]}}},{key:"onmouseup_comp",value:function(t,e){if(this.downpoint&&this.downpoint.x===t.offsetX&&this.downpoint.y===t.offsetY){var n=e.origin,r=this.selected.indexOf(n);if(-1==r&&n.parent.isGroup()&&(r=this.selected.indexOf(n.parent)),-1!==r&&t.shiftKey){var o=this.selected.slice();return r>-1&&o.splice(r,1),void(this.selected=o)}n.parent.isGroup()&&(this.selected=[n])}}},{key:"ondragstart_selbox",value:function(t,e){if(e.origin.stuck){var n=this.transcoordC2S(t.offsetX,t.offsetY),r=n.x,o=n.y;this.selbox={sx:r,sy:o,selected:[]}}}},{key:"ondragmove_selbox",value:function(t,e){var n=e.origin;if(n.stuck){var r=this.transcoordC2S(t.offsetX,t.offsetY),o=r.x,i=r.y;e.deliverer,this.selbox&&(this.selbox.ex=o,this.selbox.ey=i,Hs(this,n,this.selbox,t.shiftKey),this.invalidate())}}},{key:"ondragend_selbox",value:function(t,e){e.origin.stuck&&(this.last_pos=null,this.selbox=null,Hs(this,null,null,!1,!0),this.invalidate())}},{key:"eventMap",get:function(){return{"(root)":{"(self)":{keydown:this.onkeydown}},"model-layer":{"(self)":{change:this.onchange_root_model},"(all)":{dragstart:this.ondragstart_selbox,dragmove:this.ondragmove_selbox,dragend:this.ondragend_selbox,mousedown:this.onmousedown_comp,mouseup:this.onmouseup_comp}}}}}])&&Ns(n.prototype,r),o&&Ns(n,o),a}(Pu);function Vs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Pa.register("selection-layer",qs);var Xs=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.params=Object.assign({},e)}var e,n,r;return e=t,(n=[{key:"excute",value:function(){}}])&&Vs(e.prototype,n),r&&Vs(e,r),t}();function Ks(t){return(Ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Js(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zs(t,e){return!e||"object"!==Ks(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function tf(t){return(tf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ef(t,e){return(ef=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ef(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=tf(e);if($s()){var r=tf(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Zs(this,t)});function a(){return Qs(this,a),i.apply(this,arguments)}return n=a,o=[{key:"before",value:function(t){return t.map((function(t){return{component:t}}))}},{key:"after",value:function(t,e){e.execute(null,!1)}},{key:"around",value:function(t,e,n){e.call(n),t.execute(null,!1)}}],(r=[{key:"execute",value:function(){this.params.changes.forEach((function(t){return t.component.set(t.after)}))}}])&&Js(n.prototype,r),o&&Js(n,o),a}(Xs);function rf(t){return(rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function of(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function af(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uf(t,e){return!e||"object"!==rf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function sf(t){return(sf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ff(t,e){return(ff=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lf(t){for(var e=0;t&&!t.isRootModel();)e+=t.get("rotation")||0,t=t.parent;return e%(2*Math.PI)}var hf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ff(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=sf(e);if(cf()){var r=sf(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return uf(this,t)});function a(){return of(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"execute",value:function(){this.params.changes.forEach((function(t){var e=t.component,n=t.to_container,r=t.to_index,o=t.to_left,i=t.to_top,a=(t.hint,function(t){if(t.isRootModel())return t.bounds;var e=t.bounds,n=t.rotatePoint,r=n;return{left:(r=t.transcoordS2T(r.x,r.y)).x-(n.x-e.left),top:r.y-(n.y-e.top),width:e.width,height:e.height}}(e)),u=lf(e);if(e.removeSelf(!n),e.bounds=a,e.set("rotation",u),n){e.set("rotation",function(t,e){return((t.get("rotation")||0)-lf(e))%(2*Math.PI)}(e,n));var c=function(t,e){if(e.isRootModel())return t.bounds;var n=t.bounds,r=t.rotatePoint,o=e.transcoordT2S(r.x,r.y),i=e.bounds;return{left:o.x-(r.x-n.left)-i.left,top:o.y-(r.y-n.top)-i.top,width:n.width,height:n.height}}(e,n);t.to_left=void 0!==o?o:c.left,t.to_top=void 0!==i?i:c.top,e.bounds={left:t.to_left,top:t.to_top,width:c.width,height:c.height},void 0===r?n.addComponent(e):n.insertComponentAt(e,r)}}))}}])&&af(n.prototype,r),o&&af(n,o),a}(Xs);function pf(t,e){var n=Pa.register(t.type);if(!n)return mi("Class not found",t.type),null;var r=new n(t,e);return t.components&&r.isContainer()&&(t.components.forEach((function(t){var n=pf(t,e);n&&r.addComponent(n)})),delete t.components),r.created(),r}function yf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var df=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.layer=e}var e,n,r;return e=t,(n=[{key:"draw",value:function(t,e,n){var r=e.bounds;0!=r.width&&0!=r.height&&(t.beginPath(),t.rect(r.left,r.top,r.width,r.height),t.clip(),t.beginPath(),t.strokeStyle="#f26522",t.lineWidth=4,t.shadowBlur=10,t.shadowColor="black",t.shadowOffsetX=0,t.shadowOffsetY=0,t.rect(r.left,r.top,r.width,r.height),t.stroke(),t.closePath())}}])&&yf(e.prototype,n),r&&yf(e,r),t}();function vf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var gf=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.layer=e}var e,n,r;return e=t,(n=[{key:"draw",value:function(t,e,n){var r=e.bounds;t.beginPath(),t.rect(r.left,r.top,r.width,r.height),t.setLineDash([3/n.x,4/n.y]),t.lineWidth=1/n.x,t.strokeStyle="black",t.stroke(),t.setLineDash([]),t.closePath()}}])&&vf(e.prototype,n),r&&vf(e,r),t}();function mf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var bf=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.layer=e}var e,n,r;return e=t,(n=[{key:"reset",value:function(){this.active=null}},{key:"contains",value:function(t,e,n,r){var o=this,i=n.controls;return!!i&&(i.every((function(i,a){return Math.abs(t-i.x)<=4/r.x&&Math.abs(e-i.y)<=4/r.y&&(o.active={component:n,index:a,handler:i.handler}),!o.active})),!!this.active)}},{key:"draw",value:function(t,e,n){var r=e.controls;r&&r.forEach((function(e,r){t.beginPath(),t.lineWidth=1/n.x,t.ellipse(e.x,e.y,4/n.x,4/n.y,0,0,2*Math.PI,!0),t.fillStyle="#ff5d72",t.fill(),t.strokeStyle="#fff",t.stroke()}))}},{key:"onevent",value:function(t,e){var n=this.active,r=n.handler,o=n.component,i=n.index,a=o.transcoordC2S(e.offsetX,e.offsetY);a=o.transcoordS2P(a.x,a.y),r&&"function"==typeof r[t]&&r[t](a,i,o)}},{key:"onmousedown",value:function(t){this.onevent("onmousedown",t)}},{key:"ondragstart",value:function(t){var e=this.active;e.changes=nf.before([e.component]),this.onevent("ondragstart",t)}},{key:"ondragmove",value:function(t){this.onevent("ondragmove",t)}},{key:"ondragend",value:function(t){this.onevent("ondragend",t);var e=this.active,n=e.component,r=e.changes;nf.after(r,n.app.commander),n.parent&&n.parent.calculateBounds&&n.parent.calculateBounds()}},{key:"selected",get:function(){return this.layer.selected}}])&&mf(e.prototype,n),r&&mf(e,r),t}();function wf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _f(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}var xf=15*Math.PI/180,kf=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.layer=e}var e,n,r;return e=t,(n=[{key:"reset",value:function(){this.active=null}},{key:"contains",value:function(t,e,n,r){var o=this;return!!n.mutable&&(n.path.every((function(i,a){return Math.abs(t-i.x)<=4/r.x&&Math.abs(e-i.y)<=4/r.y&&(o.active={component:n,index:a}),!o.active})),!!this.active)}},{key:"draw",value:function(t,e,n){if(e.mutable&&!e.stuck){var r=e.path,o=this.active;r.forEach((function(r,i){t.beginPath(),t.ellipse(r.x,r.y,4/n.x,4/n.y,0,0,2*Math.PI,!0),t.lineWidth=1/n.x,t.strokeStyle="#656565",t.fillStyle="#fff",o&&o.component===e&&o.index===i&&(t.strokeStyle="#fa7703",o.toFill&&(t.fillStyle="#ffb80c")),t.fill(),t.stroke()}))}}},{key:"ondblclick",value:function(t){var e=this.active.component;if(e.pathExtendable){var n=e.path.slice();n.length<4||(n.splice(this.active.index,1),e.path=n)}}},{key:"onmousedown",value:function(t){this.active.toFill=!0}},{key:"ondragstart",value:function(t){var e=this.active;e.changes=nf.before([e.component])}},{key:"ondragmove",value:function(t){var e,n,r=this.active,o=r.component,i=r.index,a=o.transcoordC2S(t.offsetX,t.offsetY);if(a=o.transcoordS2P(a.x,a.y),t.shiftKey){var u=o.path.length,c=o.isLine()&&0==i?o.path[1]:o.path[(i-1+u)%u];c=o.transcoordS2P(c.x,c.y);var s,f=0;u>2&&(o.isLine()?0==i?s=o.path[2]:1!=i&&(s=o.path[i-2]):s=o.path[(i-2+u)%u],s&&(f=_f(s=o.transcoordS2P(s.x,s.y),c)));var l=Math.round((_f(c,a)-f)/xf)*xf+f;a=function(t,e,n){return{x:Math.cos(e)*n+t.x,y:Math.sin(e)*n+t.y}}(c,l,(e=c,n=a,Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y))))}o.mutatePath(null,(function(t){t[i]=a}))}},{key:"ondragend",value:function(t){var e=this.active,n=e.component,r=e.changes;nf.after(r,n.app.commander),n.parent&&n.parent.calculateBounds&&n.parent.calculateBounds()}},{key:"selected",get:function(){return this.layer.selected}}])&&wf(e.prototype,n),r&&wf(e,r),t}();function Sf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Af(t,e,n){var r,o,i=t.bounds,a=i.left,u=i.top,c=i.width,s=i.height;switch(e){case 0:r=a,o=u;break;case 1:r=a+c/2,o=u;break;case 2:r=a+c,o=u;break;case 3:r=a+c,o=u+s/2;break;case 4:r=a+c,o=u+s;break;case 5:r=a+c/2,o=u+s;break;case 6:r=a,o=u+s;break;case 7:r=a,o=u+s/2}var f=r,l=o,h=t.transcoordT2S(n.x,n.y);return{dx:h.x-f,dy:h.y-l}}function Of(t,e,n,r,o,i){var a=t.bounds,u=a.left,c=a.top,s=a.width,f=a.height,l={left:u,top:c,width:s,height:f};switch(e){case 0:u+=r,c+=o,s-=r,f-=o;break;case 1:c+=o,f-=o;break;case 2:c+=o,s+=r,f-=o;break;case 3:s+=r;break;case 4:s+=r,f+=o;break;case 5:f+=o;break;case 6:u+=r,s-=r,f+=o;break;case 7:u+=r,s-=r}if(t.mutateBounds((function(e){return Math.abs(s)<=.001&&(s=.001),Math.abs(f)<=.001&&(f=.001),t.adjustResize({left:u,top:c,width:s,height:f},l,n)}),this),t.isContainer()&&t.layout.ABSOLUTE&&!t.isGroup()){var h=l.left-u,p=l.top-c;i?t.components.forEach((function(t){t.delta("tx",0),t.delta("ty",0),t.move({x:h,y:p})})):t.components.forEach((function(t){t.delta("tx",h),t.delta("ty",p)}))}else{var y=i&&t.parent;y&&y.isGroup()&&y.calculateBounds()}}function Ef(t){var e=t.left,n=t.top,r=t.width,o=t.height,i=e+r/2,a=n+o/2,u=e+r,c=n+o;return[{x:e,y:n},{x:i,y:n},{x:u,y:n},{x:u,y:a},{x:u,y:c},{x:i,y:c},{x:e,y:c},{x:e,y:a}]}var Pf=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.layer=e}var e,n,r;return e=t,(n=[{key:"reset",value:function(){this.active=null}},{key:"contains",value:function(t,e,n,r){var o=this;return!!n.resizable&&(Ef(n.bounds).every((function(i,a){return Math.abs(t-i.x)<=4/r.x&&Math.abs(e-i.y)<=4/r.y&&(o.active={component:n,index:a}),!o.active})),!!this.active)}},{key:"draw",value:function(t,e,n){if(!e.isLine()){var r=e.bounds;if(t.beginPath(),t.rect(r.left,r.top,r.width,r.height),t.setLineDash([3/n.x,4/n.y]),t.lineWidth=1/n.x,t.strokeStyle="black",t.stroke(),t.setLineDash([]),e.resizable){var o=this.active;Ef(r).forEach((function(r,i){t.beginPath(),t.rect(r.x-4/n.x,r.y-4/n.y,8/n.x,8/n.y),t.setLineDash([0,0]),t.strokeStyle="#656565",t.stroke(),t.fillStyle="#fff",o&&o.component===e&&o.index===i&&(t.strokeStyle="#fa7703",o.focus&&(t.fillStyle="#ffb80c")),t.fill(),t.stroke()}))}}}},{key:"onmousedown",value:function(t){this.active.focus=!0}},{key:"ondragstart",value:function(t){var e=this.active.component;this.active.bounds=e.bounds,this.active.boundsList=this.layer.selected.filter((function(t){return t.resizable})).map((function(t){return t.bounds}))}},{key:"ondragmove",value:function(t){var e=this.active,n=e.component,r=e.index,o=e.boundsList,i=e.bounds,a=this.layer.transcoordC2S(t.offsetX,t.offsetY);n.bounds=i;var u=Af(n,r,a);this.layer.selected.filter((function(t){return t.resizable})).forEach((function(e,n){e.bounds=o[n],Of(e,r,t.shiftKey,u.dx,u.dy,!1)}))}},{key:"ondragend",value:function(t){var e=this.active,n=e.component,r=e.index,o=e.boundsList,i=e.bounds,a=this.layer.transcoordC2S(t.offsetX,t.offsetY);n.bounds=i;var u=Af(n,r,a);this.layer.selected.filter((function(t){return t.resizable})).forEach((function(e,n){e.bounds=o[n],Of(e,r,t.shiftKey,u.dx,u.dy,!0)})),this.active.component.app.commander.execute(null,!1)}},{key:"selected",get:function(){return this.layer.selected}}])&&Sf(e.prototype,n),r&&Sf(e,r),t}();function jf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Rf=2*Math.PI,Tf=Math.PI/2;function Mf(t,e){var n=t.bounds;return{x:n.left+n.width/2,y:n.top-20/e.y}}var If=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.layer=e}var e,n,r;return e=t,(n=[{key:"reset",value:function(){this.active=null}},{key:"contains",value:function(t,e,n,r){if(!n.rotatable)return!1;var o=Mf(n,r);return Math.abs(t-o.x)<=4/r.x&&Math.abs(e-o.y)<=4/r.y&&(this.active={component:n},!0)}},{key:"draw",value:function(t,e,n){if(e.rotatable){t.beginPath();var r=Mf(e,n);t.lineWidth=1.5/n.x,t.moveTo(r.x,r.y+20/n.y),t.lineTo(r.x,r.y),t.strokeStyle="#656565",t.stroke(),t.beginPath(),t.ellipse(r.x,r.y,4/n.x,4/n.y,0,0,Rf,!0),t.stroke(),t.fillStyle="#fff",t.fill();var o=this.active;o&&o.component===e&&(t.strokeStyle="#fa7703",t.stroke(),o.toFill&&(t.fillStyle="#ffb80c",t.fill()))}}},{key:"onmousedown",value:function(t){this.active.toFill=!0}},{key:"ondragstart",value:function(t){var e=this.active;e.component,e.start_rotation=e.component.get("rotation"),e.rotations=this.layer.selected.filter((function(t){return t.rotatable})).map((function(t){return t.get("rotation")}))}},{key:"ondragmove",value:function(t){var e=this.active.component,n=e.transcoordC2S(t.offsetX,t.offsetY);n=e.transcoordS2P(n.x,n.y);var r=e.rotatePoint,o=e.get("rotation")||0,i=Math.atan((r.y-n.y)/(r.x-n.x)),a=(i=r.x>=n.x?i-Tf:Tf+i)-o;this.layer.selected.filter((function(t){return t.rotatable})).forEach((function(e,n){var r=((e.get("rotation")||0)+a)%Rf;e.set("rotation",e.adjustRotation(r,t.shiftKey))}))}},{key:"ondragend",value:function(t){var e=this.active,n=e.component;e.rotations,n.app.commander.execute(null,!1)}},{key:"selected",get:function(){return this.layer.selected}}])&&jf(e.prototype,n),r&&jf(e,r),t}();function Cf(t){return(Cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Df(t,e){return!e||"object"!==Cf(e)&&"function"!=typeof e?Ff(t):e}function Ff(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Nf(t){return(Nf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Uf(t,e){return(Uf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uf(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Nf(e);if(Bf()){var r=Nf(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Df(this,t)});function a(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),n=i.call(this,t,e);var r=new kf(Ff(n)),o=new bf(Ff(n)),u=new Pf(Ff(n)),c=new If(Ff(n));return n._modelers=[r,o,u,c],n._control_mode_modelers=[o,r,u,c],n.focusOutline=new df(Ff(n)),n.groupOutline=new gf(Ff(n)),n._reversed_modelers=n._modelers.slice().reverse(),n._control_mode_reverse_modelers=n._control_mode_modelers.slice().reverse(),n}return n=a,(r=[{key:"ready",value:function(){var t=this.rootModel,e=t.get("translate"),n=t.get("scale");this.set("translate",e),this.set("scale",n)}},{key:"contains",value:function(t,e){if(this._state_dragging)return!0;this.modelers.forEach((function(t){return t.reset()}));for(var n=this.selected.filter((function(t){return!!t.parent})),r=this.get("scale")||{x:1,y:1},o=0;o<n.length;o++)for(var i=n[o],a=i.transcoordT2S(t,e),u=0;u<this.modelers.length;u++){var c=this.modelers[u];if(c.contains(a.x,a.y,i,r))return this.currentModeler=c,!0}return!1}},{key:"_componentDrawer",value:function(t,e,n,r){var o=[],i=e.parent;if(e.isRootModel())return t.save(),r(t,e,n),void t.restore();for(;i&&!i.isRootModel();)o.push(i),i=i.parent;t.save(),o.reverse().forEach((function(e){var n=e.rotatePoint;t.translate(n.x,n.y);var r=e.get("scale");r&&t.scale(r.x,r.y),t.rotate(e.get("rotation")),t.translate(-n.x,-n.y);var o=e.bounds;t.translate(o.left,o.top)}));var a=e.rotatePoint;t.translate(a.x,a.y);var u=e.get("scale");u&&t.scale(u.x,u.y),t.rotate(e.get("rotation")),t.translate(-a.x,-a.y),r(t,e,n),t.restore()}},{key:"prerender",value:function(t){var e=this.model,n=e.translate,r=e.scale,o=void 0===r?{x:1,y:1}:r,i=e.rotation;t.save(),t.beginPath(),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.rect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="black",t.globalAlpha=.5,t.fill(),t.restore(),n&&t.translate(n.x*Mi,n.y*Mi),t.scale(o.x*Mi,o.y*Mi),i&&t.rotate(i),t.clearRect(0,0,this.rootModel.get("width"),this.rootModel.get("height"))}},{key:"render",value:function(t){var e=this;t.beginPath();var n=this.get("scale")||{x:1,y:1},r=this.selected.filter((function(t){return!!t.parent}));if(this.focused&&this._componentDrawer(t,this.focused,n,(function(t,n,r){e.focusOutline.draw(t,n,r)})),r.length>0&&r[0].parent.isGroup()){for(var o=r[0].parent;o.parent.isGroup();)o=o.parent;this._componentDrawer(t,o,n,(function(t,n,r){e.groupOutline.draw(t,n,r)}))}r.forEach((function(r){e._componentDrawer(t,r,n,(function(t,n,r){e.reversedModelers.forEach((function(e){return e.draw(t,n,r)}))}))}))}},{key:"onkeydown",value:function(t){"Alt"==t.key&&(this._control_mode=!0,this.invalidate())}},{key:"onkeyup",value:function(t){"Alt"==t.key&&(this._control_mode=!1,this.invalidate())}},{key:"onselected",value:function(t,e){this.invalidate()}},{key:"onchange_model",value:function(t,e,n){n.origin===n.deliverer&&(t.translate&&this.set("translate",t.translate),void 0!==t.rotation&&this.set("rotation",t.rotation),t.scale&&this.set("scale",t.scale)),this.invalidate()}},{key:"ondblclick",value:function(t){"function"==typeof this.currentModeler.ondblclick&&this.currentModeler.ondblclick(t),this.invalidate()}},{key:"onmousedown",value:function(t){this.currentModeler.onmousedown(t),this.invalidate()}},{key:"onmouseup",value:function(t){"function"==typeof this.currentModeler.onmouseup&&this.currentModeler.onmouseup(t),this.invalidate()}},{key:"onmouseenter",value:function(t,e){this.invalidate()}},{key:"onmouseleave",value:function(t,e){this.invalidate()}},{key:"ondragstart",value:function(t){this.currentModeler.ondragstart(t),this._state_dragging=!0}},{key:"ondragmove",value:function(t){this.currentModeler.ondragmove(t),this.invalidate()}},{key:"ondragend",value:function(t){this._state_dragging=!1,this.currentModeler.ondragend(t),this.invalidate()}},{key:"ondrop",value:function(t,e){var n=this,r=e.origin,o=t.dataTransfer.files;if(!(o.length<1)){var i=this.rootModel.transcoordC2S(t.offsetX,t.offsetY),a=this.rootModel;Promise.all(Array.from(o).map((function(t){return new Promise((function(e,n){var r=new FileReader;r.addEventListener("loadend",(function(t){e(r.result)})),["error","abort"].forEach((function(t){return r.addEventListener(t,(function(t){n(t)}))})),r.readAsDataURL(t)}))}))).then((function(e){if(t.altKey)return nf.around(n.app.commander,(function(){r.ondropfile(o,e)})),void(n.selected=[r]);var u=[],c=e.map((function(t,e){var n,r=o[e].type,c=o[e].name;return r.startsWith("image/")?(n=pf({type:r.startsWith("image/gif")?"gif-view":"image-view",top:0,left:0,width:200,height:200,src:t},a.app),u.push(new Promise((function(e,r){var o=new Image;o.src=t,o.onload=function(){n.set({width:o.width,height:o.height}),e()},o.onerror=function(t){r(t)}})))):r.startsWith("audio/")?n=pf({type:"audio",top:0,left:0,width:100,height:100,src:t},a.app):r.startsWith("vnd.ms-excel/")||/\.xlsx?$/.test(c)?n=pf({type:"excel",top:0,left:0,width:100,height:100,src:t},a.app):console.log("droped file",o[e]),n&&(n.center=i,i.x+=50,i.y+=50),n})).filter((function(t){return t})).map((function(t){return{component:t,to_container:a}}));c.length>0&&Promise.all(u).then((function(){n.app.commander.execute(new hf({changes:c})),n.selected=c.map((function(t){return t.component}))}),(function(t){console.error(t)}))}),(function(t){console.error(t)}))}}},{key:"onwheel_scale",value:function(t,e){if(0!=t.deltaY||0!=t.deltaX){var n=e.deliverer;if(t.shiftKey){if(-1!=navigator.userAgent.indexOf("Win"))var r=t.deltaY<0?1:-1;else r=t.deltaX<0?1:-1;nf.around(this.app.commander,(function(){n.selected.forEach((function(t){var e=t.get("fontSize")||Li.FONT_SIZE;e<1&&(e=1),e+=r,t.set("fontSize",e)}))}))}else{r=t.deltaY<0?1:-1;var o=n.get("scale")||{x:1,y:1},i=n.get("translate"),a=t.offsetX,u=t.offsetY,c=n.transcoordC2S(a,u),s=.1*r,f={x:o.x+s,y:o.y+s};if(r<0&&o.x<.2||r>0&&o.x>10)return;n.set("scale",f);var l=n.transcoordC2S(a,u);n.set("translate",{x:i.x+(l.x-c.x)*f.x,y:i.y+(l.y-c.y)*f.y})}}}},{key:"modelers",get:function(){return this._control_mode?this._control_mode_modelers:this._modelers}},{key:"reversedModelers",get:function(){return this._control_mode?this._control_mode_reverse_modelers:this._reversed_modelers}},{key:"eventMap",get:function(){return{"model-layer":{"(all)":{change:this.onchange_model,wheel:this.onwheel_scale,drop:this.ondrop}},"(root)":{"(self)":{selected:this.onselected,keydown:this.onkeydown,keyup:this.onkeyup}}}}}])&&Lf(n.prototype,r),o&&Lf(n,o),a}(Pu);function Wf(t){return(Wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gf(t,e){return!e||"object"!==Wf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function qf(t){return(qf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vf(t,e){return(Vf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.register("modeling-layer",zf);var Xf=225*Math.PI/180,Kf=135*Math.PI/180,Qf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vf(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=qf(e);if(Hf()){var r=qf(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Gf(this,t)});function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t,e))._anim_alpha=1,n}return n=a,(r=[{key:"_drawArrow",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,o=n.x-e.x,i=n.y-e.y,a=Math.atan2(i,o),u=n.x+r*Math.cos(a+Xf),c=n.y+r*Math.sin(a+Xf),s=n.x+r*Math.cos(a+Kf),f=n.y+r*Math.sin(a+Kf);t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.moveTo(n.x,n.y),t.lineTo(u,c),t.moveTo(n.x,n.y),t.lineTo(s,f),t.stroke()}},{key:"animOnTargetChange",value:function(t){var e=this;t!==this._lastTargets&&(this._lastTargets=t,this._anim_alpha=1,this.animate({step:function(t){e._anim_alpha=1-t*t,e.invalidate()},duration:5e3,delta:"linear",options:{x:1},ease:"out"}).start())}},{key:"render",value:function(t){var e=this,n=this.targets&&this.targets.filter((function(t){return t.rootModel}));if(!n||0==n.length)return this._animate&&this._animate.stop(),void delete this._animate;var r=!1;n.forEach((function(n){var o=n.tag;if(t.globalAlpha*=e._anim_alpha,o){var i=o,a=n.bounds,u=a.left,c=a.top,s=n.transcoordS2C(u,c,n.rootModel),f=s.x,l=s.y;f=Math.max(f,0),l=Math.max(l-18,0),t.font="12px Arial";var h=t.measureText(i);t.fillStyle="#FF0000",t.fillRect(f,l,h.width+6,16),t.fillStyle="white",t.fillText(i,f+3,l+13),r=!0}t.lineWidth=2,t.strokeStyle="orange",n.mappings&&n.mappings.forEach((function(o){var i=e.root.findAll(o.target,n);i&&i.forEach((function(r){var o=n.center,i=r.center;o=n.transcoordS2C(o.x,o.y,n.rootModel),i=r.transcoordS2C(i.x,i.y,r.rootModel),e._drawArrow(t,o,i)})),r=!0}))})),r&&this.animOnTargetChange(this.targets)}},{key:"_ontag",value:function(t){this.targets&&-1!==this.targets.lastIndexOf(t)||(this.targets=(this.targets||[]).concat(t))}},{key:"_offtag",value:function(t){if(this.targets){var e=this.targets.slice();e.splice(this.targets.lastIndexOf(t),1),this.targets=e}}},{key:"_resettag",value:function(){this.targets=[]}},{key:"ontagreset",value:function(t,e){this._resettag()}},{key:"ontag",value:function(t,e){this._ontag(e.origin)}},{key:"offtag",value:function(t,e){this._offtag(e.origin)}},{key:"onmouseenter",value:function(t,e){this._resettag(),this._ontag(e.origin)}},{key:"onmouseleave",value:function(t,e){this._resettag()}},{key:"targets",get:function(){return this._targets},set:function(t){this._targets=t&&t.filter((function(t){return!t.isLayer()})),this.invalidate()}},{key:"eventMap",get:function(){return{"model-layer":{"(descendant)":{tag:this.ontag,tagreset:this.ontagreset,mouseenter:this.onmouseenter,mouseleave:this.onmouseleave}}}}}])&&Yf(n.prototype,r),o&&Yf(n,o),a}(Pu);function Jf(t){var e=xr(t.hierarchy);return void 0!==e.id&&delete e.id,pf(e,t.app)}function Zf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $f(t,e,n,r,o){for(var i in n){var a=n[i];if(Wn(i,r.origin,0,t))for(var u in a){var c=a[u];u==r.name&&(r.listener=e,c.apply(e,o))}}}function tl(){var t=arguments,e=t[t.length-1],n=this.event_pump;n.listeners.forEach((function(r){$f(n.deliverer,r.listener,r.cloned_handlers,e,t)}))}Pa.register("tag-layer",Qf);var el=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===e.on)throw new Error("Deliverer should be a event handlable object.");this.deliverer=e,this.listeners=[]}var e,n,r;return e=t,(n=[{key:"start",value:function(){this.deliverer.on("(all)",tl,{event_pump:this})}},{key:"stop",value:function(){this.deliverer.off("(all)",tl)}},{key:"on",value:function(t,e){var n=Object.assign({},e);Object.keys(n).forEach((function(e){if(0==e.indexOf("?")){var r=n[e],o=e.substr(1),i=t.get(o);delete n[e],i?n[i]=r:mi("EventPump#on","variable #{selector} is not evaluated on listener")}})),this.listeners.push({listener:t,handlers:e,cloned_handlers:n})}},{key:"off",value:function(t,e){for(var n=0;n<this.listeners.length;n++){var r=this.listeners[n];r.listener!==t||e&&r.handlers!==e||this.listeners.splice(n,1)}}},{key:"clear",value:function(){this.listeners=[]}},{key:"dispose",value:function(){this.stop(),this.clear()}}])&&Zf(e.prototype,n),r&&Zf(e,r),t}();function nl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var rl=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.eventMaps=[],this.root=e,e.eventMap&&this.add(e,e.eventMap)}var e,n,r;return e=t,(n=[{key:"stop",value:function(){this.eventMaps.forEach((function(t){return t.eventPump.stop()}))}},{key:"add",value:function(t,e){var n=this;if(this.root){var r=function(r){var o=e[r];if("(self)"===r&&void 0===t.on)throw new Error("(self) selector not available when deliverer is not a event handlable object.");Gn(r,n.root,t).forEach((function(r){var i=new el(r);i.on(t,o),i.start(),n.eventMaps.push({eventPump:i,listener:t,handlerMap:e,deliverer:r})}))};for(var o in e)r(o)}}},{key:"remove",value:function(t,e){for(var n=this.eventMaps.slice(0),r=0;r<n.length;r++){var o=n[r];o.listener!==t||e&&o.handlerMap!==e||(this.eventMaps.splice(r,1),o.eventPump.dispose())}}},{key:"clear",value:function(){this.eventMaps.slice(0).forEach((function(t){return t.eventPump.dispose()})),this.eventMaps=[]}},{key:"dispose",value:function(){this.stop(),this.clear()}},{key:"root",set:function(t){this._root=t},get:function(){return this._root}}])&&nl(e.prototype,n),r&&nl(e,r),t}();function ol(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function il(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function al(t,e,n){return e&&il(t.prototype,e),n&&il(t,n),t}var ul=0,cl=1,sl=2,fl=0,ll=1,hl=2,pl={},yl=0;var dl=function(){function t(e){ol(this,t),this._type=e.type,this._ctrlKey=e.ctrlKey,this._altKey=e.altKey,this._shiftKey=e.shiftKey,this._metaKey=e.metaKey;var n=function(t){if(t.touches){var e=t.touches[0];if(!e)return pl;var n=e.target.getBoundingClientRect();return pl={x:t.offsetX||e.clientX-(n.x||n.left),y:t.offsetY||e.clientY-(n.y||n.top)}}return{x:t.offsetX,y:t.offsetY}}(e);if(this._offsetX=n.x,this._offsetY=n.y,"wheel"==e.type)this.deltaX=e.deltaX,this.deltaY=e.deltaY,this.deltaZ=e.deltaZ;else if("drop"==e.type)this.dataTransfer=e.dataTransfer;else if(e.type.match(/^touch/)&&(this._scale=e.scale,this._touches=e.touches,this._changedTouches=e.changedTouches,null==this._scale)){var r=function(t){var e,n,r=0,o=0,i=0;if(1===t.touches.length)return i;Array.from(t.touches).forEach((function(t){e=null!=e?Math.min(t.screenX,e):t.screenX,r=Math.max(t.screenX,r),n=null!=n?Math.min(t.screenY,n):t.screenY,o=Math.max(t.screenY,o)}));var a=r-e||0,u=o-n||0;return i=Math.sqrt(Math.pow(a,2)+Math.pow(u,2))||0}(e);yl>0&&(this._scale=r/yl),yl=r}}return al(t,[{key:"stopPropagation",value:function(){this._stop_=!0}},{key:"isPropagationStopped",value:function(){return this._stop_}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"offsetX",get:function(){return this._offsetX}},{key:"offsetY",get:function(){return this._offsetY}},{key:"altKey",get:function(){return this._altKey}},{key:"ctrlKey",get:function(){return this._ctrlKey}},{key:"shiftKey",get:function(){return this._shiftKey}},{key:"metaKey",get:function(){return this._metaKey}},{key:"touches",get:function(){return this._touches}},{key:"changedTouches",get:function(){return this._changedTouches}},{key:"scale",get:function(){return this._scale}}]),t}();function vl(t,e){return t.capture(e.offsetX,e.offsetY)}function gl(t,e,n){if(t&&t.app&&(!t.app.isViewMode||!t.hidden)){(n=new dl(n)).type=e;var r="on"+e;t[r]&&t[r](n),n.isPropagationStopped()||t.trigger(e,n)}}var ml=function(){function t(e,n){var r=this;ol(this,t),this.container=e,this.html_element=n,this.status=ul,this.last_target=null,this.gesture_handlers=Ii.map((function(t){return r.gestureHandlerBuilder(t)})),this.keyevent_handlers=Ci.map((function(t){return r.keyeventHandlerBuilder(t)})),Ii.forEach((function(t,e){return n.addEventListener(t,r.gesture_handlers[e])})),Ci.forEach((function(t,e){return n.addEventListener(t,r.keyevent_handlers[e])})),n.ondragover=this.gestureHandlerBuilder("dragover"),n.ondrop=this.gestureHandlerBuilder("drop"),n.tabIndex=1}return al(t,[{key:"dispose",value:function(){var t=this;this.last_enter_target&&gl(this.last_enter_target,"mouseleave",new CustomEvent("mouseleave")),Ii.forEach((function(e,n){return t.html_element.removeEventListener(e,t.gesture_handlers[n])})),Ci.forEach((function(e,n){return t.html_element.removeEventListener(e,t.keyevent_handlers[n])})),delete this.gesture_handlers,delete this.keyevent_handlers,delete this.last_target}},{key:"gestureHandlerBuilder",value:function(t){var e=this["on".concat(t)].bind(this);return function(t){return e(new dl(t))&&t.preventDefault(),!1}}},{key:"keyeventHandlerBuilder",value:function(t){return this["on".concat(t)].bind(this)}},{key:"ondragover",value:function(t){return gl(vl(this.container,t),t.type,t),!1}},{key:"ondrop",value:function(t){return gl(vl(this.container,t),t.type,t),!1}},{key:"onclick",value:function(t){return gl(vl(this.container,t),t.type,t),this.last_target=null,!1}},{key:"ondblclick",value:function(t){return gl(vl(this.container,t),t.type,t),this.last_target=null,!1}},{key:"onkeydown",value:function(t){return this.container.trigger(t.type,t),!1}},{key:"onkeyup",value:function(t){return this.container.trigger(t.type,t),!1}},{key:"onmousemove",value:function(t){switch(this.status){case cl:var e=t.offsetX-this.__dragstart_e.offsetX,n=t.offsetY-this.__dragstart_e.offsetY;if(e*e+n*n<16)break;this.status=sl,gl(this.last_target,"dragstart",this.__dragstart_e),this.__dragmove_e=t,gl(this.last_target,"dragmove",t);break;case sl:this.__dragmove_e=t,gl(this.last_target,"dragmove",t);break;default:var r=vl(this.container,t);this.last_enter_target!==r&&(this.last_enter_target&&gl(this.last_enter_target,"mouseleave",t),r&&gl(r,"mouseenter",t),this.last_enter_target=r),gl(r,t.type,t),this.last_target=r}return!1}},{key:"onmousedown",value:function(t){switch(this.status){case sl:gl(this.last_target,"dragend",t),this.last_target=null,this.status=ul;break;default:var e=vl(this.container,t);this.last_target=e,this.status=cl,this.__dragstart_e=t,gl(e,t.type,t)}return!1}},{key:"onmouseup",value:function(t){switch(this.status){case sl:gl(this.last_target,"dragend",t);break;default:gl(vl(this.container,t),t.type,t)}return this.last_target=null,this.status=ul,!1}},{key:"onmouseout",value:function(t){var e=vl(this.container,t);switch(this.status){case sl:gl(this.last_target,"dragend",t);break;default:if(this.last_target&&this.last_target===e)return;this.last_enter_target&&(gl(this.last_enter_target,"mouseleave",t),delete this.last_enter_target)}return this.last_target=null,this.status=ul,!1}},{key:"ontouchstart",value:function(t){var e=this,n=vl(this.container,t);return this.last_target=n,this.status=ll,this.touchPoints||(this.touchPoints=[]),this.touchPoints.push(t.changedTouches[0]),this.holdTimer=setTimeout((function(){e.status=fl,gl(e.last_target,"hold",t),delete e.holdTimer}),500),gl(n,t.type,t),!1}},{key:"ontouchmove",value:function(t){var e=this;if(!t.touches||!t.changedTouches)return gl(this.last_target,"dragstart",t),gl(this.last_target,"dragmove",t),!1;var n=vl(this.container,t);switch(this.status){case ll:Array.from(t.changedTouches).forEach((function(t){var n=e.touchPoints.find((function(e){return e.identifier===t.identifier}));if(n){var r=n.clientX-t.clientX,o=n.clientY-t.clientY;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))>=16?(e.status=hl,void(e.holdTimer&&(clearTimeout(e.holdTimer),delete e.holdTimer))):void 0}}));break;case hl:if(this.holdTimer&&(clearTimeout(this.holdTimer),delete this.holdTimer),2===t.changedTouches.length&&null!=t.scale&&1!==t.scale&&(t.scale<.9||t.scale>1.1))return gl(this.last_target,"pinch",t),!1;gl(this.last_target,"pan",t),n=this.last_target;break;default:this.last_enter_target!==n&&(this.last_enter_target&&gl(this.last_enter_target,"mouseleave",t),n&&gl(n,"mouseenter",t),this.last_enter_target=n),this.last_target=n}return gl(n,"touchmove",t),!1}},{key:"ontouchend",value:function(t){var e=vl(this.container,t);switch(this.status){case hl:e=this.last_target;break;case ll:var n=performance.now(),r=n-this.touchedAt;this.holdTimer&&(clearTimeout(this.holdTimer),delete this.holdTimer,gl(e,r<500?"doubletap":"tap",t),this.touchedAt=n)}gl(e,"touchend",t);var o=this.touchPoints.findIndex((function(e){return e.identifier===t.changedTouches[0].identifier}));return this.touchPoints.splice(o,1),this.last_target=null,this.status=fl,!1}},{key:"onwheel",value:function(t){return gl(vl(this.container,t),t.type,t),!1}}]),t}(),bl={};var wl={register:function(t,e){bl[t]=e},unregister:function(t){delete bl[t]},get:function(t){return bl[t]}};function _l(t){if(t.hasTextProperty&&!t.textHidden){var e=t.model,n=e.text,r=void 0===n?"":n,o=e.rotation,i=e.bold,a=void 0===i?Li.BOLD:i,u=e.italic,c=void 0===u?Li.ITALIC:u,s=e.textWrap,f=void 0===s?Li.TEXT_WRAP:s,l=e.fontFamily,h=void 0===l?Li.FONT_FAMILY:l,p=e.fontColor,y=void 0===p?Li.FONT_COLOR:p,d=e.textAlign,v=void 0===d?Li.TEXT_ALIGN:d,g=e.textBaseline,m=void 0===g?Li.TEXT_BASELINE:g,b=e.paddingTop,w=void 0===b?0:b,_=e.paddingBottom,x=void 0===_?0:_,k=e.paddingLeft,S=void 0===k?0:k,A=e.paddingRight,O=void 0===A?0:A,E=e.fontSize,P=void 0===E?Li.FONT_SIZE:E,j=e.lineHeight,R=void 0===j?1.2*P:j,T=t.bounds,M=T.left,I=T.top,C=T.width,L=T.height;t.textHidden=!0;var D=document.createElement("textarea");Ii.forEach((function(t){D.addEventListener(t,(function(t){t.stopPropagation()}),!0)})),Ci.forEach((function(t){D.addEventListener(t,(function(t){t.stopPropagation()}),!0)}));var F=t.transcoordS2C(M,I),B=function(t){for(var e=0,n=1,r=t;r;){e+=r.get("rotation")||0;var o=r.get("scale")||{x:1,y:1},i=o.x,a=o.y;n*=Math.max(i,a)||1,r=r.parent}return{rotation:e,scale:n}}(t),N=B.rotation,U=B.scale,z=C-S-O,W=z,Y=L-w-x;switch(D.style.position="absolute",D.style.width=W+"px",D.style.height=Y+"px",D.style.paddingLeft=Math.max(S,0)+"px",D.style.paddingRight=O+"px",D.style.paddingTop=Math.max(w,0)+"px",D.style.paddingBottom=x+"px",D.value=r,D.style.fontFamily=h,D.style.fontSize=P+"px",D.style.lineHeight=R+"px",D.style.overflow="hidden",D.style.resize="none",D.style.outline="none",D.style.border=0,D.style.backgroundColor="transparent",D.style.display="inline-block",D.style.color=y,a&&(D.style.fontWeight="bold"),c&&(D.style.fontStyle="italic"),v){case"right":case"end":D.style.textAlign="right";break;case"justify":D.style.textAlign="justify";break;case"left":case"start":D.style.textAlign="left";break;case"center":default:D.style.textAlign="center"}var G=[a,c,P+"px",h].filter((function(t){return!!t})).join(" ");K(r);var H=t.root.target_element;H.appendChild(D),D.select();var q,V=!1;D.onkeydown=function(t){"Escape"!=t.code&&(t.shiftKey||"Enter"!=t.code&&"NumpadEnter"!=t.code)?setTimeout((function(){K(D.value)})):(V=q.skipUpdate="Escape"==t.code,document.createEvent?D.dispatchEvent(q):D.fireEvent(q.eventType,q))},document.createEvent?(q=document.createEvent("HTMLEvents")).initEvent("blur",!0,!1):(q=document.createEventObject()).eventType="blur";var X=t.root.selected;D.addEventListener("blur",(function e(n){t.root.selected=X,t.textHidden=!1,D.removeEventListener("blur",e,!1),D.parentElement&&D.parentElement.removeChild(D),H.focus(),n.skipUpdate||V||t.app.commander.execute(new nf({changes:[{component:t,before:{text:r},after:{text:D.value}}]}))}),!1)}function K(e){var n={left:0,top:0},r=R*function(t,e,n,r){var o,i=t.getContext();return i.save(),i.font=n,o=Fi(i,e,r,t.get("textWrap")).length,i.restore(),o}(t,e,G,z);switch(D.style.height=r+"px",m){case"top":case"hanging":break;case"bottom":case"alphabetic":n.top=Y-r;break;case"middle":default:n.top=Y/2-r/2}if(!f){var o=function(t,e,n,r){var o=e.split("\n"),i=r,a=t.getContext();return a.save(),a.font=n,o.forEach((function(t){var e=a.measureText(t).width;e>i&&(i=e)})),a.restore(),i}(t,e,G,z);switch(D.style.width=o+"px",v){case"right":case"end":n.left=z-o;break;case"left":case"start":break;case"center":case"justify":default:n.left=(z-o)/2}}D.style.marginLeft=n.left+"px",D.style.marginTop=n.top+"px";var i="translate(".concat(F.x,"px, ").concat(F.y,"px) scale(").concat(U,") rotate(").concat(N,"rad) perspective(1px)");["-webkit-","-moz-","-ms-","-o-",""].forEach((function(t){D.style[t+"transform"]=i,D.style[t+"transform-origin"]="".concat(-n.left,"px ").concat(-n.top,"px")}))}}wl.register("text-editor",{"(root)":{"(self)":{keydown:function(t,e){e.origin;var n=e.deliverer.selected;return!(1!==n.length||!n[0].hasTextProperty)&&(("Enter"==t.code||"NumpadEnter"==t.code)&&(_l(n[0]),t.preventDefault(),!0))}}},"model-layer":{"(descendant)":{dblclick:function(t,e){_l(e.origin)}}}});var xl=Mr((function(t,e,n){if(n)t.focused=null;else{var r=[];e[0].parent.isGroup()?t.focused=e[0].parent:(e.forEach((function(t){t.path.forEach((function(e){r.push(t.transcoordS2T(e.x,e.y))}))})),t.focused=t.capturePath(r,e))}}),300);function kl(t){return(kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Al(t,e,n){return(Al="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jl(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ol(t,e){return!e||"object"!==kl(e)&&"function"!=typeof e?El(t):e}function El(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function jl(t){return(jl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rl(t,e){return(Rl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}wl.register("move-handler",{"model-layer":{"(descendant)":{dragstart:function(t,e){var n=e.origin,r=e.deliverer;if(!n.stuck){var o=r.selected,i=r.selected.filter((function(t){return!t.stuck}));if(o.length!==i.length&&(o=r.selected=i),0!=o.length){var a=o[0].transcoordC2S(t.offsetX,t.offsetY);a=o[0].transcoordS2P(a.x,a.y),this.last_pos=a,this.direction=0,r.focused=o[0].parent,t.altKey?(r.selected=o.map((function(t){var e=Jf(t);return t.parent.addComponent(e),e})),this.duplicates=r.selected.map((function(t){return{component:t}}))):this.changes=nf.before(o)}}},dragmove:function(t,e){var n=e.origin,r=e.deliverer;if(!n.stuck){var o=r.selected;if(0!=o.length){var i=o[0].transcoordC2S(t.offsetX,t.offsetY),a=i.x,u=i.y,c=o[0].transcoordS2P(a,u);t.shiftKey?2==this.direction&&(this.direction=0):this.direction=2;var s=c.x-this.last_pos.x,f=c.y-this.last_pos.y;if(0==this.direction){if(s*s+f*f<25)return;Math.abs(s)>Math.abs(f)?this.direction=3:this.direction=4}3==this.direction?f=0:4==this.direction&&(s=0),o.forEach((function(t){t.move({x:s,y:f})})),this.last_pos=c,xl(r,o)}}},dragend:function(t,e){var n=e.origin,r=e.deliverer;if(!n.stuck){var o=r.selected;if(0!=o.length){var i=n.parent,a=r.focused||e.deliverer;if(this.changes&&!a.isGroup())if(a&&a!==i){var u=this.changes.map((function(t){var e=t.component;t.before;return{component:e,to_container:a}}));r.app.commander.execute(new hf({changes:u}))}else nf.after(this.changes,r.app.commander);else if(this.duplicates){this.duplicates=this.duplicates.map((function(t){return t.to_container=a,t}));var c=new hf({changes:this.duplicates});r.app.commander.execute(c)}o.forEach((function(t){t.parent&&t.parent.calculateBounds&&t.parent.calculateBounds()})),this.last_pos=null,this.changes=null,this.duplicates=null,xl(r,o,!0)}}}}},"(root)":{"(self)":{keydown:function(t,e){var n=e.origin,r=e.deliverer,o={},i=t.shiftKey?n.rootModel.MPP:1;switch(t.which){case 37:o.x=-i,o.y=0;break;case 38:o.x=0,o.y=-i;break;case 39:o.x=i,o.y=0;break;case 40:o.x=0,o.y=i;break;default:return}var a=r.selected;nf.around(r.app.commander,(function(){a.forEach((function(t){!t.stuck&&t.move(o)}))}))}}}});var Tl=[];"undefined"!=typeof window&&window.addEventListener("resize",(function(){Tl.forEach((function(t){t.resize()}))}));var Ml=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rl(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=jl(e);if(Pl()){var r=jl(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Ol(this,t)});function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),n=i.call(this,Object.assign({type:"root",scale:{x:1,y:1}},t||{}),e),t=t||{},n.fitMode=t.model&&t.model.fitMode,n._app=e,n.target_element=t.target_element,n.rebuildContentModel(n.model.model),Tl.push(El(n)),n}return n=a,(r=[{key:"dispose",value:function(){this._app&&this._app.dispose(),Al(jl(a.prototype),"dispose",this).call(this),this._disposeAllResources(),this.target_element=null,delete this._refresh_mapping_debouncer,tc(this);var t=Tl.indexOf(this);t>=0&&Tl.splice(t,1)}},{key:"isRoot",value:function(){return!0}},{key:"variable",value:function(t,e){var n=this.findById(t);if(!n){var r=this.findTemplateFor(t);if(!r)return;n=pf(Object.assign(xr(r.hierarchy),{id:t,templatePrefix:""}),this.app),this.model_layer.addComponent(n)}if(void 0===e)return n.data;n.data=e,n.touch()}},{key:"buildVariables",value:function(t){var e=this;!t||t instanceof Array||(t=Object.keys(t).map((function(e){var n=t[e];return n.key=e,n}))),t&&t.forEach((function(t,n){var r=e.indexMap[t.key];if(r)r.set({data:t.value,mappings:t.mappings&&t.mappings.slice(),dataType:t.dataType});else{var o=pf({type:"variable",id:t.key,left:-120,top:0+20*n,strokeStyle:"black",width:100,height:20,dataType:t.type,data:t.value,mappings:t.mappings&&t.mappings.slice()},e.app);e.model_layer.addComponent(o)}}))}},{key:"addTemplate",value:function(t,e){var n=this.templateMap[t];n&&gi("Template replaced (duplicated)",t,e,n),this.templateMap[t]=e,delete this.templatePrefixes}},{key:"removeTemplate",value:function(t,e){var n=this.templateMap[t];n!==e?mi("Removing template failed (different)",t,e,n):delete this.templateMap[t],delete this.templatePrefixes}},{key:"findTemplateFor",value:function(t){this.templatePrefixes||(this.templatePrefixes=Object.keys(this.templateMap).sort().reverse());var e=this.templatePrefixes.find((function(e){return t.startsWith(e)}));if(e)return this.templateMap[e]}},{key:"addIndex",value:function(t,e){var n=this.indexMap[t];n&&gi("Index replaced (duplicated)",t,e,n),this.indexMap[t]=e}},{key:"removeIndex",value:function(t,e){var n=this.indexMap[t];n!==e?mi("Removing index failed (different)",t,e,n):delete this.indexMap[t]}},{key:"findById",value:function(t){return this.indexMap[t]}},{key:"findOrCreate",value:function(t){var e=this.indexMap[t];if(!e){var n=this.findTemplateFor(t);n&&(e=pf(Object.assign(xr(n.hierarchy),{id:t,templatePrefix:""}),this.app),this.model_layer.addComponent(e))}return e}},{key:"resize",value:function(){this.components.forEach((function(t){t.resize&&t.resize()})),this.invalidate()}},{key:"_disposeAllResources",value:function(){var t=this;this.selected=[],this._focused=null,this._ready=!1,this.eventEngine&&(this.assist_handlers&&this.assist_handlers.forEach((function(e){t.eventEngine.remove(e)})),this.eventEngine.dispose(),delete this.eventEngine),this.assist_layers&&this.assist_layers.forEach((function(e){e.dispose(),t.removeComponent(e)})),delete this.assist_layers,this.model_layer&&this.model_layer.dispose(),this.model_layer&&this.removeComponent(this.model_layer),delete this.model_layer,this.indexMap={},this.templateMap={}}},{key:"rebuildContentModel",value:function(t){var e=this;this._disposeAllResources(),this.eventEngine=new rl(this),(t=t||{}).type="model-layer";var n=t.variables;delete t.variables,this.model_layer=pf(t,this.app),this.addComponent(this.model_layer),this.model_layer.target=this.target_element,n&&this.buildVariables(n),this.assist_layers=(this.model.layers||[]).map((function(t){var n=pf(t,e.app);return e.addComponent(n),n.target=e.target_element,n})),this.assist_handlers=(this.model.handlers||[]).map((function(t){var n={};return e.eventEngine.add(n,wl.get(t)),n})),this._ready=!0,this.traverse((function(t){return t.ready()}))}},{key:"render",value:function(){this.components.forEach((function(t){return t.draw()}))}},{key:"contains",value:function(t,e){return!0}},{key:"capturePath",value:function(t,e){return this.model_layer.capturePath(t,e)}},{key:"invalidate",value:function(){this.components.forEach((function(t){return t.invalidate()}))}},{key:"refreshMappings",value:function(){if(!this._refresh_mapping_debouncer){if(this.disposed)return;this._refresh_mapping_debouncer=Mr((function t(e){e.executeMappings(),e.components&&e.components.forEach((function(e){return t(e)}))}),1e3)}this._refresh_mapping_debouncer(this.model_layer)}},{key:"_addTraverse",value:function(t){var e=this;t.components&&t.components.forEach((function(t){return e._addTraverse(t)}));var n=t.model,r=n.id,o=n.templatePrefix;r&&this.addIndex(r,t),o&&this.addTemplate(o,t);var i=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"!=Ur(e)&&(e={});for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((function(n){var r=function(r){"object"!=Ur(n[r])?e[r]=n[r]:n[r].length>0?e[r]=n[r].map((function(e){return"object"!=Ur(n[r])?e:t({},e)})):e[r]=t(e[r],n[r])};for(var o in n)r(o)})),e}({},t.eventMap,t.model.eventMap);this.eventEngine.add(t,i)}},{key:"_removeTraverse",value:function(t){var e=this;t.components&&t.components.forEach((function(t){return e._removeTraverse(t)}));var n=t.model,r=n.id,o=n.templatePrefix;r&&this.removeIndex(r,t),o&&this.removeTemplate(o,t),this.eventEngine.remove(t)}},{key:"onadded",value:function(t,e){this._addTraverse(e),this.refreshMappings(),this.invalidate()}},{key:"onremoved",value:function(t,e){this._removeTraverse(e),this.invalidate()}},{key:"onchanged",value:function(t,e,n){e.templatePrefix&&this.removeTemplate(e.templatePrefix,n.origin),t.templatePrefix&&this.addTemplate(t.templatePrefix,n.origin),e.id&&this.removeIndex(e.id,n.origin),t.id&&this.addIndex(t.id,n.origin),e.id==t.id&&e.class==t.class||this.refreshMappings()}},{key:"app",get:function(){return this._app}},{key:"target_element",get:function(){return this._target_element},set:function(t){this._ua_event_handler&&(this._ua_event_handler.dispose(),delete this._ua_event_handler),t&&(t.style.position="absolute",t.style.cursor="default",t.style.overflow="hidden",this._ua_event_handler=new ml(this,t)),this.forEach((function(e){return e.target=t})),this._target_element=t}},{key:"unitScale",get:function(){switch(this.model_layer&&this.model_layer.get("unit")){case"mm":case"cm":case"in":return this.app.PPM/10;case"px":default:return 1}}},{key:"root",get:function(){return this}},{key:"isReady",get:function(){return this._ready}},{key:"rootModel",get:function(){return this.model_layer}},{key:"stuck",get:function(){return!0}},{key:"data",get:function(){return Object.values(this.indexMap).reduce((function(t,e){return t[e.model.id]=e.data,t}),{})},set:function(t){for(var e in t){var n=this.findOrCreate(e);n&&(n.data=t[e])}}},{key:"selected",get:function(){return(this._selected||[]).filter((function(t){return t.parent}))},set:function(t){var e=this._selected;this._selected=t,this.trigger("selected",t,e)}},{key:"focused",get:function(){return this._focused},set:function(t){this._focused!==t&&(this._focused=t,this.invalidate())}},{key:"style",get:function(){return this._style},set:function(t){this._style=t,this._compiled_style=t}},{key:"hasTextProperty",get:function(){return!1}},{key:"eventMap",get:function(){return{"(root)":{"(descendant)":{added:this.onadded,removed:this.onremoved,change:this.onchanged}}}}}])&&Sl(n.prototype,r),o&&Sl(n,o),a}(wu);Object.assign(Ml.prototype,{fit:function(t){var e=this.model_layer.model,n=e.width,r=e.height,o=e.fitMode,i=this.target_element,a=this.model_layer;if(this.fitMode=t||this.fitMode||o||"ratio",n&&r&&i&&i.offsetWidth&&i.offsetHeight){switch(this.fitMode){case"center":!function(t,e,n){var r=t.unitScale,o=e.model,i=o.width,a=o.height;e.set("scale",{x:r,y:r}),e.set("translate",{x:Math.max((n.offsetWidth-i*r)/2,0),y:Math.max((n.offsetHeight-a*r)/2,0)})}(this,a,i);break;case"both":!function(t,e,n){var r=e.model,o=r.width,i=r.height,a=n.offsetWidth,u=n.offsetHeight;e.set("scale",{x:a/o,y:u/i}),e.set("translate",{x:0,y:0})}(0,a,i);break;case"width":!function(t,e,n){var r=n.offsetWidth/e.get("width");e.set("scale",{x:r,y:r}),e.set("translate",{x:0,y:0})}(0,a,i);break;case"height":!function(t,e,n){var r=n.offsetHeight/e.get("height");e.set("scale",{x:r,y:r}),e.set("translate",{x:0,y:0})}(0,a,i);break;case"ratio":!function(t,e,n){var r=e.model,o=r.width,i=r.height,a=n.offsetWidth,u=n.offsetHeight,c=a/o,s=u/i,f=Math.min(c,s);e.set("scale",{x:f,y:f}),e.set("translate",{x:(a-o*f)/2,y:(u-i*f)/2})}(0,a,i);break;case"none":default:!function(t,e,n){var r=t.unitScale;e.set("scale",{x:r,y:r}),e.set("translate",{x:0,y:0})}(this,a)}this.resize()}}}),Pa.memoize(Ml.prototype,"unitScale",!1);var Il=13.3,Cl=function(t){return void 0!==t&&(Il=t),Il};function Ll(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Dl=Math.PI/12,Fl=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._mode=e,this.screen=Cl(),this._baseUrl="undefined"!=typeof window?window.location.origin:null,this._refProvider=n,this.isEditMode&&(this._rotateStep=Dl,this._rotateStepForced=!1)}var e,n,r;return e=t,(n=[{key:"dispose",value:function(){}},{key:"_calcScreen",value:function(){var t={width:screen.width,height:screen.height};this._PPI=function(t,e,n,r){t>0||(t=1),e>0||(e=1),r||(r="d");var o=("d"==r?Math.sqrt(t*t+e*e):"w"==r?t:e)/n;return o>0?Math.round(o):0}(t.width,t.height,this.screen),this._PPM=this._PPI/25.4}},{key:"url",value:function(t){try{return(t.includes("$base_url")?new URL(t.replace("$base_url",this.baseUrl),this.baseUrl):new URL(t,location.origin)).href}catch(e){mi(e,t)}}},{key:"refProvider",get:function(){return this._refProvider}},{key:"commander",set:function(t){this._commander=t},get:function(){return this._commander}},{key:"screen",get:function(){return this._screen},set:function(t){this._screen=t,this._calcScreen()}},{key:"DPPX",get:function(){return Mi}},{key:"PPI",get:function(){return this._PPI}},{key:"PPM",get:function(){return this._PPM}},{key:"mode",get:function(){return this._mode},set:function(t){var e=this._mode;e!==t&&(this._mode=t,this.trigger("mode",t,e))}},{key:"isViewMode",get:function(){return this._mode==Pi}},{key:"isEditMode",get:function(){return this._mode==ji}},{key:"baseUrl",get:function(){return this._baseUrl},set:function(t){t&&this._baseUrl!=t&&(this._baseUrl=t)}},{key:"rotateStep",get:function(){return this._rotateStep},set:function(t){this._rotateStep=Number(t)||Dl}},{key:"rotateStepForced",get:function(){return this._rotateStepForced},set:function(t){this._rotateStepForced=!!t}}])&&Ll(e.prototype,n),r&&Ll(e,r),t}();go(Fl.prototype,vo.withEvent);var Bl=["left","right","center","top","middle","bottom"];function Nl(t){if(-1!=Bl.indexOf(t)){var e=this.selected.filter((function(t){return!t.stuck}));if(!(e.length<=1)){var n=this.app.commander;nf.around(n,(function(){!function(t,e){for(var n=JSON.parse(JSON.stringify(e[0].bounds)),r=n.left+n.width,o=n.top+n.height,i=0;i<e.length;i++){var a=e[i].bounds;n.left=a.left>n.left?n.left:a.left,n.top=a.top>n.top?n.top:a.top,r=a.left+a.width>r?a.left+a.width:r,o=a.top+a.height>o?a.top+a.height:o}switch(n.width=r-n.left,n.height=o-n.top,t){case"left":for(var u=0;u<e.length;u++){var c=e[u].bounds;e[u].bounds={left:n.left,top:c.top,width:c.width,height:c.height}}break;case"center":for(var s=0;s<e.length;s++){var f=e[s].bounds;e[s].bounds={left:n.left+n.width/2-f.width/2,top:f.top,width:f.width,height:f.height}}break;case"right":for(var l=0;l<e.length;l++){var h=e[l].bounds;e[l].bounds={left:r-h.width,top:h.top,width:h.width,height:h.height}}break;case"top":for(var p=0;p<e.length;p++){var y=e[p].bounds;e[p].bounds={left:y.left,top:n.top,width:y.width,height:y.height}}break;case"middle":for(var d=0;d<e.length;d++){var v=e[d].bounds;e[d].bounds={left:v.left,top:n.top+n.height/2-v.height/2,width:v.width,height:v.height}}break;case"bottom":for(var g=0;g<e.length;g++){var m=e[g].bounds;e[g].bounds={left:m.left,top:o-m.height,width:m.width,height:m.height}}break;default:;}}(t,e)}))}}}var Ul=["VERTICAL","HORIZONTAL"];function zl(t){if(-1!=Ul.indexOf(t)){var e=this.selected;if(!(e.length<=1)){var n=this.app.commander;nf.around(n,(function(){!function(t,e){var n=e.filter((function(t){return!t.stuck})).slice(0);n.sort((function(e,n){var r=e.center,o=n.center;return"VERTICAL"===t?r.y-o.y:r.x-o.x}));for(var r=n.reduce((function(e,n){return e+("VERTICAL"===t?n.bounds.height:n.bounds.width)}),0),o=n[0].bounds,i=n[n.length-1].bounds,a=(("VERTICAL"===t?i.top+i.height-o.top:i.left+i.width-o.left)-r)/(n.length-1),u="VERTICAL"===t?o.top+o.height:o.left+o.width,c=1;c<n.length-1;c++){var s=n[c],f=s.bounds;u+=a,"VERTICAL"===t?(f.top=u,u+=f.height):(f.left=u,u+=f.width),s.bounds=f}}(t,e)}))}}}function Wl(t,e,n){this.app.commander.execute(new hf({changes:[{component:t,to_container:e,to_index:n}]}))}function Yl(t){var e=this.selected.filter((function(t){return!t.stuck}));if(!(0==e.length||e[0].isRootModel()||e.length>1&&("forward"==t||"backward"==t))){var n,r=e[0].parent;if("forward"==t){var o=r.indexOf(e[0]);n=[{component:e[0],from_container:r,to_container:r,from_index:o,to_index:o+1}]}else if("backward"==t){var i=r.indexOf(e[0]);n=[{component:e[0],from_container:r,to_container:r,from_index:i,to_index:i-1}]}else n=e.filter((function(t){return t.parent===r})).sort((function(e,n){var o=r.indexOf(e)<r.indexOf(n);return"front"==t?o:!o})).map((function(e,n){r.indexOf(e);return{component:e,to_container:r,to_index:"front"==t?r.components.length-n-1:n}}));var a=new hf({changes:n});this.app.commander.execute(a)}}function Gl(t,e,n){t instanceof Array||(t=[t]),n||(n=this.model_layer);var r=[];this.selected=t.map((function(t){try{return pf(t,n.app)}catch(t){return console.warn(t),!1}})).filter((function(t){return!!t})).map((function(t){var o=e.left,i=e.top,a=e.width,u=e.height,c=e.x,s=e.y,f=e.cx,l=e.cy;return isNaN(o)||isNaN(i)||isNaN(a)||isNaN(u)||(t.bounds={left:o,top:i,width:a,height:u}),isNaN(c)||isNaN(s)||t.move({x:c,y:s}),isNaN(f)||isNaN(l)||(t.center={x:f,y:l}),r.push({component:t,to_container:n}),t})),this.app.commander.execute(new hf({changes:r}))}function Hl(){var t=[];if(this.selected=this.selected.filter((function(t){return!t.isRootModel()})).map((function(e){var n=Jf(e);return n.move({x:20,y:20}),t.push({component:n,to_container:e.parent}),n})),0!=t.length){var e=new hf({changes:t});this.app.commander.execute(e)}}function ql(){var t=this.selected;this.selected=[];for(var e=null,n=t.filter((function(t){return!t.isRootModel()&&(t.parent.focusible||t.parent.isGroup())})).map((function(t){return e||(e=t.parent),{component:t,to_container:null}})),r=function(){var t=[];if(e.components.filter((function(t){return!n.find((function(e){return e.component===t}))})).forEach((function(e){return t.push(e)})),t.length>1)return"break";var r=e.parent;t.forEach((function(t){return n.push({component:t,to_container:r})})),n.push({component:e,to_container:null}),e=r};e&&e.isGroup();){if("break"===r())break}n.length>0&&this.app.commander.execute(new hf({changes:n})),e&&e.calculateBounds&&e.calculateBounds()}function Vl(t,e,n){switch(t){case"execute":case"redo":case"undo":case"command-reset":this.app.commander.on(t,e,n);break;case"selected":this.on(t,e,n);break;case"mode":this.app.on(t,e,n);break;default:this.on(t,e,n)}}function Xl(t,e,n){switch(t){case"execute":case"redo":case"undo":case"command-reset":this.app.commander.once(t,e,n);break;case"selected":this.once(t,e,n);break;case"mode":this.app.once(t,e,n);break;default:this.once(t,e,n)}}function Kl(t,e,n){switch(t){case"execute":case"redo":case"undo":case"command-reset":this.app?this.app.commander.off(t,e,n):this.off(t,e,n);break;case"selected":this.off(t,e,n);break;case"mode":this.app.off(t,e,n);break;default:this.off(t,e,n)}}function Ql(t){var e=this.target_element,n=t||this.fitMode,r=this;function o(t){r.fit(n),document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement||["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange"].forEach((function(t){return document.removeEventListener(t,o)}))}["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange"].forEach((function(t){return document.addEventListener(t,o)})),e.requestFullScreen?e.requestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}var Jl=0;function Zl(){var t=this.selected.filter((function(t){return!t.isRootModel()})).map((function(t){return t.hierarchy}));if(0!=t.length)return Jl=0,JSON.stringify(t,null,2)}function $l(){Jl=0;var t=Zl.call(this);return ql.call(this),t}function th(t){if(t)try{JSON.parse(t);Jl++,Gl.call(this,JSON.parse(t),{x:15*Jl,y:15*Jl})}catch(e){gi(e,t)}}var eh=function(){return{escape:function(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:e,mimeType:function(t){var n=e(t).toLowerCase();return(r="application/font-woff",{woff:r,woff2:r,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[n]||"";var r},dataAsUrl:function(t,e){return"data:"+e+";base64,"+t},isDataUrl:function(t){return-1!==t.search(/^(data:)/)},canvasToBlob:function(t){return t.toBlob?new Promise((function(e){t.toBlob(e)})):function(t){return new Promise((function(e){for(var n=window.atob(t.toDataURL().split(",")[1]),r=n.length,o=new Uint8Array(r),i=0;i<r;i++)o[i]=n.charCodeAt(i);e(new Blob([o],{type:"image/png"}))}))}(t)},resolveUrl:function(t,e){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var o=n.createElement("a");return n.body.appendChild(o),r.href=e,o.href=t,o.href},getAndEncode:function(t){sh.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());return new Promise((function(e){var n,r=new XMLHttpRequest;if(r.onreadystatechange=function(){if(4!==r.readyState)return;if(200!==r.status)return void(n?e(n):i("cannot fetch resource: "+t+", status: "+r.status));var o=new FileReader;o.onloadend=function(){var t=o.result.split(/,/)[1];e(t)},o.readAsDataURL(r.response)},r.ontimeout=function(){n?e(n):i("timeout of 30000ms occured while fetching resource: "+t)},r.responseType="blob",r.timeout=3e4,r.open("GET",t,!0),r.send(),sh.impl.options.imagePlaceholder){var o=sh.impl.options.imagePlaceholder.split(/,/);o&&o[1]&&(n=o[1])}function i(t){console.error(t),e("")}}))},uid:(t=0,function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+t++}),delay:function(t){return function(e){return new Promise((function(n){setTimeout((function(){n(e)}),t)}))}},asArray:function(t){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e},escapeXhtml:function(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src=t}))},width:function(t){var e=n(t,"border-left-width"),r=n(t,"border-right-width");return t.scrollWidth+e+r},height:function(t){var e=n(t,"border-top-width"),r=n(t,"border-bottom-width");return t.scrollHeight+e+r}};var t;function e(t){var e=/\.([^\.\/]*?)$/g.exec(t);return e?e[1]:""}function n(t,e){var n=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(n.replace("px",""))}}(),nh=function(){var t=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(t,o,i){return function(){return!e(t)}()?Promise.resolve(t):Promise.resolve(t).then(n).then((function(e){var n=Promise.resolve(t);return e.forEach((function(t){n=n.then((function(e){return r(e,t,o,i)}))})),n}))},shouldProcess:e,impl:{readUrls:n,inline:r}};function e(e){return-1!==e.search(t)}function n(e){for(var n,r=[];null!==(n=t.exec(e));)r.push(n[1]);return r.filter((function(t){return!eh.isDataUrl(t)}))}function r(t,e,n,r){return Promise.resolve(e).then((function(t){return n?eh.resolveUrl(t,n):t})).then(r||eh.getAndEncode).then((function(t){return eh.dataAsUrl(t,eh.mimeType(e))})).then((function(n){return t.replace(function(t){return new RegExp("(url\\(['\"]?)("+eh.escape(t)+")(['\"]?\\))","g")}(e),"$1"+n+"$3")}))}}(),rh=function(){return{resolveAll:function(){return t(document).then((function(t){return Promise.all(t.map((function(t){return t.resolve()})))})).then((function(t){return t.join("\n")}))},impl:{readAll:t}};function t(){return Promise.resolve(eh.asArray(document.styleSheets)).then((function(t){var e=[];return t.forEach((function(t){try{eh.asArray(t.cssRules||[]).forEach(e.push.bind(e))}catch(e){console.log("Error while reading CSS rules from "+t.href,e.toString())}})),e})).then((function(t){return t.filter((function(t){return t.type===CSSRule.FONT_FACE_RULE})).filter((function(t){return nh.shouldProcess(t.style.getPropertyValue("src"))}))})).then((function(e){return e.map(t)}));function t(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return nh.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}}}(),oh=function(){return{inlineAll:function e(n){return n instanceof Element?function(t){var e=t.style.getPropertyValue("background");return e?nh.inlineAll(e).then((function(e){t.style.setProperty("background",e,t.style.getPropertyPriority("background"))})).then((function(){return t})):Promise.resolve(t)}(n).then((function(){return n instanceof HTMLImageElement?t(n).inline():Promise.all(eh.asArray(n.childNodes).map((function(t){return e(t)})))})):Promise.resolve(n)},impl:{newImage:t}};function t(t){return{inline:function(e){return eh.isDataUrl(t.src)?Promise.resolve():Promise.resolve(t.src).then(e||eh.getAndEncode).then((function(e){return eh.dataAsUrl(e,eh.mimeType(t.src))})).then((function(e){return new Promise((function(n,r){t.onload=n,t.onerror=r,t.src=e}))}))}}}}(),ih={imagePlaceholder:void 0,cacheBust:!1};function ah(t,e){return function(t){void 0===t.imagePlaceholder?sh.impl.options.imagePlaceholder=ih.imagePlaceholder:sh.impl.options.imagePlaceholder=t.imagePlaceholder;void 0===t.cacheBust?sh.impl.options.cacheBust=ih.cacheBust:sh.impl.options.cacheBust=t.cacheBust}(e=e||{}),Promise.resolve(t).then((function(t){return function t(e,n,r){return r||!n||n(e)?Promise.resolve(e).then((function(t){if(t instanceof HTMLCanvasElement)try{return eh.makeImage(t.toDataURL())}catch(t){mi(t)}return t.cloneNode(!1)})).then((function(t){return o(e,t,n)})).then((function(t){return function(t,e){return e instanceof Element?Promise.resolve().then(n).then(r).then(o).then(i).then((function(){return e})):e;function n(){var n,r;n=window.getComputedStyle(t),r=e.style,n.cssText?r.cssText=n.cssText:function(t,e){eh.asArray(t).forEach((function(n){e.setProperty(n,t.getPropertyValue(n),t.getPropertyPriority(n))}))}(n,r)}function r(){[":before",":after"].forEach((function(n){!function(n){var r=window.getComputedStyle(t,n),o=r.getPropertyValue("content");if(""===o||"none"===o)return;var i=eh.uid();e.className=e.className+" "+i;var a=document.createElement("style");a.appendChild(function(t,e,n){var r="."+t+":"+e,o=n.cssText?function(t){var e=t.getPropertyValue("content");return t.cssText+" content: "+e+";"}(n):function(t){return eh.asArray(t).map((function(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")})).join("; ")+";"}(n);return document.createTextNode(r+"{"+o+"}")}(i,n,r)),e.appendChild(a)}(n)}))}function o(){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}function i(){e instanceof SVGElement&&(e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e instanceof SVGRectElement&&["width","height"].forEach((function(t){var n=e.getAttribute(t);n&&e.style.setProperty(t,n)})))}}(e,t)})):Promise.resolve();function o(e,n,r){var o=e.childNodes;return 0===o.length?Promise.resolve(n):i(n,eh.asArray(o),r).then((function(){return n}));function i(e,n,r){var o=Promise.resolve();return n.forEach((function(n){o=o.then((function(){return t(n,r)})).then((function(t){t&&e.appendChild(t)}))})),o}}}(t,e.filter,!0)})).then(ch).then((function(t){var n=e,r=n.bgcolor,o=n.width,i=n.height,a=n.style,u=n.sx,c=void 0===u?1:u,s=n.sy,f=void 0===s?1:s,l=t.style;r&&(l.backgroundColor=r);o&&(l.width=o+"px");i&&(l.height=i+"px");l["margin-left"]="0px",l["margin-top"]="0px",["-webkit-","-moz-","-ms-","-o-",""].forEach((function(t){l[t+"transform"]="rotate(0rad) translate(0px, 0px) scale(".concat(c,", ").concat(f,") perspective(1px)")})),a&&Object.keys(a).forEach((function(t){l[t]=a[t]}));return t})).then((function(n){return function(t,e,n){return Promise.resolve(t).then((function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)})).then(eh.escapeXhtml).then((function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"})).then((function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+n+'">'+t+"</svg>"})).then((function(t){return"data:image/svg+xml;charset=utf-8,"+t}))}(n,e.width||eh.width(t),e.height||eh.height(t))}))}function uh(t,e){return ah(t,e).then(eh.makeImage).then(eh.delay(100)).then((function(n){var r=function(t){var n=document.createElement("canvas");e.width,e.height;if(n.width=e.width||eh.width(t),n.height=e.height||eh.height(t),e.bgcolor){var r=n.getContext("2d");r.fillStyle=e.bgcolor,r.fillRect(0,0,n.width,n.height)}return n}(t);return r.getContext("2d").drawImage(n,0,0),r}))}function ch(t){return oh.inlineAll(t).then((function(){return t}))}var sh={toSvg:ah,toPng:function(t,e){return uh(t,e||{}).then((function(t){return t.toDataURL()}))},toJpeg:function(t,e){return uh(t,e=e||{}).then((function(t){return t.toDataURL("image/jpeg",e.quality||1)}))},toBlob:function(t,e){return uh(t,e||{}).then(eh.canvasToBlob)},toPixelData:function(t,e){return uh(t,e||{}).then((function(e){return e.getContext("2d").getImageData(0,0,eh.width(t),eh.height(t)).data}))},impl:{fontFaces:rh,images:oh,util:eh,inliner:nh,options:{}}},fh=sh;function lh(t,e,n,r){var o=this.model_layer,i=o._overlay;return new Promise((function(a,u){if(o){var c=o.get("width"),s=o.get("height");n=n||c,r=r||s;var f=o.get("translate"),l=o.get("scale"),h=Math.min(n/c,r/s);n=c*h,r=s*h,o.set("translate",{x:0,y:0}),o.set("scale",{x:h/Mi,y:h/Mi});var p=Pa.createCanvas(n,r),y=p.getContext("2d");if(o.draw(y),o.set("translate",f),o.set("scale",l),!i)return a(p.toDataURL(t,e)),void(p=null);fh.toPng(i,{sx:h,sy:h,width:n,height:r}).then((function(o){var i=new Image;i.onload=function(){y.drawImage(i,0,0,n,r),a(p.toDataURL(t,e)),p=null},i.src=o}),(function(n){gi(n),a(p.toDataURL(t,e)),p=null}))}else u("No target model")}))}function hh(){var t=this.selected.filter((function(t){return!!t.parent&&!t.stuck}));if(!(t.length<2)){var e=t[0].parent,n=[],r=t.sort((function(t,n){return e.components.indexOf(t)-e.components.indexOf(n)}));r.forEach((function(t){n.push(t.bounds)}));var o=Pa.union(n),i=t[0].transcoordP2S(o.left,o.top),a=pf({type:"group",left:(i=t[0].transcoordS2T(i.x,i.y)).x,top:i.y,width:o.width,height:o.height}),u=[{component:a,to_container:e}];r.forEach((function(t){u.push({component:t,to_container:a})})),this.app.commander.execute(new hf({changes:u})),this.selected=[a]}}function ph(){if(0!==this.selected.length){var t=[],e=[];this.selected.forEach((function(n){if(n.isGroup()){var r=n.parent;n.components.forEach((function(n){t.push(n),e.push({component:n,to_container:r})})),e.push({component:n,to_container:null})}})),this.app.commander.execute(new hf({changes:e})),this.selected=t}}function yh(){var t=this.selected;if(0!=t.length){var e=t.map((function(t){return t.bounds})),n=Pa.union(e),r=n.left+n.width/2;t.map((function(t){t.symmetryX(r)}))}}function dh(){var t=this.selected;if(0!=t.length){var e=t.map((function(t){return t.bounds})),n=Pa.union(e),r=n.top+n.height/2;t.map((function(t){t.symmetryY(r)}))}}function vh(){nf.around(this.app.commander,yh,this)}function gh(){nf.around(this.app.commander,dh,this)}function mh(t,e,n){var r=this.findAll(t,n);return r.forEach((function(t){t.set(e)})),r}function bh(t){nf.around(this.app.commander,t)}function wh(){return Object.values(this.indexMap).map((function(t){var e=t.model;return{key:e.id,value:e.data}})).sort((function(t,e){return t.key>e.key?1:-1}))}function _h(){return Object.values(this.indexMap).filter((function(t){return"variable"===t.get("type")})).map((function(t){var e=t.model,n=e.id,r=e.data;e.dataType;return{key:n,value:r}})).sort((function(t,e){return t.key>e.key?1:-1}))}function xh(t){var e=Object.values(this.indexMap).filter((function(t){return"variable"===t.get("type")})).reduce((function(t,e){return t[e.get("id")]=e,t}),{}),n=[];t.forEach((function(t){var r=e[t.key];r?(r.set("data",t.value),delete e[t.key]):n.push({type:"variable",id:t.key,left:0,top:0,width:100,height:20,data:t.value})})),Gl.call(this,n,{x:-100,y:0}),this.selected=Object.values(e),ql.call(this)}function kh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Sh=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!(e=Number(e))||e<=0?(gi("TimeCapsule maxsize should be greater than 0.",e),this.maxsize=10):this.maxsize=e,this.reset(),n&&this.snapshot(n)}var e,n,r;return e=t,(n=[{key:"dispose",value:function(){this.reset()}},{key:"snapshot",value:function(t){this.q.splice(this.pos+1,this.q.length-this.pos+1,t),this.q.length>this.maxsize&&this.q.splice(0,this.q.length-this.maxsize),this.pos=this.q.length-1}},{key:"forward",value:function(){if(this.snapshot_taker&&this.snapshot_taker.take(),this.forwardable)return this.q[++this.pos];mi("Not forwardable.")}},{key:"backward",value:function(){if(this.snapshot_taker&&this.snapshot_taker.take(),this.backwardable)return this.q[--this.pos];mi("Not backwardable.")}},{key:"reset",value:function(){this.q=[],this.pos=-1}},{key:"current",get:function(){if(-1!==this.pos)return this.q[this.pos];mi("Non state has been recorded.")}},{key:"length",get:function(){return this.q.length}},{key:"forwardable",get:function(){return this.pos<this.q.length-1}},{key:"backwardable",get:function(){return this.pos>0}},{key:"snapshot_taker",get:function(){return this._snapshot_taker},set:function(t){this._snapshot_taker=t}}])&&kh(e.prototype,n),r&&kh(e,r),t}();function Ah(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Oh=Mr((function(t){t.brake||t.take()}),1e3,{leading:!0,trailing:!1});function Eh(t){!t.brake&&t.dirty&&Oh(t)}var Ph=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.brake=!1,this.dirty=!1,this.state_holder=e,this.timecapsule=n,this.timecapsule.snapshot_taker=this}var e,n,r;return e=t,(n=[{key:"dispose",value:function(){delete this.state_holder,delete this.timecapsule}},{key:"touch",value:function(){this.dirty=!0,Eh(this)}},{key:"take",value:function(t){(this.dirty||t)&&(this.timecapsule.snapshot(this.state_holder.state),this.dirty=!1)}},{key:"brake",get:function(){return this._brake},set:function(t){this._brake=!!t,Eh(this)}}])&&Ah(e.prototype,n),r&&Ah(e,r),t}();function jh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rh(t,e){var n=e.model_layer.get("scale"),r=e.model_layer.get("translate");if(t){var o=JSON.parse(t);o.scale=n,o.translate=r,e.rebuildContentModel(o)}}var Th=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.timecapsule=new Sh(20);var n=this;this.snapshot_taker=new Ph({get state(){var t=n.container.model_layer.hierarchy;return JSON.stringify(t)}},this.timecapsule),this.snapshot_taker.take(!0)}var e,n,r;return e=t,(n=[{key:"dispose",value:function(){this.reset(),this.timecapsule&&this.timecapsule.dispose(),this.snapshot_taker&&this.snapshot_taker.dispose(),delete this.container,delete this.timecapsule,delete this.snapshot_taker}},{key:"execute",value:function(t,e){!1!==e&&t&&t.execute(),this.snapshot_taker.touch(),this.trigger("execute",t,!0,!1)}},{key:"undo",value:function(){this.timecapsule.backwardable&&(Rh(this.timecapsule.backward(),this.container),this.trigger("undo",this.undoable(),this.redoable()))}},{key:"redo",value:function(){this.timecapsule.forwardable&&(Rh(this.timecapsule.forward(),this.container),this.trigger("redo",this.undoable(),this.redoable()))}},{key:"undoable",value:function(){return this.timecapsule.backwardable}},{key:"redoable",value:function(){return this.timecapsule.forwardable}},{key:"reset",value:function(){this.timecapsule&&this.timecapsule.reset(),this.trigger("command-reset")}}])&&jh(e.prototype,n),r&&jh(e,r),t}();function Mh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ih(t,e,n){return e&&Mh(t.prototype,e),n&&Mh(t,n),t}go(Th.prototype,vo.withEvent);var Ch=new WeakSet,Lh=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._container=e,this.app=e.app,this._commander=new Th(this._container),this.app.commander=this._commander,Ch.add(this)}return Ih(t,null,[{key:"residents",get:function(){return Ch}}]),Ih(t,[{key:"add",value:function(){return Gl.apply(this._container,arguments)}},{key:"duplicate",value:function(){return Hl.apply(this._container,arguments)}},{key:"remove",value:function(){return ql.apply(this._container,arguments)}},{key:"animate",value:function(){return ki.apply(this,arguments)}},{key:"fullscreen",value:function(){return Ql.apply(this._container,arguments)}},{key:"variable",value:function(t,e){return this._container.variable.apply(this._container,arguments)}},{key:"resize",value:function(){this._container.resize()}},{key:"dispose",value:function(){this._commander&&this._commander.dispose(),this._container&&this._container.dispose()}},{key:"select",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return this._container.selected=(e=this.root).findAll.apply(e,[t].concat(r)),this.selected}},{key:"undo",value:function(){this.commander.undo()}},{key:"redo",value:function(){this.commander.redo()}},{key:"cut",value:function(){return $l.apply(this._container,arguments)}},{key:"copy",value:function(){return Zl.apply(this._container,arguments)}},{key:"paste",value:function(){return th.apply(this._container,arguments)}},{key:"undoableChange",value:function(){return bh.apply(this._container,arguments)}},{key:"change",value:function(){return mh.apply(this.root,arguments)}},{key:"findAll",value:function(){return this.root.findAll.apply(this.root,arguments)}},{key:"findFirst",value:function(){return this.root.findFirst.apply(this.root,arguments)}},{key:"findById",value:function(){return this._container.findById.apply(this._container,arguments)}},{key:"serialize",value:function(){return this.root.trim(),this.root.serialize.apply(this.root,arguments)}},{key:"align",value:function(){return Nl.apply(this._container,arguments)}},{key:"distribute",value:function(){return zl.apply(this._container,arguments)}},{key:"move",value:function(){return Wl.apply(this._container,arguments)}},{key:"zorder",value:function(){return Yl.apply(this._container,arguments)}},{key:"symmetryX",value:function(){return vh.apply(this._container,arguments)}},{key:"symmetryY",value:function(){return gh.apply(this._container,arguments)}},{key:"on",value:function(){return Vl.apply(this._container,arguments)}},{key:"once",value:function(){return Xl.apply(this._container,arguments)}},{key:"off",value:function(){return Kl.apply(this._container,arguments)}},{key:"toDataURL",value:function(){return lh.apply(this._container,arguments)}},{key:"group",value:function(){return hh.apply(this._container,arguments)}},{key:"ungroup",value:function(){return ph.apply(this._container,arguments)}},{key:"fit",value:function(t){var e=this;this._container.once("redraw",(function(){return e._container.fit(t)})),this._container.invalidate()}},{key:"target",get:function(){return this._container.target_element},set:function(t){var e;if("string"==typeof t){if(!(e=document.getElementById(t)))throw"target element '".concat(t,"' is not exist");if(e.firstChild)throw"target element '".concat(t,"' already has children")}else e=t;e&&e.style&&(e.style.cursor="default"),this._container.target_element=e,this._container.invalidate()}},{key:"scale",get:function(){return this.root.get("scale")},set:function(t){this.root.set("scale",t)}},{key:"translate",get:function(){return this.root.get("translate")},set:function(t){this.root.set("translate",t)}},{key:"unit",get:function(){return this.root.get("unit")||"px"}},{key:"PPM",get:function(){return this.app.PPM}},{key:"PPI",get:function(){return this.app.PPI}},{key:"DPPX",get:function(){return this.app.DPPX}},{key:"unitScale",get:function(){return this._container.unitScale}},{key:"screen",get:function(){return this.app.screen},set:function(t){this.app.screen=t,this._container.resize()}},{key:"selected",get:function(){return this._container.selected.slice()},set:function(t){this._container.selected=t}},{key:"commander",get:function(){return this._commander}},{key:"model",get:function(){return this.root.hierarchy},set:function(t){this._container.rebuildContentModel(t)}},{key:"root",get:function(){return this._container.model_layer}},{key:"mode",get:function(){return this.app.mode},set:function(t){void 0!==t&&(this.app.mode=t)}},{key:"fitMode",get:function(){return this._container.fitMode}},{key:"ids",get:function(){return wh.apply(this._container)}},{key:"data",set:function(t){this._container.data=t},get:function(){return this._container.data}},{key:"variables",get:function(){return _h.apply(this._container)},set:function(t){xh.apply(this._container,[t])}},{key:"baseUrl",get:function(){return this.app.baseUrl},set:function(t){this.app.baseUrl=t}}]),t}();function Dh(t){var e=t.target,n=t.model,r=t.style,o=t.layers,i=void 0===o?[]:o,a=t.handlers,u=void 0===a?[]:a,c=t.mode,s=void 0===c?Pi:c,f=t.refProvider,l=t.baseUrl,h=t.fitMode,p=null;if("string"==typeof e){if(!(p=document.getElementById(e)))throw"target element '".concat(e,"' is not exist");if(p.firstChild)throw"target element '".concat(e,"' is not empty")}else p=e;p&&p.style&&(p.style.position="absolute",p.style.cursor="default",p.style.overflow="hidden");var y=new Fl(s,f);return y.baseUrl=l,new Lh(new Ml({target_element:p,model:n,style:r,layers:i,handlers:u,fitMode:h},y))}var Fh=Math.sqrt(3);function Bh(t,e,n,r,o){var i,a,u,c,s=5+o,f=n.x,l=n.y,h=r.x,p=r.y;if(Math.abs(f-h)>s&&Math.abs(l-p)>s){var y=(p-l)/(h-f),d=l-y*f;if(Math.abs(e-(y*t+d))>s)return!1}return f>h?(a=f,i=h):(a=h,i=f),l>p?(c=l,u=p):(c=p,u=l),!(a+5<t)&&(!(i-5>t)&&(!(c+5<e)&&!(u-5>e)))}function Nh(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=0;o<n.length-1;o++)if(Bh(t,e,n[o],n[o+1],r))return!0;return!1}function Uh(t,e,n,r){if("arrow"!=t.slice(-5))return n;n.x,n.y;var o=Math.atan2(r.y-n.y,r.x-n.x),i=1.5*e;return{x:n.x+Math.cos(o)*i,y:n.y+Math.sin(o)*i}}function zh(t,e,n){var r=n.lineWidth,o=void 0===r?2:r,i=n.strokeStyle,a=void 0===i?"#000000":i,u=n.lineCap,c=void 0!==u&&u,s=n.alpha,f=void 0===s?1:s,l=n.begin,h=void 0===l?"none":l,p=n.end,y=void 0===p?"none":p,d=n.beginSize,v=void 0===d?"size5":d,g=n.endSize,m=void 0===g?"size5":g;if(("none"!=h||"none"!=y)&&(o=Number(o)||2,t.lineCap=c,t.lineWidth=o,t.strokeStyle=a,t.fillStyle=a,t.globalAlpha*=f,"none"!=h&&Wh(t,e[0],e[1],o,h,Yh(v,o)),"none"!=y)){var b=e.length;Wh(t,e[b-1],e[b-2],o,y,Yh(m,o))}}function Wh(t,e,n,r,o,i){var a=e.x,u=e.y,c=Math.atan2(n.y-u,n.x-a);switch(t.beginPath(),t.translate(a,u),t.rotate(c),o){case"oval":t.ellipse(0,0,i.X,i.Y,0,0,2*Math.PI),t.fill();break;case"diamond":t.moveTo(-i.X,0),t.lineTo(0,-i.Y),t.lineTo(i.X,0),t.lineTo(0,i.Y),t.fill();break;case"arrow":t.moveTo(0,0),t.lineTo(Fh*i.X,-i.Y),t.lineTo(Fh*i.X,i.Y),t.fill();break;case"sharp-arrow":t.moveTo(0,0),t.lineTo(Fh*i.X,-i.Y),t.lineTo(-i.X/1.5+Fh*i.X,0),t.lineTo(Fh*i.X,i.Y),t.fill();break;case"open-arrow":t.moveTo(Fh*i.X+r,-i.Y),t.lineTo(r,0),t.lineTo(Fh*i.X+r,i.Y),t.stroke()}t.rotate(-c),t.translate(-a,-u),t.closePath()}function Yh(t,e){var n={};switch(e*=1.2,t){case"size1":n.X=e,n.Y=e;break;case"size2":n.X=1.5*e,n.Y=e;break;case"size3":n.X=2*e,n.Y=e;break;case"size4":n.X=e,n.Y=1.5*e;break;case"size5":n.X=1.5*e,n.Y=1.5*e;break;case"size6":n.X=2*e,n.Y=1.5*e;break;case"size7":n.X=e,n.Y=2*e;break;case"size8":n.X=1.5*e,n.Y=2*e;break;case"size9":n.X=2*e,n.Y=2*e;break;default:n.X=1.5*e,n.Y=1.5*e}return n}function Gh(t){return(Gh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vh(t,e){return!e||"object"!==Gh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xh(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Kh(t){return(Kh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qh(t,e){return(Qh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Jh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qh(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Kh(e);if(Xh()){var r=Kh(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Vh(this,t)});function a(){return Hh(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"isLine",value:function(){return!0}},{key:"render",value:function(t){var e=this.model,n=e.begin,r=void 0===n?"none":n,o=e.end,i=void 0===o?"none":o,a=e.lineWidth,u=this.drawPath;zh(t,u,this.model),t.beginPath();var c=Uh(r,a,u[0],u[1]),s=Uh(i,a,u[u.length-1],u[u.length-2]);t.moveTo(c.x,c.y);for(var f=1;f<u.length-1;f++)t.lineTo(u[f].x,u[f].y);t.lineTo(s.x,s.y),this.drawStroke(t)}},{key:"contains",value:function(t,e){var n=this.model.lineWidth;return Nh(t,e,this.drawPath,n)}},{key:"drawPath",get:function(){return this.path}},{key:"resizable",get:function(){return!1}},{key:"mutable",get:function(){return!0}},{key:"rotatable",get:function(){return!1}},{key:"path",get:function(){var t=this.model;return[{x:t.x1,y:t.y1},{x:t.x2,y:t.y2}]},set:function(t){var e=t[0],n=t[1];this.set({x1:e.x,y1:e.y,x2:n.x,y2:n.y})}}])&&qh(n.prototype,r),o&&qh(n,o),a}(Pa);function Zh(t){return(Zh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ep(t,e){return!e||"object"!==Zh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function np(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function rp(t){return(rp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function op(t,e){return(op=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Jh.getTipNeckPos=Uh,Jh.containedInPath=Nh,Jh.drawEndTips=zh,Pa.memoize(Jh.prototype,"path",!1),Pa.register("line",Jh);var ip=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&op(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=rp(e);if(np()){var r=rp(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return ep(this,t)});function a(){return $h(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"is3dish",value:function(){return!0}},{key:"render",value:function(t){var e=this.model,n=e.cx,r=e.cy,o=e.rx,i=e.ry,a=e.startAngle,u=e.endAngle,c=e.anticlockwise;t.beginPath(),t.ellipse(n,r,Math.abs(o),Math.abs(i),0,a||0,u||2*Math.PI,c)}},{key:"contains",value:function(t,e){var n=this.model,r=n.cx,o=n.cy,i=(t-r)/(2*n.rx-.5),a=(e-o)/(2*n.ry-.5);return i*i+a*a<.25}},{key:"outline",value:function(t){return function(t,e){var n=t.model,r=n.cx,o=n.cy,i=n.rx,a=n.ry,u=2*Math.PI*e,c=r+i*Math.cos(u),s=o+a*Math.sin(u);return t.transcoordS2T(c,s)}(this,t)}},{key:"path",get:function(){var t=this.model,e=t.cx,n=t.cy,r=t.rx,o=t.ry;return[{x:e-r,y:n-o},{x:e+r,y:n-o},{x:e+r,y:n+o},{x:e-r,y:n+o}]},set:function(t){var e=t[0],n=t[2];this.set({cx:e.x+(n.x-e.x)/2,cy:e.y+(n.y-e.y)/2,rx:(n.x-e.x)/2,ry:(n.y-e.y)/2})}}])&&tp(n.prototype,r),o&&tp(n,o),a}(Fu);function ap(t){return(ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function up(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sp(t,e){return!e||"object"!==ap(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fp(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function lp(t){return(lp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hp(t,e){return(hp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.memoize(ip.prototype,"path",!1),Pa.register("ellipse",ip);var pp={ondragstart:function(t,e,n){n.mutatePath(null,(function(n){n.splice(e+1,0,t)}))},ondragmove:function(t,e,n){n.mutatePath(null,(function(n){n[e+1]=t}))},ondragend:function(t,e,n){}},yp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hp(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=lp(e);if(fp()){var r=lp(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return sp(this,t)});function a(){return up(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"is3dish",value:function(){return!0}},{key:"render",value:function(t){var e=this.model.path,n=void 0===e?[]:e;if(!(n.length<=1)){t.beginPath(),t.moveTo(n[0].x,n[0].y);for(var r=1;r<n.length;r++)t.lineTo(n[r].x,n[r].y);t.closePath()}}},{key:"contains",value:function(t,e){var n=this.model.path,r=!1;return n.forEach((function(o,i){var a=(i+n.length+1)%n.length,u=o.x,c=o.y,s=n[a].x,f=n[a].y;c>e!=f>e&&t<(s-u)*(e-c)/(f-c)+u&&(r=!r)})),r}},{key:"mutable",get:function(){return!0}},{key:"pathExtendable",get:function(){return!0}},{key:"path",get:function(){return this.model.path},set:function(t){this.set("path",t)}},{key:"controls",get:function(){var t=this.path;return t.map((function(e,n){var r=t[n+1>=t.length?0:n+1];return{x:(e.x+r.x)/2,y:(e.y+r.y)/2,handler:pp}}))}}])&&cp(n.prototype,r),o&&cp(n,o),a}(Fu);function dp(t){return(dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mp(t,e){return!e||"object"!==dp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bp(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function wp(t){return(wp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _p(t,e){return(_p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.memoize(yp.prototype,"controls",!1),Pa.register("polygon",yp);var xp={ondragstart:function(t,e,n){n.mutatePath(null,(function(n){n.splice(e,0,t)}))},ondragmove:function(t,e,n){n.mutatePath(null,(function(n){n[e]=t}))},ondragend:function(t,e,n){}},kp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_p(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=wp(e);if(bp()){var r=wp(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return mp(this,t)});function a(){return vp(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"pathExtendable",get:function(){return!0}},{key:"path",get:function(){return this.model.path},set:function(t){this.set("path",t)}},{key:"controls",get:function(){for(var t=this.path,e=[],n=0;n<t.length-1;n++){var r=t[n],o=t[n+1];0==n&&e.push({x:r.x,y:r.y,handler:xp}),e.push({x:(r.x+o.x)/2,y:(r.y+o.y)/2,handler:xp}),n==t.length-2&&e.push({x:o.x,y:o.y,handler:xp})}return e}}])&&gp(n.prototype,r),o&&gp(n,o),a}(Jh);function Sp(t){return(Sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ap(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Op(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ep(t,e,n){return(Ep="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Rp(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Pp(t,e){return!e||"object"!==Sp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jp(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Rp(t){return(Rp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tp(t,e){return(Tp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.memoize(kp.prototype,"controls",!1),Pa.register("polyline",kp);var Mp={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"image-selector",label:"image-src",name:"src",property:{displayField:"id",displayFullUrl:!0,baseUrlAlias:"$base_url",defaultStorage:"scene-image",storageFilters:{type:Array,value:[{name:"category",value:"image"}]},useUpload:!0}},{type:"select",label:"cross-origin",name:"crossOrigin",property:{options:["","anonymous","use-credentials"]}}],"value-property":"src"},Ip=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tp(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Rp(e);if(jp()){var r=Rp(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Pp(this,t)});function a(){return Ap(this,a),i.apply(this,arguments)}return n=a,o=[{key:"noimage",get:function(){return a.NOIMAGE||(a.NOIMAGE=new Image,a.NOIMAGE.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABIBAMAAAD7Se1QAAAAIVBMVEUAAABHcEwBAQEREREBAQEEBAQGBgYLCwsDAwMDAwMICAi6HF9tAAAAC3RSTlNNAEAERiMYCS41Eac10lYAAAEgSURBVHhe7dY9asQwEAXgh7DNertNiJy48pIitY3SB7bYdk0ukL1BDDmA9gZecoH4pmFQ3MQayUMguPBrNPD4wD9TCMvJmt3M/AtYwXOlXiWgqADVCUBD46MAnGhMBaCiUQmAm8VA/Eh/eWl9Fn5WcxD+OLuRrUYJDKLluwH2InACUgkoACSdADxQc50Bytadb9RkM0CT13TcvlCT1HFg8UTHvasuUVACCa3El6u2UdD8LFTlKhUFFgA+d3dj10aABkUN72N3jAADCrJq7PIIsPidcxBoTHIIAjMFmyCwmGYIAA1P9gFgfCANAOsDSccCDW+uLDB+kLGg94OkZoAGkwsDDAe2DOg5oPxAg03rBR88OHpBz4N8UVeHFSwma74BTW6Ge4rIRa4AAAAASUVORK5CYII="),a.NOIMAGE}}],(r=[{key:"dispose",value:function(){Ep(Rp(a.prototype),"dispose",this).call(this),this._offcanvas=null,this._image=null}},{key:"render",value:function(t){var e=this.state,n=e.left,r=e.top,o=e.width,i=e.height,u=e.isGray,c=void 0!==u&&u,s=e.alpha,f=void 0===s?1:s,l=e.src;if(this.prepareIf(!this._image&&l),t.beginPath(),t.globalAlpha*=f,this._image&&this._image.complete)if(c&&this._offcanvas)t.drawImage(this._offcanvas,n,r,o,i);else try{t.drawImage(this._image,n,r,o,i)}catch(e){t.drawImage(a.noimage,n,r,o,i)}else!this.app.isViewMode&&t.drawImage(a.noimage,n,r,o,i)}},{key:"ready",value:function(){this.prepareIf(!this._image&&this.state.src)}},{key:"prepare",value:function(t,e){var n=this,r=this.state,o=r.src,i=r.crossOrigin;if(o){this._image=new Image;try{i&&(this._image.crossOrigin=i),this._image.src=this.app.url(o)||""}catch(t){return void e(t)}this._image.onload=function(){if(n.get("isGray")){var e=n._image.width,r=n._image.height;n._offcanvas=Pa.createCanvas(e,r);var o=n._offcanvas.getContext("2d");o.drawImage(n._image,0,0);var i=function(t,e,n){try{var r=t.getImageData(0,0,e,n)}catch(t){return gi("Get Image Data Error: "+t.message),null}for(var o=r.data,i=0;i<e*n*4;i+=4){var a=o[i],u=o[i+1],c=o[i+2],s=parseInt((a+u+c)/3);r.data[i]=s,r.data[i+1]=s,r.data[i+2]=s}return r}(o,e,r);o.putImageData(i,0,0)}t(n)},this._image.onerror=function(t){n._image&&!n._image.currentSrc&&(n._image=null),e(t)}}else t(this)}},{key:"onchange",value:function(t,e){(t.hasOwnProperty("src")||t.hasOwnProperty("isGray"))&&(this._offcanvas=null,this._image=null,this.prepareIf(t.src))}},{key:"ondropfile",value:function(t,e){for(var n=0;n<t.length;n++)if(t[n].type.startsWith("image/"))return void(this.src=e[n])}},{key:"nature",get:function(){return Mp}},{key:"hasTextProperty",get:function(){return!1}},{key:"src",get:function(){return this.get("src")},set:function(t){this.set("src",t)}}])&&Op(n.prototype,r),o&&Op(n,o),a}(eu(Fu));function Cp(t){return(Cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dp(t,e){return!e||"object"!==Cp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fp(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Bp(t){return(Bp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Np(t,e){return(Np=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.register("image-view",Ip);var Up=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Np(t,e)}(r,t);var e,n=(e=r,function(){var t,n=Bp(e);if(Fp()){var r=Bp(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Dp(this,t)});function r(){return Lp(this,r),n.apply(this,arguments)}return r}(fs(eu(Pa))),zp=n(158),Wp=n.n(zp);function Yp(t){return(Yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gp(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function Hp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vp(t,e,n){return(Vp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qp(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Xp(t,e){return!e||"object"!==Yp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kp(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Qp(t){return(Qp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jp(t,e){return(Jp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zp={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"string",label:"src",name:"src"},{type:"checkbox",label:"play",name:"play"}],"value-property":"src"},$p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jp(t,e)}(c,t);var e,n,r,o,i,a,u=(e=c,function(){var t,n=Qp(e);if(Kp()){var r=Qp(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Xp(this,t)});function c(){return Hp(this,c),u.apply(this,arguments)}return n=c,(r=[{key:"oncreate_element",value:(i=regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.state,r=n.src,o=n.play,this.onchangesrc(r),this.onchangeplay(o);case 3:case"end":return t.stop()}}),t,this)})),a=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){Gp(o,n,r,a,u,"next",t)}function u(t){Gp(o,n,r,a,u,"throw",t)}a(void 0)}))},function(t){return a.apply(this,arguments)})},{key:"buildImg",value:function(){var t=this.element;t.innerHTML="";var e=document.createElement("img");return e.style.width="100%",e.style.height="100%",t.appendChild(e),e}},{key:"onchange",value:function(t,e){Vp(Qp(c.prototype),"onchange",this).call(this,t,e),"src"in t&&this.onchangesrc(t.src),"play"in t&&this.onchangeplay(t.play)}},{key:"setElementProperties",value:function(t){}},{key:"onchangeplay",value:function(t){var e=this._superGif;e&&!e.get_loading()&&(t?e.play():e.pause())}},{key:"onchangesrc",value:function(t){var e=this,n=this.buildImg();t||(t="data:image/gif;base64,R0lGODlhYABIAPcAAAAAAAEBAQICAgMDAwQEBAUFBQYGBgcHBwgICAkJCQoKCgsLCwwMDA0NDQ4ODg8PDxAQEBERERISEhMTExQUFBUVFRYWFhcXFxgYGBkZGRoaGhsbGxwcHB0dHR4eHh8fHyAgICEhISIiIiMjIyQkJCUlJSYmJicnJygoKCkpKSoqKisrKywsLC0tLS4uLi8vLzAwMDExMTIyMjMzMzQ0NDU1NTY2Njc3Nzg4ODk5OTo6Ojs7Ozw8PD09PT4+Pj8/P0BAQEFBQUJCQkNDQ0REREVFRUZGRkdHR0hISElJSUpKSktLS0xMTE1NTU5OTk9PT1BQUFFRUVJSUlNTU1RUVFVVVVZWVldXV1hYWFlZWVpaWltbW1xcXF1dXV5eXl9fX2BgYGFhYWJiYmNjY2RkZGVlZWZmZmdnZ2hoaGlpaWpqamtra2xsbG1tbW5ubm9vb3BwcHFxcXJycnNzc3R0dHV1dXZ2dnd3d3h4eHl5eXp6ent7e3x8fH19fX5+fn9/f4CAgIGBgYKCgoODg4SEhIWFhYaGhoeHh4iIiImJiYqKio+Pj5iYmKCgoKampqurq66urrCwsLGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrOzs7S0tLa2tre3t7m5ubu7u7+/v8DAwMHBwcPDw8XFxcfHx8vLy8/Pz9LS0tXV1dfX193d3eTk5Onp6fj4+Pz8/P7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v///////////////////////////////////////////////////////////////////////////////yH5BAkAAPUAIf47R2VuZXJhdGVkIGJ5IGpzZ2lmIChodHRwczovL2dpdGh1Yi5jb20vYW50aW1hdHRlcjE1L2pzZ2lmLykALAAAAABgAEgAAAj+AGcJHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo8ePIEOKHEmypMmR9VKqXMmypcuXMGPKnJkSIs2bOHPqZGlzp8+fQOv1DEq0KMyhRpMmRaq0KVCmTqPmhCq1qkyqLrFRSyYwGTVsVo1iZXmNa8Fk18ISHasSm1mDycCq/ck2JTWF1ObSfTjz7cFken3WFbow8M7BDA3rHOwXruKpfGXeTZg3qDVrUge7RRg3KLZjx+Q2HVyvLNy0QaMJjBaVdD2tZr2K/mmNIObRkR+n9AsYt0Pddg1WXppb8bWDx1CLLW74GcJnSl3TtDY8Zu2Et4tKl7n52eyWnxXvhl7+26jqrspbnlfIWjtz2gWPZV95neH8veU9NxZYfbfD3kFt99J6Bnmn0mQO9XfYezrVxxlmx0GUXIAM4hSeffsxBN1TFd5E4Ef3QZbfTg6CNJ5gHXJ3TEntLThiTh+KFCJNAqZU4kgAitjQTheepOBMNcZI0oQ6JpbTjSZtiNN2PZ400IxHpdiSc07G911M0iFZZYtAStnWilUeBGVLrlEZpmM0elmPlmfO8iOZXl4DZpsGEYmll2bSWWCXLwJXVY1+urhjoGEBSuiSah6K36CKtpZoo4s9CimielZq6aWYZqrpppx26umnoIZ6UkAAOw=="),n.setAttribute("rel:animated_src",t),n.setAttribute("rel:auto_play",0),this._superGif=new Wp.a({gif:n,progressbar_height:2}),this._superGif.load((function(){e._superGif.move_to(0),e.play&&e._superGif.play()}))}},{key:"ondropfile",value:function(t,e){for(var n=0;n<t.length;n++)if(/\.gif$/.test(t[n].name))return void(this.src=e[n])}},{key:"src",get:function(){return this.getState("src")},set:function(t){this.set("src",t)}},{key:"play",get:function(){return this.getState("play")},set:function(t){this.setState("play",t)}},{key:"nature",get:function(){return Zp}},{key:"tagName",get:function(){return"div"}}])&&qp(n.prototype,r),o&&qp(n,o),c}(Up);function ty(t){return(ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ey(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ny(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ry(t,e,n){return(ry="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ay(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function oy(t,e){return!e||"object"!==ty(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iy(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function ay(t){return(ay=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uy(t,e){return(uy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.register("gif-view",$p);var cy={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"string",label:"src",name:"src"},{type:"checkbox",label:"started",name:"started"},{type:"checkbox",label:"loop",name:"loop"}],"value-property":"src"},sy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uy(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=ay(e);if(iy()){var r=ay(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return oy(this,t)});function a(){return ey(this,a),i.apply(this,arguments)}return n=a,o=[{key:"image",get:function(){return a.IMAGE||(a.IMAGE=new Image,a.IMAGE.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAMAAAC3Ycb+AAAAP1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACzJYIvAAAAFHRSTlMA8BAwgNBgQKB/wCBwUJDg37CvXyUlBK8AABFYSURBVHja7NsBkqIwFIThTiAQgyBq3/+sm6p1tnamZkaTMhJJf1f4S/JeEIiIiIiIiIiIiIiIiEhD7Hg4BH84TpAKjJ4f3NFCtjVd+InXz2RTs+FXlxGylYHfcVfIJmb+YFWSLUyGVJKKBJJKUo+Rd6w63l/qzLuCkryO5fe0l2xk5mMWbe+v0fNBRqf7S3je6CipQ2ACr+dWcYEpzBFS1plpguatsnomMgdIQSOTuQ5SjmE6/UgK8szgdJIUM/FG41YlFmYJ2kkKsY5ZzAwBurHDk3WGeRY0bvYrGa1+rqNI22f7dS32ZnUK1GMr0eSK3mEc9dhKMxp+ZTo8kT2emOXS5LQ1kCxbJBocSd2k5PaIjMVzjWcdJPk9ooBnmzx1t5XbIxqBKpJ4NGTgzwKiGpK4do72gb+ZUMIYtCPm9WCPMsYTE5k2hq2ZvzujlCE1iRmwf3dvmRyKsT0T7b9I7HEPCpqCiqT2IIqaT1pI0noQZdlFC8l/PbYPAnRORT56VBEE6FXkb49agmByKhJ71BME6FsvEntUFQTdqekisUdlQWCXhovEHtUFAWbTapHYo8YgmFybO3vsUWcQYGmxSOxRbRAMprkisUfFQVKmrX18sxt7VB0ENjT1xir2qDxIwkFi3v89e+xRfxAMzfzzIfZ4hyAYDR9zwVuLPd4jCDrTwoLYGb5LEFi3/+E3rweR6urX20c/Fvls2Pvwm9mDSGIPhv8YPyGf3/eo9Ye7O8B2FIShAAooakEttex/rbODad5/yTHIAjqn505IQPv+Xz06dz+4VXORHEZcgAcB8updM8F6e25jBzwIkE07l+x8amMnPDp6nsNJ+BoZ7Q6F8egqAda9VEuRNlZjBzwYkMskdXR73okd8GBAJiKYjBcZKKqG9OiKDbgdfxJ5VhsBPDiQZhaouD3p4hfw4EAmwxisz3MSHwAPEmQ1TB1N+SmXWoAHC7JbZsWl/IxLLcCDBplNo3lrfMLsmwAPGmShAxX5/1vOEzjEz3iyfQ/hI36W4TctsUesOAifPdrQg8M++KYl95iCBkjI1r8634betBAPHZDTPFAmD3zLiHgogVTziMsahz0eIh5aIGHGRSJ2mFtHPR4iHhQIP2UvWGMf8wk74qEIEib7rLjPiBfxiAcCwp8V+Nae3uMdRhAPDIR/J5f/Q2DTcC+hIB7qIGEq3Ti9bx+sryMeAAgS70OK8G2kBD8L8QBAoLWU3g3vUVIc6D0txAMAsY+4jBWowXHO64gHBGKfYJ2T5qY1BxcL98BB+PQ+XiS9xxh9EQ8ChA6C5UXWIUoE9MBB8LVHQoS7ib8/dRn3sAcJ6bQRSdH96RDxIEH4QEX+AHF4LxHEAwUh12xyr1V8lwjiQYDYF8kuf1jluUQQDwrEvkhW8Wc6LhHUgwfhi4QPlHm7LRHawx4kpE191Dq8lgjhAYDQa1cftYrPEiE8OJDb40uqyzdQCA8WhAzL4G/PT4c3WrgHD2IfllGl53V37zsgHg5ApPNvVvq4Fn4spx4oiH1W3CwtEV+PDhEPJyBSkVX4aa7emkM83ICEKWpGM7wdvYCCeDgCEYpcwhLxczhEPFyBCEUWnRL5T6X59SBASBF+9l28TL5F7uEORCZyCUvEx+S7yT0cgoRVb9JaXLR1qUdfgksQ0fTbgmhFB20d8HAKEha14+F8f1sHPNyCiL6EqK+n20/rgIdjkFC0Ho1s6Gndvcc9ICkr/ey8/rHO6vp9KawL8DAFOV6l9Fyub7IbflsCag1qRfVsXWvxHjxIejU+BHZV6uvHD1XiEb++Bw8i+dNd+Wv0eCQmhcPhRPwUUt2DB5G1sfa1aeyzAuyJj9x2HjyIdKzIKw5SI14ieFtvo3kIQERj3lVhkUOnRD7AnjV5369QkAOJZeCH+Jh41xOLs73dQwAifY6dpxCCbjTDzLf1Bm1Y93tAIDOWXcLPvrHyr2hVoEAceEAgDQzB4jetk0/c2OXRHB48EJCpa4dgpYh2ETxtrshz7zx4ICCzfuTSDn8p/EOS9OTjwgMB+cABP3yWYuOPIofs33LigYCULlpZNXJppVU30Vf14kGAUCLijf1D71lN9FW9eFiA9KgZ8FPpPUsSnufGA+8hvAg2Kpz0nrX//qp+PIgpC3i6xJRITOye9fn1VT15ICCrVlQG5rywo0H8x965bVkNwmCYQ2kR6Gmb939WXV65dFnI/tPdjPBfO7XMN4EkTUJtqZp4sCJ1+8jwkhMu0KpMxFXFA8hlVfQSMxGH5mDK1VKV8QCyvTVtUiYyo7V358VStfGoAEFMhGYhEwloxZy9WKo2Hjwg5iSOvFDXeUYd33+PuVfHgwnEBWLocDJp+IIa2fyvperjwQRiXCKGosyXqoA+YfsIELuYu4HAt+msMknfDK4jfQJIzOZ2IPAQWJtFOhQKivR2IDZ6Awis7V0iLxqBI7uEZo19dakTogLSwKvf8yk8Jq6CGK0GKvWlatG7b7kkUU/Lo1gdXWn7/4E0j0qeJDpqN/ABqQcgJgdqURb4chjQktIugDS6wFFiz3JgaJj7AGJmholAe9YKhoZLJ0Ca6smjwJ4VwVN96gVIE5GM71kHaGKxGyAtRDaB2NBhLVmpHyANRKzDO28W7FS3HQFpaIWa8TrfCXQwegJSL5k+8M9UJ+pm9QTEnCIZrR0MDQeQ9ua0iCcYQaBTV0CqNXQW/yiyYG7W1heQanPaCkciBXuH1BkQJzHcDQxmpgGkPatl4WkbCXO/bW9AqlNg4H0PPMi6A1IxkQmOZ8D0ousNSMVEEuyreTAQ6Q7IRJeCX2YZQHhv6SrBOmpkM+YUzN0BqSRQCupmTeCP9wdkhiOREwtEzgGEsWcF9BhK9R8fQDiN7A8DiR0CKXQlj/q9IM8OgXjIzcKBlAHkD6FulgNzJwPIHwpo8mQAkX3LiPq9dKUMAQk9AqmcqmjuBAJCPQIpA4guIAsKJA0gnwNy3A4kDyBIHCEPxAwgf8gPILqA5AFEF5CxZX0lIHYc6rqADLf380BmFMgxgIzUyf8MJKLTRelKHgKy9wgkjfS7LiA0gKgC8vQn3HUA4RQ5LKPIAQciWbqIEg0YkLNDIHYUyqkCsmKN5vg3+W0AYTRATaPY+uu1IwS6UMGAlO6AFPjSCQMStaNh53cdcPG7Hx1Uupo+rx+Bltn1BuTAj5BptEV/bHAAwbnJMICwRmtUDOSEA8s4Rmtw3nITGD6TwUNoG0Ca7xi2YKSPj2eKXQFxQWKA2QbGMWEMMGseOb7C7T47uJS1JyAzVbTjqZdU3zbHzMXWS+qp4Fgn8Ahy/QCRGqQcwU1vGnN7fylboWn8Bzg//hyjxltvdcl45bwFfYKzFyBy11UU9BnjuoqfWizVlQXulpzBTNbaB5Aid+VRrkBFB630AMS9BC8FK2ggE7u/FGy1kvfcB9TKQufX5uUXNWl3EjvWCi4k/u9A3Ddq1CpTIQGe6VN1qd8ArcvDQNw3S41Kn6qQmOq5e7pRr+8fAYLiIJtFrrvYRMYL0q06vj8EZLXUriJzRY8H1xEagOCK7gkghRg6RQYO0I6aWPwIEAru80AiMWSdzAeuDXUKyr+WqpAID8hMHC1Ct8F4mUsQ6W8pJMICki0JHCBczAFdBl38G3VE6ErQhhWlih4LWrCSLpaqjggHiGe9mVjRY0YPoelyqcqIcIDEe97rqJFFH7FcLlUZEQ6Qg5plvZiBFNhtri1VFREGEC/Eg4nZoU5vqi1VFREGkIXDQ8xAIhzoT/WlKiLCAFIYPOQMxOPdjfWlKiLCADJRm3YGj+pDE2xktmmpaogwgMz8d8GrumZ4xzpbvinqISJ+hiTWm7wEqoJdI9JEV9JChAEkS3xCZzKecLcgN6YwlRBhAGmweTsblg6qKMM7Vmh321UQ4QAp1VfwhqVJIh+Wm03W0qV0EOEAybXtivkCmWrKeH2EZ/xBaSBCV2L9Re+LYSqJJIxDu1ew07U0EGEBcTtmHty4JuPtQhvLh1BAhK7Uvvq0GK484QZST0GvvFDqeSJ1IA0r2mfDljvqBoJ//rVsq7yZCA6kXgVkJ2f4ijIGMjOfMVsCBBORB2Jy+sM6ijNvaBUqmw/cStZ8EiKciHwp6Rp++88qmxXQeTUxDiJWJ9wSISvBicgXW+dypn1PqWTznlwgwdZdfiLHr5OELEAEASKvJFRE5JCPKbh8OxHdQKJU0crEzRXrJ/IEkFms6tGyrUw9kQeALFRXvK2iSzsRAAi6BLxM+60xdsqJAEBuXMAMxDLVp+gmAgC57/UT4qvVj3TVRCAgSAYL91aXtyNLzUQAIFhAiP8m0/NHOp+ILiBtPFKrs6bgSOcT0QTEB8nO3QR1yKslggKRf+m11UB0HOl8IlqAeCvauXuo8HnfIqIDyCw6G8XMcGiplMingMzCnbuHFp/3LSLPA4nUpqm5YkWNzwsQeQxIDsKjH5wVSU5qJPIJIIt4jjpqNBAekQeBfJOeHWS81FQoo4/I7UDcS3wUh0liTzLqiEgDqddx4ZHDrNZAACIAEMw88HPYWb0GAhABgEDmgf9Vb5oNBCByOxD3uqWYbCHVBgIQuRlIsbfwMEG5gQBE7gSyHMDsOayrxJvHBRC5B0hOxJH1nK4SlUE6QOR+IG6ju3iYQEqDdIDIzUDyZu/jMRHpS/OiRG4FkiPRfTw8kbrvIAJEACAIDpyHC1/GQHhEbgKSXwTyqIeEur6kixEBgABHOTr7YSX1MSFAhA0E307wUU76Y0KACAsI/tvCRzkF+iIuL0AEAYLbR2QOfvhKJ/obRESBxNt5rPSFXN4f7dyNdqMgEIbhAXWwJErT/e7/Wreb5HTT07QVgWSAeW5g7b4n8qOSUCRPEId4HP93SXp5dDNGRJFcQTxihSH+NW1Bb1cXKpIryJAwnG/zhl8ZcSP6jiKZghwRaaWLnP/AkcSKKJIniEcUs8QfjFLdEmRvkSxB4lfn0QN6DY+lshQpHiT96Dlr6r5hxRUpHST9ZEY71X7DOmOZQVZLsd5Q8wzrPxYYJDiKNqOBG1ZCkZKzrNXu6lHvkjChSFqQsdTPg45ApXtYaUXKr9TNuPcvqO2pVMkitFXAL2a79/qr3HQvVSTXUtofCl79RDXh5CDpw3pwu6+9kRlvtiI5VtPhmHLltT4EKVQkfb8pcOHrXqk6nBAksUjgpKtuYsskaxGKYT0+84uYgziE4YQgMdx0m8PRfis2MbL33PMXoVjD6PEunI4HSjDjStiJP08vQk9hZzQ7oH/geoLYCUBDW4rf4FqCDFt7THUO6B+4jiDn2XNTW7zf4hqCMND4BOsGyw+yAmh0x+QeFh7EeqD5Ce8nLDrI8NpbDyIWHIQNruo4GyAPlhrEzuixBxHLDDJMnfYgYolBricHNfjIdgMWF+Qyu+pkgX4HCwuymL57ELGkIHZG7z2IWE6Q5VV7vGMhQewbtMcZiwhyHj26ne9+xs8PcvDQHnFFqCD7Au0RW4TK+fOKqw4eoOcqYqgU53HR3/5uShFPCfKey9hFDyJO/vAi7RDZnp7X5igyUH72xSDW1E2Pn4tMRCQgR8vLwbgii4gcmLvqQcSPGtIPX3M08wn6I4qYQ94cM/Yw9Xxhmw+X/59wHrtMlX1AmIkzdyaaAnLg1Nnw8WGYSk40X/BOh4+El6LMSBnN2Cd0tPq4w/LJXGrMbCX06PZ2dcM65yzlNertShSHf3SzRAyPM332IcSAHUKPi8EHmXU0l8Uglmni0yipDoi16s+jJKejhywLooz68yiMEcHr2qM4h81CJ++VPJfTu5UwBpv4Pp9DJSi6MJx0bvUwiw4ewgT8zNR0LHUL+OccOpY/3ElzyGKD5pBlMJpDlsOkMythRoNbXh95PJsdA67MrMtAEYbjeDqNo+7oKqWUUkoppZRSSimllFJKFfMXp4vmSjB8n6sAAAAASUVORK5CYII="),a.IMAGE}}],(r=[{key:"dispose",value:function(){ry(ay(a.prototype),"dispose",this).call(this),this.started=!1,delete this._audio}},{key:"ready",value:function(){var t=this;ry(ay(a.prototype),"ready",this).call(this),this._audio=new Audio,this._audio.addEventListener("canplay",(function(){t.started&&t._audio.play()}));var e=this.state,n=e.src,r=void 0===n?"":n,o=e.loop,i=void 0!==o&&o,u=e.started,c=void 0!==u&&u;this.onchangeSrc(r),this.onchangeLoop(i),this.onchangeStarted(c)}},{key:"render",value:function(t){var e=this.model,n=e.left,r=e.top,o=e.width,i=e.height;e.src,t.beginPath(),t.drawImage(a.image,n,r,o,i)}},{key:"start",value:function(){this._audio&&(this._audio.classList.add("active"),this._audio.play())}},{key:"pause",value:function(){this._audio&&(this._audio.classList.remove("active"),this._audio.pause())}},{key:"onchangeSrc",value:function(t){try{"data"!==String(t).substring(0,4)?this._audio.crossOrigin="use-credentials":this._audio.crossOrigin=null,this._audio.src="string"==typeof t?this.app.url(t):t}catch(t){return void console.error(t)}}},{key:"onchangeStarted",value:function(t){var e=this._audio;t?4==e.readyState&&e.play():e.pause()}},{key:"onchangeLoop",value:function(t){this._audio.loop=t}},{key:"onchange",value:function(t,e){"src"in t&&this.onchangeSrc(t.src),"started"in t&&this.onchangeStarted(t.started),"loop"in t&&this.onchangeLoop(t.loop)}},{key:"ondblclick",value:function(t){this.started=!this.started}},{key:"ondropfile",value:function(t,e){for(var n=0;n<t.length;n++)if(t[n].type.startsWith("audio/"))return void(this.src=e[n])}},{key:"nature",get:function(){return cy}},{key:"hasTextProperty",get:function(){return!1}},{key:"src",get:function(){return this.get("src")},set:function(t){this.set("src",t)}},{key:"started",get:function(){return!!this.get("started")},set:function(t){this.set("started",t)}}])&&ny(n.prototype,r),o&&ny(n,o),a}(eu(Fu));function fy(t){return(fy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ly(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function py(t,e){return!e||"object"!==fy(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yy(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function dy(t){return(dy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vy(t,e){return(vy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.register("audio",sy);var gy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vy(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=dy(e);if(yy()){var r=dy(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return py(this,t)});function a(){return ly(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"is3dish",value:function(){return!0}}])&&hy(n.prototype,r),o&&hy(n,o),a}(eu(Pa));function my(t){return(my="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function by(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _y(t,e,n){return(_y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Sy(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function xy(t,e){return!e||"object"!==my(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ky(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Sy(t){return(Sy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ay(t,e){return(Ay=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.register("text",gy);var Oy={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"id-input",label:"ref",name:"ref"},{type:"select",label:"fit",name:"fit",property:{options:["both","ratio"]}}],"value-property":"ref"},Ey=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ay(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Sy(e);if(ky()){var r=Sy(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return xy(this,t)});function a(){return by(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"draw",value:function(t){this._drawing||(this._drawing=!0,_y(Sy(a.prototype),"draw",this).call(this,t),this._drawing=!1)}},{key:"prerender",value:function(t){if(_y(Sy(a.prototype),"prerender",this).call(this,t),this.ref){var e=this.ref.center,n=this.center,r=this.refScale;t.translate(n.x,n.y),t.scale(r.x,r.y),t.translate(-e.x,-e.y)}}},{key:"postrender",value:function(t){if(this.ref)return this.ref.postrender(t);_y(Sy(a.prototype),"postrender",this).call(this,t)}},{key:"render",value:function(t){if(this.ref)return this.ref.render(t);this.model.round;var e=this.bounds,n=e.left,r=e.top,o=e.width,i=e.height;t.beginPath(),t.rect(n,r,o,i)}},{key:"ref",get:function(){var t=this.getState("ref");return t&&"string"==typeof t?this.root.findById(t):null},set:function(t){this.setState("ref",t)}},{key:"refScale",get:function(){var t=this.ref.bounds,e=this.bounds,n=e.width/t.width,r=e.height/t.height;switch(this.model.fit){case"both":return{x:n,y:r};case"ratio":default:return{x:Math.min(n,r),y:Math.min(n,r)}}}},{key:"nature",get:function(){return Oy}},{key:"hasTextProperty",get:function(){return!1}}])&&wy(n.prototype,r),o&&wy(n,o),a}(eu(Fu));function Py(t){return(Py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ry(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ty(t,e){return!e||"object"!==Py(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function My(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Iy(t){return(Iy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cy(t,e){return(Cy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.memoize(Ey.prototype,"ref",!1),Pa.memoize(Ey.prototype,"refScale",!1),Pa.register("local-ref",Ey);var Ly=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cy(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Iy(e);if(My()){var r=Iy(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Ty(this,t)});function a(){return jy(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"render",value:function(t){}},{key:"layout",get:function(){return Ma.get(this.get("layout"))||Va}}])&&Ry(n.prototype,r),o&&Ry(n,o),a}(fs(wu));function Dy(t){return(Dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fy(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function By(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ny(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uy(t,e,n){return(Uy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yy(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function zy(t,e){return!e||"object"!==Dy(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wy(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Yy(t){return(Yy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gy(t,e){return(Gy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Hy={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"board-selector",label:"scene-number",name:"ref",placeholder:"SCENE-1"},{type:"select",label:"fit",name:"fit",property:{options:["both","ratio"]}},{type:"select",label:"mode",name:"mode",property:{options:["view","interaction"]}}],"value-property":"ref"},qy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gy(t,e)}(c,t);var e,n,r,o,i,a,u=(e=c,function(){var t,n=Yy(e);if(Wy()){var r=Yy(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return zy(this,t)});function c(){return By(this,c),u.apply(this,arguments)}return n=c,(r=[{key:"dispose",value:function(){this._releaseRef(),Uy(Yy(c.prototype),"dispose",this).call(this)}},{key:"setElementProperties",value:function(t){var e=this.state.mode,n=void 0===e?"view":e;t.style.pointerEvents="view"==n?"none":"inherit"}},{key:"ready",value:function(){Uy(Yy(c.prototype),"ready",this).call(this),this.fetchRef()}},{key:"reposition",value:function(){if(this.element){Uy(Yy(c.prototype),"reposition",this).call(this);var t=this._element_bounds,e=this.element,n=e.offsetWidth,r=e.offsetHeight;if(this._element_bounds={offsetWidth:n,offsetHeight:r},(!t||t.offsetWidth!=n||t.offsetHeight!=r)&&this.ref&&this.root.target_element){var o=this.state.fit,i=void 0===o?"ratio":o;this.ref.fit(i)}}}},{key:"fetchRef",value:(i=regeneratorRuntime.mark((function t(){var e,n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._releaseRef(),e=this.state,n=e.ref,r=e.fit,o=void 0===r?"ratio":r,n){t.next=4;break}return t.abrupt("return");case 4:if(!(i=this.app.refProvider)||!n){t.next=17;break}return t.prev=6,t.next=9,i.get(n,!0);case 9:this.__ref=t.sent,this.__ref.target=this.element,this.__ref.fit(o),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(6),gi(t.t0);case 17:case"end":return t.stop()}}),t,this,[[6,14]])})),a=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){Fy(o,n,r,a,u,"next",t)}function u(t){Fy(o,n,r,a,u,"throw",t)}a(void 0)}))},function(){return a.apply(this,arguments)})},{key:"_releaseRef",value:function(){this.__ref&&this.__ref.release&&this.__ref.release(),delete this.__ref}},{key:"onchange",value:function(t,e,n){var r=this;Uy(Yy(c.prototype),"onchange",this).call(this,t,e,n),"ref"in t&&this.fetchRef(),"fit"in t&&this.ref&&requestAnimationFrame((function(){var t=r.state.fit;r.ref.fit(t)}))}},{key:"nature",get:function(){return Hy}},{key:"hasTextProperty",get:function(){return!1}},{key:"tagName",get:function(){return"div"}},{key:"ref",get:function(){return this.__ref},set:function(t){this.setState("ref",t)}}])&&Ny(n.prototype,r),o&&Ny(n,o),c}(Ly);function Vy(t){return(Vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ky(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qy(t,e){return!e||"object"!==Vy(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jy(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Zy(t){return(Zy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $y(t,e){return($y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.register("global-ref",qy);var td=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$y(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Zy(e);if(Jy()){var r=Zy(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Qy(this,t)});function a(){return Xy(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"render",value:function(t){var e=this.model.path,n=void 0===e?[]:e;if(!(n.length<=1)){t.beginPath(),t.moveTo(n[0].x,n[0].y);for(var r=1;r<n.length;r++)t.lineTo(n[r].x,n[r].y);t.closePath(),this.drawStroke(t)}}},{key:"contains",value:function(t,e){var n=this.model.path,r=!1;return n.forEach((function(o,i){var a=(i+n.length+1)%n.length,u=o.x,c=o.y,s=n[a].x,f=n[a].y;c>e!=f>e&&t<(s-u)*(e-c)/(f-c)+u&&(r=!r)})),r}},{key:"path",get:function(){return this.model.path},set:function(t){this.set("path",t)}}])&&Ky(n.prototype,r),o&&Ky(n,o),a}(Pa);function ed(t){return(ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function od(t,e){return!e||"object"!==ed(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function id(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function ad(t){return(ad=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ud(t,e){return(ud=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.register("path",td);var cd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ud(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=ad(e);if(id()){var r=ad(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return od(this,t)});function a(){return nd(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"render",value:function(t){var e=this.model,n=e.x1,r=e.y1,o=e.x2,i=e.y2,a=e.x3,u=e.y3;t.beginPath(),t.moveTo(n,r),t.lineTo(o,i),t.lineTo(a,u),t.closePath()}},{key:"contains",value:function(t,e){for(var n=this.model,r=[n.x1,n.y1,n.x2,n.y2,n.x3,n.y3],o=!1,i=0;i<r.length;i+=2){var a=(i+2)%r.length,u=r[i],c=r[i+1],s=r[a+1];c>e!=s>e&&t<(r[a]-u)*(e-c)/(s-c)+u&&(o=!o)}return o}},{key:"mutable",get:function(){return!0}},{key:"path",get:function(){var t=this.model;return[{x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:t.x3,y:t.y3}]},set:function(t){this.set({x1:t[0].x,y1:t[0].y,x2:t[1].x,y2:t[1].y,x3:t[2].x,y3:t[2].y})}}])&&rd(n.prototype,r),o&&rd(n,o),a}(Fu);function sd(t){return(sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ld(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hd(t,e){return!e||"object"!==sd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function yd(t){return(yd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dd(t,e){return(dd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.memoize(cd.prototype,"path",!1),Pa.register("triangle",cd);var vd={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"ratio",name:"ratio",property:"ratio"}]},gd={ondragmove:function(t,e,n){n.controls;var r=n.model,o=r.cx,i=r.rx;i=Math.abs(i);var a=(n.transcoordP2S(t.x,t.y).x-o)/i*100;a=a>=100||a<=-100?100:Math.abs(a),n.set({ratio:a})}},md=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dd(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=yd(e);if(pd()){var r=yd(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return hd(this,t)});function a(){return fd(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"is3dish",value:function(){return!1}},{key:"render",value:function(t){var e=this.model,n=e.ratio,r=void 0===n?50:n,o=e.cx,i=e.cy,a=e.rx,u=e.ry,c=e.startAngle,s=e.endAngle,f=e.anticlockwise;a=Math.abs(a),u=Math.abs(u),t.beginPath(),t.ellipse(o,i,a,u,0,c||0,s||2*Math.PI,f),t.moveTo(o+a/100*r,i),t.ellipse(o,i,a/100*r,u/100*r,0,c||0,s||2*Math.PI,!0)}},{key:"contains",value:function(t,e){var n=this.model,r=n.cx,o=n.cy,i=n.rx,a=n.ry,u=n.ratio,c=(t-r)/(2*(i=Math.abs(i))-.5),s=(e-o)/(2*(a=Math.abs(a))-.5),f=(t-r)/(i/100*u*2-.5),l=(e-o)/(a/100*u*2-.5),h=!1;return c*c+s*s<.25&&f*f+l*l>.25&&(h=!h),h}},{key:"controls",get:function(){var t=this.model,e=t.cx,n=t.cy,r=t.rx,o=t.ratio;return[{x:e+(r=Math.abs(r))/100*o,y:n,handler:gd}]}},{key:"nature",get:function(){return vd}}])&&ld(n.prototype,r),o&&ld(n,o),a}(ip);function bd(t){return(bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xd(t,e){return!e||"object"!==bd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Sd(t){return(Sd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ad(t,e){return(Ad=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.memoize(md.prototype,"controls",!1),Pa.register("donut",md);var Od={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"ratio",name:"ratio",property:"ratio"},{type:"number",label:"wing",name:"wing",property:"wing"}]},Ed={ondragmove:function(t,e,n){n.controls;var r=n.model,o=r.cy,i=r.ry,a=(n.transcoordP2S(t.x,t.y).y-o)/i*100+100;a>=100?a=100:a<=0&&(a=0),n.set({ratio:a})}},Pd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ad(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Sd(e);if(kd()){var r=Sd(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return xd(this,t)});function a(){return wd(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"is3dish",value:function(){return!1}},{key:"render",value:function(t){var e=this.model,n=e.ratio,r=void 0===n?30:n,o=e.wing,i=void 0===o?5:o,a=e.cx,u=e.cy,c=e.rx,s=e.ry;if(e.startAngle,e.endAngle,e.anticlockwise,!(i<3)){var f=1.5707963267948966,l=2*Math.PI/i,h=c-r/100*c,p=s-r/100*s;t.save(),t.beginPath(),t.translate(a,u),t.moveTo(c*Math.cos(-f),s*Math.sin(-f)),t.lineTo((c-h)*(Math.cos(l-f)+Math.cos(0-f))/2,(s-p)*(Math.sin(l-f)+Math.sin(0-f))/2);for(var y=1;y<i;y++)t.lineTo(c*Math.cos(l*y-f),s*Math.sin(l*y-f)),t.lineTo((c-h)*(Math.cos(l*(y+1)-f)+Math.cos(l*y-f))/2,(s-p)*(Math.sin(l*(y+1)-f)+Math.sin(l*y-f))/2);t.closePath(),t.restore()}}},{key:"controls",get:function(){var t=this.model,e=t.cx,n=t.cy,r=t.ry;return[{x:e,y:n-r+r*(t.ratio/100),handler:Ed}]}},{key:"nature",get:function(){return Od}}])&&_d(n.prototype,r),o&&_d(n,o),a}(ip);function jd(t){return(jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Td(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Md(t,e){return!e||"object"!==jd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Id(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Cd(t){return(Cd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ld(t,e){return(Ld=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.memoize(Pd.prototype,"controls",!1),Pa.register("star",Pd);var Dd={mutable:!1,resizable:!0,rotatable:!1,properties:[]},Fd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ld(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Cd(e);if(Id()){var r=Cd(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Md(this,t)});function a(){return Rd(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"render",value:function(t){var e=this.bounds,n=e.left,r=e.top,o=e.width,i=e.height;t.beginPath(),t.rect(n,r,o,i)}},{key:"text",get:function(){return this.get("id")},set:function(t){}},{key:"rotatable",get:function(){return!1}},{key:"nature",get:function(){return Dd}}])&&Td(n.prototype,r),o&&Td(n,o),a}(eu(Fu));function Bd(t){return(Bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ud(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zd(t,e,n){return(zd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gd(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Wd(t,e){return!e||"object"!==Bd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Gd(t){return(Gd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hd(t,e){return(Hd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pa.register("variable",Fd);var qd=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hd(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Gd(e);if(Yd()){var r=Gd(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Wd(this,t)});function a(){return Nd(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"animOnValueChange",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;if(t!=this._lastValue){if(n)var o=t-(Number(r)||0);else o=t-(this._lastValue||0);this._lastValue=t,this._anim_alpha=-o,this.animate({step:function(t){e._anim_alpha=o*(t-1),e.invalidate()},duration:1e3,delta:"circ",options:{x:1},ease:"out"}).start()}}},{key:"dispose",value:function(){zd(Gd(a.prototype),"dispose",this).call(this),delete this._value_substitutor}},{key:"onchange",value:function(t,e){t.hasOwnProperty("value")&&delete this._value_substitutor}},{key:"defaultValueSubstitutor",value:function(){return this.getState("value")}},{key:"animAlpha",get:function(){return this._anim_alpha||0}},{key:"animValue",get:function(){return(this._lastValue||0)+(this._anim_alpha||0)}},{key:"valueSubstitutor",get:function(){return this._value_substitutor||(this._value_substitutor=Hi(this.getState("value"),this)||this.defaultValueSubstitutor),this._value_substitutor}},{key:"value",get:function(){return Number(this.valueSubstitutor())||0},set:function(t){delete this._value_substitutor,this.setState("value",Number(Wr(t)))}}])&&Ud(n.prototype,r),o&&Ud(n,o),a}(t)};function Vd(t){return(Vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qd(t,e){return!e||"object"!==Vd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Zd(t){return(Zd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $d(t,e){return($d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tv=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$d(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Zd(e);if(Jd()){var r=Zd(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Qd(this,t)});function a(){return Xd(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"_convertDataFormat",value:function(t,e){var n;switch(e){case"json":n=JSON.parse(t);break;default:n=t}return n}},{key:"isDataSource",value:function(){return!0}}])&&Kd(n.prototype,r),o&&Kd(n,o),a}(t)};function ev(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function nv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rv(t,e,n){return e&&nv(t.prototype,e),n&&nv(t,n),t}var ov=new WeakSet,iv=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.counters={},this.references={},this.creator=e,this.disposer=n,ov.add(this)}return rv(t,null,[{key:"residents",get:function(){return ov}}]),rv(t,[{key:"dispose",value:function(){if(this.disposer)for(var t in this.references)this.disposer.call(null,t,this.references[t]);delete this.references,delete this.counters}},{key:"add",value:function(t,e){var n=this,r=new Promise((function(r,o){var i=n.references[t];if(i)i===e?o(Error("Reference ID and target duplicate")):e?o(Error("Reference ID duplicate")):r(i);else{function a(e){e=go(e,(function(){var t=this;this.release=function(){return n.release(t)}})),n.references[t]=e,n.counters[t]=1,r(e)}if(e)a(e);else{if(!n.creator)return void o(Error("Reference id("+t+") is not allowed. Reference creator should be defined."));n.creator.call(null,t,(function(t){a(t)}),(function(t){o(t)}))}}}));return this.references[t]||(this.references[t]=r),r}},{key:"get",value:function(){var t,e=(t=regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=this.references[e])){t.next=13;break}if(r instanceof Promise){t.next=7;break}if(e in this.counters){t.next=5;break}throw new Error("No Reference Count");case 5:return this.counters[e]++,t.abrupt("return",r);case 7:if(!n){t.next=13;break}return t.next=10,r;case 10:return r=t.sent,this.counters[e]++,t.abrupt("return",r);case 13:if(!n){t.next=17;break}return t.next=16,this.add(e);case 16:return t.abrupt("return",t.sent);case 17:throw new Error("No References for "+e);case 18:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ev(i,r,o,a,u,"next",t)}function u(t){ev(i,r,o,a,u,"throw",t)}a(void 0)}))});return function(t,n){return e.apply(this,arguments)}}()},{key:"_id",value:function(t){for(var e in this.references){if(this.references[e]===t)return e}return-1}},{key:"release",value:function(t){var e=this._id(t),n=this.references[e];n?(this.counters[e]--,0==this.counters[e]&&(this.disposer&&this.disposer.call(null,e,n),delete this.references[e],delete this.counters[e],bi("RELEASED",e))):gi("No Referenced ID")}},{key:"ids",get:function(){return Object.keys(this.references)}}]),t}();function av(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var uv={},cv={},sv=[];function fv(t){var e="SCRIPT"==t.target.tagName?uv:cv,n=t.target.src||t.target.href;e[n]=!0,sv.forEach((function(t,r){var o=t.resolve,i=t.scripts,a=t.styles;if(e==uv){var u=i.indexOf(n);u>-1&&u<i.length-1&&hv(i[u+1])}for(var c=0;c<i.length;c++)if(!uv[i[c]])return;if(a)for(var s=0;s<a.length;s++)if(!cv[a[s]])return;o(),sv[r]=null})),sv=sv.filter((function(t){return t}))}function lv(t){var e=t.target.src,n="SCRIPT"==t.target.tagName?uv:cv;sv.forEach((function(r,o){var i=r.reject,a=r.scripts,u=r.styles,c=!1;if(n===uv){for(var s=0;s<a.length;s++)if(a[s]==e){c=!0;break}}else if(u)for(var f=0;f<u.length;f++)if(u[f]==e){c=!0;break}c&&(i(t),sv[o]=null)})),sv=sv.filter((function(t){return t})),delete n[e],document.head.removeChild(t.target)}function hv(t){uv[t]=!1;var e=document.createElement("script");e.onload=fv,e.onerror=lv,e.type="text/javascript",e.src=t,document.head.appendChild(e)}var pv=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"load",value:function(t,e){return"string"==typeof t&&(t=[t]),"string"==typeof e&&(e=[e]),new Promise((function(n,r){if((!t||t instanceof Array)&&(!e||e instanceof Array)){var o,i=!0;if(e&&e.forEach((function(t){cv.hasOwnProperty(t)||function(t){cv[t]=!1;var e=document.createElement("link");e.onload=fv,e.onerror=lv,e.type="text/css",e.rel="stylesheet",e.media="screen,print",e.href=t,document.head.appendChild(e)}(t),cv[t]||(i=!1)})),t&&t.length>0&&t.forEach((function(t){uv.hasOwnProperty(t)?uv[t]||(i=!1):o=o||t})),o)hv(o);else if(i)return void n();sv.push({resolve:n,reject:r,scripts:t,styles:e})}else r("invalid sources for load")}))}}],(n=null)&&av(e.prototype,n),r&&av(e,r),t}(),yv="0.0.0",dv=0,vv=performance.now(),gv=0;function mv(){return dv}requestAnimationFrame((function t(){requestAnimationFrame(t),gv++;var e=performance.now(),n=e-vv;n<1e3||(dv=Math.round(1e3*gv/n),vv=e,gv=0)}));var bv=u;function wv(){}}])}));