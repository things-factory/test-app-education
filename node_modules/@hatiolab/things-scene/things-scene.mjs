var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,e){return t(e={exports:{}},e.exports),e.exports}var r=function(t){return t&&t.Math==Math&&t},n=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")(),i=function(t){try{return!!t()}catch(t){return!0}},o=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),a={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,l={f:s&&!a.call({1:2},1)?function(t){var e=s(this,t);return!!e&&e.enumerable}:a},c=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},h={}.toString,u=function(t){return h.call(t).slice(8,-1)},f="".split,d=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==u(t)?f.call(t,""):Object(t)}:Object,p=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},g=function(t){return d(p(t))},v=function(t){return"object"==typeof t?null!==t:"function"==typeof t},y=function(t,e){if(!v(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!v(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!v(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!v(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},m={}.hasOwnProperty,b=function(t,e){return m.call(t,e)},x=n.document,_=v(x)&&v(x.createElement),w=function(t){return _?x.createElement(t):{}},A=!o&&!i((function(){return 7!=Object.defineProperty(w("div"),"a",{get:function(){return 7}}).a})),S=Object.getOwnPropertyDescriptor,E={f:o?S:function(t,e){if(t=g(t),e=y(e,!0),A)try{return S(t,e)}catch(t){}if(b(t,e))return c(!l.f.call(t,e),t[e])}},M=function(t){if(!v(t))throw TypeError(String(t)+" is not an object");return t},k=Object.defineProperty,T={f:o?k:function(t,e,r){if(M(t),e=y(e,!0),M(r),A)try{return k(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},P=o?function(t,e,r){return T.f(t,e,c(1,r))}:function(t,e,r){return t[e]=r,t},I=function(t,e){try{P(n,t,e)}catch(r){n[t]=e}return e},O=n["__core-js_shared__"]||I("__core-js_shared__",{}),j=Function.toString;"function"!=typeof O.inspectSource&&(O.inspectSource=function(t){return j.call(t)});var R,C,L,F=O.inspectSource,B=n.WeakMap,N="function"==typeof B&&/native code/.test(F(B)),D=e((function(t){(t.exports=function(t,e){return O[t]||(O[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),U=0,z=Math.random(),W=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++U+z).toString(36)},Y=D("keys"),G=function(t){return Y[t]||(Y[t]=W(t))},H={},q=n.WeakMap;if(N){var X=new q,V=X.get,K=X.has,Q=X.set;R=function(t,e){return Q.call(X,t,e),e},C=function(t){return V.call(X,t)||{}},L=function(t){return K.call(X,t)}}else{var J=G("state");H[J]=!0,R=function(t,e){return P(t,J,e),e},C=function(t){return b(t,J)?t[J]:{}},L=function(t){return b(t,J)}}var Z,$={set:R,get:C,has:L,enforce:function(t){return L(t)?C(t):R(t,{})},getterFor:function(t){return function(e){var r;if(!v(e)||(r=C(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},tt=e((function(t){var e=$.get,r=$.enforce,i=String(String).split("String");(t.exports=function(t,e,o,a){var s=!!a&&!!a.unsafe,l=!!a&&!!a.enumerable,c=!!a&&!!a.noTargetGet;"function"==typeof o&&("string"!=typeof e||b(o,"name")||P(o,"name",e),r(o).source=i.join("string"==typeof e?e:"")),t!==n?(s?!c&&t[e]&&(l=!0):delete t[e],l?t[e]=o:P(t,e,o)):l?t[e]=o:I(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||F(this)}))})),et=n,rt=function(t){return"function"==typeof t?t:void 0},nt=function(t,e){return arguments.length<2?rt(et[t])||rt(n[t]):et[t]&&et[t][e]||n[t]&&n[t][e]},it=Math.ceil,ot=Math.floor,at=function(t){return isNaN(t=+t)?0:(t>0?ot:it)(t)},st=Math.min,lt=function(t){return t>0?st(at(t),9007199254740991):0},ct=Math.max,ht=Math.min,ut=function(t,e){var r=at(t);return r<0?ct(r+e,0):ht(r,e)},ft=function(t){return function(e,r,n){var i,o=g(e),a=lt(o.length),s=ut(n,a);if(t&&r!=r){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===r)return t||s||0;return!t&&-1}},dt={includes:ft(!0),indexOf:ft(!1)},pt=dt.indexOf,gt=function(t,e){var r,n=g(t),i=0,o=[];for(r in n)!b(H,r)&&b(n,r)&&o.push(r);for(;e.length>i;)b(n,r=e[i++])&&(~pt(o,r)||o.push(r));return o},vt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],yt=vt.concat("length","prototype"),mt={f:Object.getOwnPropertyNames||function(t){return gt(t,yt)}},bt={f:Object.getOwnPropertySymbols},xt=nt("Reflect","ownKeys")||function(t){var e=mt.f(M(t)),r=bt.f;return r?e.concat(r(t)):e},_t=function(t,e){for(var r=xt(e),n=T.f,i=E.f,o=0;o<r.length;o++){var a=r[o];b(t,a)||n(t,a,i(e,a))}},wt=/#|\.prototype\./,At=function(t,e){var r=Et[St(t)];return r==kt||r!=Mt&&("function"==typeof e?i(e):!!e)},St=At.normalize=function(t){return String(t).replace(wt,".").toLowerCase()},Et=At.data={},Mt=At.NATIVE="N",kt=At.POLYFILL="P",Tt=At,Pt=E.f,It=function(t,e){var r,i,o,a,s,l=t.target,c=t.global,h=t.stat;if(r=c?n:h?n[l]||I(l,{}):(n[l]||{}).prototype)for(i in e){if(a=e[i],o=t.noTargetGet?(s=Pt(r,i))&&s.value:r[i],!Tt(c?i:l+(h?".":"#")+i,t.forced)&&void 0!==o){if(typeof a==typeof o)continue;_t(a,o)}(t.sham||o&&o.sham)&&P(a,"sham",!0),tt(r,i,a,t)}},Ot=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())})),jt=Ot&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Rt=Array.isArray||function(t){return"Array"==u(t)},Ct=function(t){return Object(p(t))},Lt=Object.keys||function(t){return gt(t,vt)},Ft=o?Object.defineProperties:function(t,e){M(t);for(var r,n=Lt(e),i=n.length,o=0;i>o;)T.f(t,r=n[o++],e[r]);return t},Bt=nt("document","documentElement"),Nt=G("IE_PROTO"),Dt=function(){},Ut=function(t){return"<script>"+t+"<\/script>"},zt=function(){try{Z=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;zt=Z?function(t){t.write(Ut("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Z):((e=w("iframe")).style.display="none",Bt.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Ut("document.F=Object")),t.close(),t.F);for(var r=vt.length;r--;)delete zt.prototype[vt[r]];return zt()};H[Nt]=!0;var Wt=Object.create||function(t,e){var r;return null!==t?(Dt.prototype=M(t),r=new Dt,Dt.prototype=null,r[Nt]=t):r=zt(),void 0===e?r:Ft(r,e)},Yt=mt.f,Gt={}.toString,Ht="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],qt={f:function(t){return Ht&&"[object Window]"==Gt.call(t)?function(t){try{return Yt(t)}catch(t){return Ht.slice()}}(t):Yt(g(t))}},Xt=D("wks"),Vt=n.Symbol,Kt=jt?Vt:Vt&&Vt.withoutSetter||W,Qt=function(t){return b(Xt,t)||(Ot&&b(Vt,t)?Xt[t]=Vt[t]:Xt[t]=Kt("Symbol."+t)),Xt[t]},Jt={f:Qt},Zt=T.f,$t=function(t){var e=et.Symbol||(et.Symbol={});b(e,t)||Zt(e,t,{value:Jt.f(t)})},te=T.f,ee=Qt("toStringTag"),re=function(t,e,r){t&&!b(t=r?t:t.prototype,ee)&&te(t,ee,{configurable:!0,value:e})},ne=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},ie=function(t,e,r){if(ne(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}},oe=Qt("species"),ae=function(t,e){var r;return Rt(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!Rt(r.prototype)?v(r)&&null===(r=r[oe])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)},se=[].push,le=function(t){var e=1==t,r=2==t,n=3==t,i=4==t,o=6==t,a=5==t||o;return function(s,l,c,h){for(var u,f,p=Ct(s),g=d(p),v=ie(l,c,3),y=lt(g.length),m=0,b=h||ae,x=e?b(s,y):r?b(s,0):void 0;y>m;m++)if((a||m in g)&&(f=v(u=g[m],m,p),t))if(e)x[m]=f;else if(f)switch(t){case 3:return!0;case 5:return u;case 6:return m;case 2:se.call(x,u)}else if(i)return!1;return o?-1:n||i?i:x}},ce={forEach:le(0),map:le(1),filter:le(2),some:le(3),every:le(4),find:le(5),findIndex:le(6)},he=ce.forEach,ue=G("hidden"),fe=Qt("toPrimitive"),de=$.set,pe=$.getterFor("Symbol"),ge=Object.prototype,ve=n.Symbol,ye=nt("JSON","stringify"),me=E.f,be=T.f,xe=qt.f,_e=l.f,we=D("symbols"),Ae=D("op-symbols"),Se=D("string-to-symbol-registry"),Ee=D("symbol-to-string-registry"),Me=D("wks"),ke=n.QObject,Te=!ke||!ke.prototype||!ke.prototype.findChild,Pe=o&&i((function(){return 7!=Wt(be({},"a",{get:function(){return be(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=me(ge,e);n&&delete ge[e],be(t,e,r),n&&t!==ge&&be(ge,e,n)}:be,Ie=function(t,e){var r=we[t]=Wt(ve.prototype);return de(r,{type:"Symbol",tag:t,description:e}),o||(r.description=e),r},Oe=jt?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof ve},je=function(t,e,r){t===ge&&je(Ae,e,r),M(t);var n=y(e,!0);return M(r),b(we,n)?(r.enumerable?(b(t,ue)&&t[ue][n]&&(t[ue][n]=!1),r=Wt(r,{enumerable:c(0,!1)})):(b(t,ue)||be(t,ue,c(1,{})),t[ue][n]=!0),Pe(t,n,r)):be(t,n,r)},Re=function(t,e){M(t);var r=g(e),n=Lt(r).concat(Be(r));return he(n,(function(e){o&&!Ce.call(r,e)||je(t,e,r[e])})),t},Ce=function(t){var e=y(t,!0),r=_e.call(this,e);return!(this===ge&&b(we,e)&&!b(Ae,e))&&(!(r||!b(this,e)||!b(we,e)||b(this,ue)&&this[ue][e])||r)},Le=function(t,e){var r=g(t),n=y(e,!0);if(r!==ge||!b(we,n)||b(Ae,n)){var i=me(r,n);return!i||!b(we,n)||b(r,ue)&&r[ue][n]||(i.enumerable=!0),i}},Fe=function(t){var e=xe(g(t)),r=[];return he(e,(function(t){b(we,t)||b(H,t)||r.push(t)})),r},Be=function(t){var e=t===ge,r=xe(e?Ae:g(t)),n=[];return he(r,(function(t){!b(we,t)||e&&!b(ge,t)||n.push(we[t])})),n};if(Ot||(tt((ve=function(){if(this instanceof ve)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=W(t),r=function(t){this===ge&&r.call(Ae,t),b(this,ue)&&b(this[ue],e)&&(this[ue][e]=!1),Pe(this,e,c(1,t))};return o&&Te&&Pe(ge,e,{configurable:!0,set:r}),Ie(e,t)}).prototype,"toString",(function(){return pe(this).tag})),tt(ve,"withoutSetter",(function(t){return Ie(W(t),t)})),l.f=Ce,T.f=je,E.f=Le,mt.f=qt.f=Fe,bt.f=Be,Jt.f=function(t){return Ie(Qt(t),t)},o&&(be(ve.prototype,"description",{configurable:!0,get:function(){return pe(this).description}}),tt(ge,"propertyIsEnumerable",Ce,{unsafe:!0}))),It({global:!0,wrap:!0,forced:!Ot,sham:!Ot},{Symbol:ve}),he(Lt(Me),(function(t){$t(t)})),It({target:"Symbol",stat:!0,forced:!Ot},{for:function(t){var e=String(t);if(b(Se,e))return Se[e];var r=ve(e);return Se[e]=r,Ee[r]=e,r},keyFor:function(t){if(!Oe(t))throw TypeError(t+" is not a symbol");if(b(Ee,t))return Ee[t]},useSetter:function(){Te=!0},useSimple:function(){Te=!1}}),It({target:"Object",stat:!0,forced:!Ot,sham:!o},{create:function(t,e){return void 0===e?Wt(t):Re(Wt(t),e)},defineProperty:je,defineProperties:Re,getOwnPropertyDescriptor:Le}),It({target:"Object",stat:!0,forced:!Ot},{getOwnPropertyNames:Fe,getOwnPropertySymbols:Be}),It({target:"Object",stat:!0,forced:i((function(){bt.f(1)}))},{getOwnPropertySymbols:function(t){return bt.f(Ct(t))}}),ye){var Ne=!Ot||i((function(){var t=ve();return"[null]"!=ye([t])||"{}"!=ye({a:t})||"{}"!=ye(Object(t))}));It({target:"JSON",stat:!0,forced:Ne},{stringify:function(t,e,r){for(var n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=e,(v(e)||void 0!==t)&&!Oe(t))return Rt(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Oe(e))return e}),i[1]=e,ye.apply(null,i)}})}ve.prototype[fe]||P(ve.prototype,fe,ve.prototype.valueOf),re(ve,"Symbol"),H[ue]=!0,$t("asyncIterator");var De=T.f,Ue=n.Symbol;if(o&&"function"==typeof Ue&&(!("description"in Ue.prototype)||void 0!==Ue().description)){var ze={},We=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof We?new Ue(t):void 0===t?Ue():Ue(t);return""===t&&(ze[e]=!0),e};_t(We,Ue);var Ye=We.prototype=Ue.prototype;Ye.constructor=We;var Ge=Ye.toString,He="Symbol(test)"==String(Ue("test")),qe=/^Symbol\((.*)\)[^)]+$/;De(Ye,"description",{configurable:!0,get:function(){var t=v(this)?this.valueOf():this,e=Ge.call(t);if(b(ze,t))return"";var r=He?e.slice(7,-1):e.replace(qe,"$1");return""===r?void 0:r}}),It({global:!0,forced:!0},{Symbol:We})}$t("hasInstance"),$t("isConcatSpreadable"),$t("iterator"),$t("match"),$t("matchAll"),$t("replace"),$t("search"),$t("species"),$t("split"),$t("toPrimitive"),$t("toStringTag"),$t("unscopables");var Xe=Object.assign,Ve=Object.defineProperty,Ke=!Xe||i((function(){if(o&&1!==Xe({b:1},Xe(Ve({},"a",{enumerable:!0,get:function(){Ve(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol();return t[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=Xe({},t)[r]||"abcdefghijklmnopqrst"!=Lt(Xe({},e)).join("")}))?function(t,e){for(var r=Ct(t),n=arguments.length,i=1,a=bt.f,s=l.f;n>i;)for(var c,h=d(arguments[i++]),u=a?Lt(h).concat(a(h)):Lt(h),f=u.length,p=0;f>p;)c=u[p++],o&&!s.call(h,c)||(r[c]=h[c]);return r}:Xe;It({target:"Object",stat:!0,forced:Object.assign!==Ke},{assign:Ke}),It({target:"Object",stat:!0,sham:!o},{create:Wt}),It({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperty:T.f}),It({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperties:Ft});var Qe=l.f,Je=function(t){return function(e){for(var r,n=g(e),i=Lt(n),a=i.length,s=0,l=[];a>s;)r=i[s++],o&&!Qe.call(n,r)||l.push(t?[r,n[r]]:n[r]);return l}},Ze={entries:Je(!0),values:Je(!1)},$e=Ze.entries;It({target:"Object",stat:!0},{entries:function(t){return $e(t)}});var tr=!i((function(){return Object.isExtensible(Object.preventExtensions({}))})),er=e((function(t){var e=T.f,r=W("meta"),n=0,i=Object.isExtensible||function(){return!0},o=function(t){e(t,r,{value:{objectID:"O"+ ++n,weakData:{}}})},a=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!v(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!b(t,r)){if(!i(t))return"F";if(!e)return"E";o(t)}return t[r].objectID},getWeakData:function(t,e){if(!b(t,r)){if(!i(t))return!0;if(!e)return!1;o(t)}return t[r].weakData},onFreeze:function(t){return tr&&a.REQUIRED&&i(t)&&!b(t,r)&&o(t),t}};H[r]=!0})),rr=(er.REQUIRED,er.fastKey,er.getWeakData,er.onFreeze,er.onFreeze),nr=Object.freeze,ir=i((function(){nr(1)}));It({target:"Object",stat:!0,forced:ir,sham:!tr},{freeze:function(t){return nr&&v(t)?nr(rr(t)):t}});var or={},ar=Qt("iterator"),sr=Array.prototype,lr=function(t){return void 0!==t&&(or.Array===t||sr[ar]===t)},cr={};cr[Qt("toStringTag")]="z";var hr="[object z]"===String(cr),ur=Qt("toStringTag"),fr="Arguments"==u(function(){return arguments}()),dr=hr?u:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),ur))?r:fr?u(e):"Object"==(n=u(e))&&"function"==typeof e.callee?"Arguments":n},pr=Qt("iterator"),gr=function(t){if(null!=t)return t[pr]||t["@@iterator"]||or[dr(t)]},vr=function(t,e,r,n){try{return n?e(M(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&M(i.call(t)),e}},yr=e((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,r,n,i,o){var a,s,l,c,h,u,f,d=ie(r,n,i?2:1);if(o)a=t;else{if("function"!=typeof(s=gr(t)))throw TypeError("Target is not iterable");if(lr(s)){for(l=0,c=lt(t.length);c>l;l++)if((h=i?d(M(f=t[l])[0],f[1]):d(t[l]))&&h instanceof e)return h;return new e(!1)}a=s.call(t)}for(u=a.next;!(f=u.call(a)).done;)if("object"==typeof(h=vr(a,d,f.value,i))&&h&&h instanceof e)return h;return new e(!1)}).stop=function(t){return new e(!0,t)}})),mr=function(t,e,r){var n=y(e);n in t?T.f(t,n,c(0,r)):t[n]=r};It({target:"Object",stat:!0},{fromEntries:function(t){var e={};return yr(t,(function(t,r){mr(e,t,r)}),void 0,!0),e}});var br=E.f,xr=i((function(){br(1)}));It({target:"Object",stat:!0,forced:!o||xr,sham:!o},{getOwnPropertyDescriptor:function(t,e){return br(g(t),e)}}),It({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,r,n=g(t),i=E.f,o=xt(n),a={},s=0;o.length>s;)void 0!==(r=i(n,e=o[s++]))&&mr(a,e,r);return a}});var _r=qt.f,wr=i((function(){return!Object.getOwnPropertyNames(1)}));It({target:"Object",stat:!0,forced:wr},{getOwnPropertyNames:_r});var Ar=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Sr=G("IE_PROTO"),Er=Object.prototype,Mr=Ar?Object.getPrototypeOf:function(t){return t=Ct(t),b(t,Sr)?t[Sr]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Er:null},kr=i((function(){Mr(1)}));It({target:"Object",stat:!0,forced:kr,sham:!Ar},{getPrototypeOf:function(t){return Mr(Ct(t))}});var Tr=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};It({target:"Object",stat:!0},{is:Tr});var Pr=Object.isExtensible,Ir=i((function(){Pr(1)}));It({target:"Object",stat:!0,forced:Ir},{isExtensible:function(t){return!!v(t)&&(!Pr||Pr(t))}});var Or=Object.isFrozen,jr=i((function(){Or(1)}));It({target:"Object",stat:!0,forced:jr},{isFrozen:function(t){return!v(t)||!!Or&&Or(t)}});var Rr=Object.isSealed,Cr=i((function(){Rr(1)}));It({target:"Object",stat:!0,forced:Cr},{isSealed:function(t){return!v(t)||!!Rr&&Rr(t)}});var Lr=i((function(){Lt(1)}));It({target:"Object",stat:!0,forced:Lr},{keys:function(t){return Lt(Ct(t))}});var Fr=er.onFreeze,Br=Object.preventExtensions,Nr=i((function(){Br(1)}));It({target:"Object",stat:!0,forced:Nr,sham:!tr},{preventExtensions:function(t){return Br&&v(t)?Br(Fr(t)):t}});var Dr=er.onFreeze,Ur=Object.seal,zr=i((function(){Ur(1)}));It({target:"Object",stat:!0,forced:zr,sham:!tr},{seal:function(t){return Ur&&v(t)?Ur(Dr(t)):t}});var Wr=function(t){if(!v(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t},Yr=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return M(r),Wr(n),e?t.call(r,n):r.__proto__=n,r}}():void 0);It({target:"Object",stat:!0},{setPrototypeOf:Yr});var Gr=Ze.values;It({target:"Object",stat:!0},{values:function(t){return Gr(t)}});var Hr=hr?{}.toString:function(){return"[object "+dr(this)+"]"};hr||tt(Object.prototype,"toString",Hr,{unsafe:!0});var qr=!i((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete n[t]}));o&&It({target:"Object",proto:!0,forced:qr},{__defineGetter__:function(t,e){T.f(Ct(this),t,{get:ne(e),enumerable:!0,configurable:!0})}}),o&&It({target:"Object",proto:!0,forced:qr},{__defineSetter__:function(t,e){T.f(Ct(this),t,{set:ne(e),enumerable:!0,configurable:!0})}});var Xr=E.f;o&&It({target:"Object",proto:!0,forced:qr},{__lookupGetter__:function(t){var e,r=Ct(this),n=y(t,!0);do{if(e=Xr(r,n))return e.get}while(r=Mr(r))}});var Vr=E.f;o&&It({target:"Object",proto:!0,forced:qr},{__lookupSetter__:function(t){var e,r=Ct(this),n=y(t,!0);do{if(e=Vr(r,n))return e.set}while(r=Mr(r))}});var Kr=[].slice,Qr={},Jr=function(t,e,r){if(!(e in Qr)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";Qr[e]=Function("C,a","return new C("+n.join(",")+")")}return Qr[e](t,r)},Zr=Function.bind||function(t){var e=ne(this),r=Kr.call(arguments,1),n=function(){var i=r.concat(Kr.call(arguments));return this instanceof n?Jr(e,i.length,i):e.apply(t,i)};return v(e.prototype)&&(n.prototype=e.prototype),n};It({target:"Function",proto:!0},{bind:Zr});var $r=T.f,tn=Function.prototype,en=tn.toString,rn=/^\s*function ([^ (]*)/;o&&!("name"in tn)&&$r(tn,"name",{configurable:!0,get:function(){try{return en.call(this).match(rn)[1]}catch(t){return""}}});var nn=Qt("hasInstance"),on=Function.prototype;nn in on||T.f(on,nn,{value:function(t){if("function"!=typeof this||!v(t))return!1;if(!v(this.prototype))return t instanceof this;for(;t=Mr(t);)if(this.prototype===t)return!0;return!1}}),It({global:!0},{globalThis:n});var an=function(t){var e,r,n,i,o,a,s=Ct(t),l="function"==typeof this?this:Array,c=arguments.length,h=c>1?arguments[1]:void 0,u=void 0!==h,f=gr(s),d=0;if(u&&(h=ie(h,c>2?arguments[2]:void 0,2)),null==f||l==Array&&lr(f))for(r=new l(e=lt(s.length));e>d;d++)a=u?h(s[d],d):s[d],mr(r,d,a);else for(o=(i=f.call(s)).next,r=new l;!(n=o.call(i)).done;d++)a=u?vr(i,h,[n.value,d],!0):n.value,mr(r,d,a);return r.length=d,r},sn=Qt("iterator"),ln=!1;try{var cn=0,hn={next:function(){return{done:!!cn++}},return:function(){ln=!0}};hn[sn]=function(){return this},Array.from(hn,(function(){throw 2}))}catch(Bb){}var un=function(t,e){if(!e&&!ln)return!1;var r=!1;try{var n={};n[sn]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},fn=!un((function(t){Array.from(t)}));It({target:"Array",stat:!0,forced:fn},{from:an}),It({target:"Array",stat:!0},{isArray:Rt});var dn=i((function(){function t(){}return!(Array.of.call(t)instanceof t)}));It({target:"Array",stat:!0,forced:dn},{of:function(){for(var t=0,e=arguments.length,r=new("function"==typeof this?this:Array)(e);e>t;)mr(r,t,arguments[t++]);return r.length=e,r}});var pn,gn,vn=nt("navigator","userAgent")||"",yn=n.process,mn=yn&&yn.versions,bn=mn&&mn.v8;bn?gn=(pn=bn.split("."))[0]+pn[1]:vn&&(!(pn=vn.match(/Edge\/(\d+)/))||pn[1]>=74)&&(pn=vn.match(/Chrome\/(\d+)/))&&(gn=pn[1]);var xn=gn&&+gn,_n=Qt("species"),wn=function(t){return xn>=51||!i((function(){var e=[];return(e.constructor={})[_n]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},An=Qt("isConcatSpreadable"),Sn=xn>=51||!i((function(){var t=[];return t[An]=!1,t.concat()[0]!==t})),En=wn("concat"),Mn=function(t){if(!v(t))return!1;var e=t[An];return void 0!==e?!!e:Rt(t)};It({target:"Array",proto:!0,forced:!Sn||!En},{concat:function(t){var e,r,n,i,o,a=Ct(this),s=ae(a,0),l=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?a:arguments[e],Mn(o)){if(l+(i=lt(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<i;r++,l++)r in o&&mr(s,l,o[r])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");mr(s,l++,o)}return s.length=l,s}});var kn=Math.min,Tn=[].copyWithin||function(t,e){var r=Ct(this),n=lt(r.length),i=ut(t,n),o=ut(e,n),a=arguments.length>2?arguments[2]:void 0,s=kn((void 0===a?n:ut(a,n))-o,n-i),l=1;for(o<i&&i<o+s&&(l=-1,o+=s-1,i+=s-1);s-- >0;)o in r?r[i]=r[o]:delete r[i],i+=l,o+=l;return r},Pn=Qt("unscopables"),In=Array.prototype;null==In[Pn]&&T.f(In,Pn,{configurable:!0,value:Wt(null)});var On=function(t){In[Pn][t]=!0};It({target:"Array",proto:!0},{copyWithin:Tn}),On("copyWithin");var jn=function(t,e){var r=[][t];return!!r&&i((function(){r.call(null,e||function(){throw 1},1)}))},Rn=Object.defineProperty,Cn={},Ln=function(t){throw t},Fn=function(t,e){if(b(Cn,t))return Cn[t];e||(e={});var r=[][t],n=!!b(e,"ACCESSORS")&&e.ACCESSORS,a=b(e,0)?e[0]:Ln,s=b(e,1)?e[1]:void 0;return Cn[t]=!!r&&!i((function(){if(n&&!o)return!0;var t={length:-1};n?Rn(t,1,{enumerable:!0,get:Ln}):t[1]=1,r.call(t,a,s)}))},Bn=ce.every,Nn=jn("every"),Dn=Fn("every");It({target:"Array",proto:!0,forced:!Nn||!Dn},{every:function(t){return Bn(this,t,arguments.length>1?arguments[1]:void 0)}});var Un=function(t){for(var e=Ct(this),r=lt(e.length),n=arguments.length,i=ut(n>1?arguments[1]:void 0,r),o=n>2?arguments[2]:void 0,a=void 0===o?r:ut(o,r);a>i;)e[i++]=t;return e};It({target:"Array",proto:!0},{fill:Un}),On("fill");var zn=ce.filter,Wn=wn("filter"),Yn=Fn("filter");It({target:"Array",proto:!0,forced:!Wn||!Yn},{filter:function(t){return zn(this,t,arguments.length>1?arguments[1]:void 0)}});var Gn=ce.find,Hn=!0,qn=Fn("find");"find"in[]&&Array(1).find((function(){Hn=!1})),It({target:"Array",proto:!0,forced:Hn||!qn},{find:function(t){return Gn(this,t,arguments.length>1?arguments[1]:void 0)}}),On("find");var Xn=ce.findIndex,Vn=!0,Kn=Fn("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){Vn=!1})),It({target:"Array",proto:!0,forced:Vn||!Kn},{findIndex:function(t){return Xn(this,t,arguments.length>1?arguments[1]:void 0)}}),On("findIndex");var Qn=function(t,e,r,n,i,o,a,s){for(var l,c=i,h=0,u=!!a&&ie(a,s,3);h<n;){if(h in r){if(l=u?u(r[h],h,e):r[h],o>0&&Rt(l))c=Qn(t,e,l,lt(l.length),c,o-1)-1;else{if(c>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[c]=l}c++}h++}return c},Jn=Qn;It({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=Ct(this),r=lt(e.length),n=ae(e,0);return n.length=Jn(n,e,e,r,0,void 0===t?1:at(t)),n}}),It({target:"Array",proto:!0},{flatMap:function(t){var e,r=Ct(this),n=lt(r.length);return ne(t),(e=ae(r,0)).length=Jn(e,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}});var Zn=ce.forEach,$n=jn("forEach"),ti=Fn("forEach"),ei=$n&&ti?[].forEach:function(t){return Zn(this,t,arguments.length>1?arguments[1]:void 0)};It({target:"Array",proto:!0,forced:[].forEach!=ei},{forEach:ei});var ri=dt.includes,ni=Fn("indexOf",{ACCESSORS:!0,1:0});It({target:"Array",proto:!0,forced:!ni},{includes:function(t){return ri(this,t,arguments.length>1?arguments[1]:void 0)}}),On("includes");var ii=dt.indexOf,oi=[].indexOf,ai=!!oi&&1/[1].indexOf(1,-0)<0,si=jn("indexOf"),li=Fn("indexOf",{ACCESSORS:!0,1:0});It({target:"Array",proto:!0,forced:ai||!si||!li},{indexOf:function(t){return ai?oi.apply(this,arguments)||0:ii(this,t,arguments.length>1?arguments[1]:void 0)}});var ci=[].join,hi=d!=Object,ui=jn("join",",");It({target:"Array",proto:!0,forced:hi||!ui},{join:function(t){return ci.call(g(this),void 0===t?",":t)}});var fi=Math.min,di=[].lastIndexOf,pi=!!di&&1/[1].lastIndexOf(1,-0)<0,gi=jn("lastIndexOf"),vi=Fn("indexOf",{ACCESSORS:!0,1:0}),yi=pi||!gi||!vi?function(t){if(pi)return di.apply(this,arguments)||0;var e=g(this),r=lt(e.length),n=r-1;for(arguments.length>1&&(n=fi(n,at(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}:di;It({target:"Array",proto:!0,forced:yi!==[].lastIndexOf},{lastIndexOf:yi});var mi=ce.map,bi=wn("map"),xi=Fn("map");It({target:"Array",proto:!0,forced:!bi||!xi},{map:function(t){return mi(this,t,arguments.length>1?arguments[1]:void 0)}});var _i=function(t){return function(e,r,n,i){ne(r);var o=Ct(e),a=d(o),s=lt(o.length),l=t?s-1:0,c=t?-1:1;if(n<2)for(;;){if(l in a){i=a[l],l+=c;break}if(l+=c,t?l<0:s<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:s>l;l+=c)l in a&&(i=r(i,a[l],l,o));return i}},wi={left:_i(!1),right:_i(!0)},Ai=wi.left,Si=jn("reduce"),Ei=Fn("reduce",{1:0});It({target:"Array",proto:!0,forced:!Si||!Ei},{reduce:function(t){return Ai(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Mi=wi.right,ki=jn("reduceRight"),Ti=Fn("reduce",{1:0});It({target:"Array",proto:!0,forced:!ki||!Ti},{reduceRight:function(t){return Mi(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Pi=[].reverse,Ii=[1,2];It({target:"Array",proto:!0,forced:String(Ii)===String(Ii.reverse())},{reverse:function(){return Rt(this)&&(this.length=this.length),Pi.call(this)}});var Oi=wn("slice"),ji=Fn("slice",{ACCESSORS:!0,0:0,1:2}),Ri=Qt("species"),Ci=[].slice,Li=Math.max;It({target:"Array",proto:!0,forced:!Oi||!ji},{slice:function(t,e){var r,n,i,o=g(this),a=lt(o.length),s=ut(t,a),l=ut(void 0===e?a:e,a);if(Rt(o)&&("function"!=typeof(r=o.constructor)||r!==Array&&!Rt(r.prototype)?v(r)&&null===(r=r[Ri])&&(r=void 0):r=void 0,r===Array||void 0===r))return Ci.call(o,s,l);for(n=new(void 0===r?Array:r)(Li(l-s,0)),i=0;s<l;s++,i++)s in o&&mr(n,i,o[s]);return n.length=i,n}});var Fi=ce.some,Bi=jn("some"),Ni=Fn("some");It({target:"Array",proto:!0,forced:!Bi||!Ni},{some:function(t){return Fi(this,t,arguments.length>1?arguments[1]:void 0)}});var Di=[],Ui=Di.sort,zi=i((function(){Di.sort(void 0)})),Wi=i((function(){Di.sort(null)})),Yi=jn("sort");It({target:"Array",proto:!0,forced:zi||!Wi||!Yi},{sort:function(t){return void 0===t?Ui.call(Ct(this)):Ui.call(Ct(this),ne(t))}});var Gi=wn("splice"),Hi=Fn("splice",{ACCESSORS:!0,0:0,1:2}),qi=Math.max,Xi=Math.min;It({target:"Array",proto:!0,forced:!Gi||!Hi},{splice:function(t,e){var r,n,i,o,a,s,l=Ct(this),c=lt(l.length),h=ut(t,c),u=arguments.length;if(0===u?r=n=0:1===u?(r=0,n=c-h):(r=u-2,n=Xi(qi(at(e),0),c-h)),c+r-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=ae(l,n),o=0;o<n;o++)(a=h+o)in l&&mr(i,o,l[a]);if(i.length=n,r<n){for(o=h;o<c-n;o++)s=o+r,(a=o+n)in l?l[s]=l[a]:delete l[s];for(o=c;o>c-n+r;o--)delete l[o-1]}else if(r>n)for(o=c-n;o>h;o--)s=o+r-1,(a=o+n-1)in l?l[s]=l[a]:delete l[s];for(o=0;o<r;o++)l[o+h]=arguments[o+2];return l.length=c-n+r,i}});var Vi=Qt("species"),Ki=function(t){var e=nt(t),r=T.f;o&&e&&!e[Vi]&&r(e,Vi,{configurable:!0,get:function(){return this}})};Ki("Array"),On("flat"),On("flatMap");var Qi,Ji,Zi,$i=Qt("iterator"),to=!1;[].keys&&("next"in(Zi=[].keys())?(Ji=Mr(Mr(Zi)))!==Object.prototype&&(Qi=Ji):to=!0),null==Qi&&(Qi={}),b(Qi,$i)||P(Qi,$i,(function(){return this}));var eo={IteratorPrototype:Qi,BUGGY_SAFARI_ITERATORS:to},ro=eo.IteratorPrototype,no=function(){return this},io=function(t,e,r){var n=e+" Iterator";return t.prototype=Wt(ro,{next:c(1,r)}),re(t,n,!1),or[n]=no,t},oo=eo.IteratorPrototype,ao=eo.BUGGY_SAFARI_ITERATORS,so=Qt("iterator"),lo=function(){return this},co=function(t,e,r,n,i,o,a){io(r,e,n);var s,l,c,h=function(t){if(t===i&&g)return g;if(!ao&&t in d)return d[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},u=e+" Iterator",f=!1,d=t.prototype,p=d[so]||d["@@iterator"]||i&&d[i],g=!ao&&p||h(i),v="Array"==e&&d.entries||p;if(v&&(s=Mr(v.call(new t)),oo!==Object.prototype&&s.next&&(Mr(s)!==oo&&(Yr?Yr(s,oo):"function"!=typeof s[so]&&P(s,so,lo)),re(s,u,!0))),"values"==i&&p&&"values"!==p.name&&(f=!0,g=function(){return p.call(this)}),d[so]!==g&&P(d,so,g),or[e]=g,i)if(l={values:h("values"),keys:o?g:h("keys"),entries:h("entries")},a)for(c in l)(ao||f||!(c in d))&&tt(d,c,l[c]);else It({target:e,proto:!0,forced:ao||f},l);return l},ho=$.set,uo=$.getterFor("Array Iterator"),fo=co(Array,"Array",(function(t,e){ho(this,{type:"Array Iterator",target:g(t),index:0,kind:e})}),(function(){var t=uo(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");or.Arguments=or.Array,On("keys"),On("values"),On("entries");var po=String.fromCharCode,go=String.fromCodePoint,vo=!!go&&1!=go.length;It({target:"String",stat:!0,forced:vo},{fromCodePoint:function(t){for(var e,r=[],n=arguments.length,i=0;n>i;){if(e=+arguments[i++],ut(e,1114111)!==e)throw RangeError(e+" is not a valid code point");r.push(e<65536?po(e):po(55296+((e-=65536)>>10),e%1024+56320))}return r.join("")}}),It({target:"String",stat:!0},{raw:function(t){for(var e=g(t.raw),r=lt(e.length),n=arguments.length,i=[],o=0;r>o;)i.push(String(e[o++])),o<n&&i.push(String(arguments[o]));return i.join("")}});var yo=function(t){return function(e,r){var n,i,o=String(p(e)),a=at(r),s=o.length;return a<0||a>=s?t?"":void 0:(n=o.charCodeAt(a))<55296||n>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):n:t?o.slice(a,a+2):i-56320+(n-55296<<10)+65536}},mo={codeAt:yo(!1),charAt:yo(!0)},bo=mo.codeAt;It({target:"String",proto:!0},{codePointAt:function(t){return bo(this,t)}});var xo,_o=Qt("match"),wo=function(t){var e;return v(t)&&(void 0!==(e=t[_o])?!!e:"RegExp"==u(t))},Ao=function(t){if(wo(t))throw TypeError("The method doesn't accept regular expressions");return t},So=Qt("match"),Eo=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[So]=!1,"/./"[t](e)}catch(t){}}return!1},Mo=E.f,ko="".endsWith,To=Math.min,Po=Eo("endsWith"),Io=!(Po||(xo=Mo(String.prototype,"endsWith"),!xo||xo.writable));It({target:"String",proto:!0,forced:!Io&&!Po},{endsWith:function(t){var e=String(p(this));Ao(t);var r=arguments.length>1?arguments[1]:void 0,n=lt(e.length),i=void 0===r?n:To(lt(r),n),o=String(t);return ko?ko.call(e,o,i):e.slice(i-o.length,i)===o}}),It({target:"String",proto:!0,forced:!Eo("includes")},{includes:function(t){return!!~String(p(this)).indexOf(Ao(t),arguments.length>1?arguments[1]:void 0)}});var Oo=function(){var t=M(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function jo(t,e){return RegExp(t,e)}var Ro={UNSUPPORTED_Y:i((function(){var t=jo("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:i((function(){var t=jo("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},Co=RegExp.prototype.exec,Lo=String.prototype.replace,Fo=Co,Bo=function(){var t=/a/,e=/b*/g;return Co.call(t,"a"),Co.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),No=Ro.UNSUPPORTED_Y||Ro.BROKEN_CARET,Do=void 0!==/()??/.exec("")[1];(Bo||Do||No)&&(Fo=function(t){var e,r,n,i,o=this,a=No&&o.sticky,s=Oo.call(o),l=o.source,c=0,h=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),h=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(l="(?: "+l+")",h=" "+h,c++),r=new RegExp("^(?:"+l+")",s)),Do&&(r=new RegExp("^"+l+"$(?!\\s)",s)),Bo&&(e=o.lastIndex),n=Co.call(a?r:o,h),a?n?(n.input=n.input.slice(c),n[0]=n[0].slice(c),n.index=o.lastIndex,o.lastIndex+=n[0].length):o.lastIndex=0:Bo&&n&&(o.lastIndex=o.global?n.index+n[0].length:e),Do&&n&&n.length>1&&Lo.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n});var Uo=Fo;It({target:"RegExp",proto:!0,forced:/./.exec!==Uo},{exec:Uo});var zo=Qt("species"),Wo=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),Yo="$0"==="a".replace(/./,"$0"),Go=Qt("replace"),Ho=!!/./[Go]&&""===/./[Go]("a","$0"),qo=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),Xo=function(t,e,r,n){var o=Qt(t),a=!i((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),s=a&&!i((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[zo]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](""),!e}));if(!a||!s||"replace"===t&&(!Wo||!Yo||Ho)||"split"===t&&!qo){var l=/./[o],c=r(o,""[t],(function(t,e,r,n,i){return e.exec===Uo?a&&!i?{done:!0,value:l.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:Yo,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Ho}),h=c[0],u=c[1];tt(String.prototype,t,h),tt(RegExp.prototype,o,2==e?function(t,e){return u.call(t,this,e)}:function(t){return u.call(t,this)})}n&&P(RegExp.prototype[o],"sham",!0)},Vo=mo.charAt,Ko=function(t,e,r){return e+(r?Vo(t,e).length:1)},Qo=function(t,e){var r=t.exec;if("function"==typeof r){var n=r.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==u(t))throw TypeError("RegExp#exec called on incompatible receiver");return Uo.call(t,e)};Xo("match",1,(function(t,e,r){return[function(e){var r=p(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,t,this);if(n.done)return n.value;var i=M(t),o=String(this);if(!i.global)return Qo(i,o);var a=i.unicode;i.lastIndex=0;for(var s,l=[],c=0;null!==(s=Qo(i,o));){var h=String(s[0]);l[c]=h,""===h&&(i.lastIndex=Ko(o,lt(i.lastIndex),a)),c++}return 0===c?null:l}]}));var Jo=Qt("species"),Zo=function(t,e){var r,n=M(t).constructor;return void 0===n||null==(r=M(n)[Jo])?e:ne(r)},$o=Qt("matchAll"),ta=$.set,ea=$.getterFor("RegExp String Iterator"),ra=RegExp.prototype,na=ra.exec,ia="".matchAll,oa=!!ia&&!i((function(){"a".matchAll(/./)})),aa=io((function(t,e,r,n){ta(this,{type:"RegExp String Iterator",regexp:t,string:e,global:r,unicode:n,done:!1})}),"RegExp String",(function(){var t=ea(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,r=t.string,n=function(t,e){var r,n=t.exec;if("function"==typeof n){if("object"!=typeof(r=n.call(t,e)))throw TypeError("Incorrect exec result");return r}return na.call(t,e)}(e,r);return null===n?{value:void 0,done:t.done=!0}:t.global?(""==String(n[0])&&(e.lastIndex=Ko(r,lt(e.lastIndex),t.unicode)),{value:n,done:!1}):(t.done=!0,{value:n,done:!1})})),sa=function(t){var e,r,n,i,o,a,s=M(this),l=String(t);return e=Zo(s,RegExp),void 0===(r=s.flags)&&s instanceof RegExp&&!("flags"in ra)&&(r=Oo.call(s)),n=void 0===r?"":String(r),i=new e(e===RegExp?s.source:s,n),o=!!~n.indexOf("g"),a=!!~n.indexOf("u"),i.lastIndex=lt(s.lastIndex),new aa(i,l,o,a)};It({target:"String",proto:!0,forced:oa},{matchAll:function(t){var e,r,n=p(this);if(null!=t){if(wo(t)&&!~String(p("flags"in ra?t.flags:Oo.call(t))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(oa)return ia.apply(n,arguments);if(null!=(r=t[$o]))return ne(r).call(t,n)}else if(oa)return ia.apply(n,arguments);return e=String(n),new RegExp(t,"g")[$o](e)}}),$o in ra||P(ra,$o,sa);var la="".repeat||function(t){var e=String(p(this)),r="",n=at(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(r+=e);return r},ca=Math.ceil,ha=function(t){return function(e,r,n){var i,o,a=String(p(e)),s=a.length,l=void 0===n?" ":String(n),c=lt(r);return c<=s||""==l?a:(i=c-s,(o=la.call(l,ca(i/l.length))).length>i&&(o=o.slice(0,i)),t?a+o:o+a)}},ua={start:ha(!1),end:ha(!0)},fa=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(vn),da=ua.end;It({target:"String",proto:!0,forced:fa},{padEnd:function(t){return da(this,t,arguments.length>1?arguments[1]:void 0)}});var pa=ua.start;It({target:"String",proto:!0,forced:fa},{padStart:function(t){return pa(this,t,arguments.length>1?arguments[1]:void 0)}}),It({target:"String",proto:!0},{repeat:la});var ga=Math.max,va=Math.min,ya=Math.floor,ma=/\$([$&'`]|\d\d?|<[^>]*>)/g,ba=/\$([$&'`]|\d\d?)/g;Xo("replace",2,(function(t,e,r,n){var i=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=n.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(r,n){var i=p(this),o=null==r?void 0:r[t];return void 0!==o?o.call(r,i,n):e.call(String(i),r,n)},function(t,n){if(!i&&o||"string"==typeof n&&-1===n.indexOf(a)){var l=r(e,t,this,n);if(l.done)return l.value}var c=M(t),h=String(this),u="function"==typeof n;u||(n=String(n));var f=c.global;if(f){var d=c.unicode;c.lastIndex=0}for(var p=[];;){var g=Qo(c,h);if(null===g)break;if(p.push(g),!f)break;""===String(g[0])&&(c.lastIndex=Ko(h,lt(c.lastIndex),d))}for(var v,y="",m=0,b=0;b<p.length;b++){g=p[b];for(var x=String(g[0]),_=ga(va(at(g.index),h.length),0),w=[],A=1;A<g.length;A++)w.push(void 0===(v=g[A])?v:String(v));var S=g.groups;if(u){var E=[x].concat(w,_,h);void 0!==S&&E.push(S);var k=String(n.apply(void 0,E))}else k=s(x,h,_,w,S,n);_>=m&&(y+=h.slice(m,_)+k,m=_+x.length)}return y+h.slice(m)}];function s(t,r,n,i,o,a){var s=n+t.length,l=i.length,c=ba;return void 0!==o&&(o=Ct(o),c=ma),e.call(a,c,(function(e,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,n);case"'":return r.slice(s);case"<":c=o[a.slice(1,-1)];break;default:var h=+a;if(0===h)return e;if(h>l){var u=ya(h/10);return 0===u?e:u<=l?void 0===i[u-1]?a.charAt(1):i[u-1]+a.charAt(1):e}c=i[h-1]}return void 0===c?"":c}))}})),Xo("search",1,(function(t,e,r){return[function(e){var r=p(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,t,this);if(n.done)return n.value;var i=M(t),o=String(this),a=i.lastIndex;Tr(a,0)||(i.lastIndex=0);var s=Qo(i,o);return Tr(i.lastIndex,a)||(i.lastIndex=a),null===s?-1:s.index}]}));var xa=[].push,_a=Math.min,wa=!i((function(){return!RegExp(4294967295,"y")}));Xo("split",2,(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=String(p(this)),i=void 0===r?4294967295:r>>>0;if(0===i)return[];if(void 0===t)return[n];if(!wo(t))return e.call(n,t,i);for(var o,a,s,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,u=new RegExp(t.source,c+"g");(o=Uo.call(u,n))&&!((a=u.lastIndex)>h&&(l.push(n.slice(h,o.index)),o.length>1&&o.index<n.length&&xa.apply(l,o.slice(1)),s=o[0].length,h=a,l.length>=i));)u.lastIndex===o.index&&u.lastIndex++;return h===n.length?!s&&u.test("")||l.push(""):l.push(n.slice(h)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var i=p(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,r):n.call(String(i),e,r)},function(t,i){var o=r(n,t,this,i,n!==e);if(o.done)return o.value;var a=M(t),s=String(this),l=Zo(a,RegExp),c=a.unicode,h=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(wa?"y":"g"),u=new l(wa?a:"^(?:"+a.source+")",h),f=void 0===i?4294967295:i>>>0;if(0===f)return[];if(0===s.length)return null===Qo(u,s)?[s]:[];for(var d=0,p=0,g=[];p<s.length;){u.lastIndex=wa?p:0;var v,y=Qo(u,wa?s:s.slice(p));if(null===y||(v=_a(lt(u.lastIndex+(wa?0:p)),s.length))===d)p=Ko(s,p,c);else{if(g.push(s.slice(d,p)),g.length===f)return g;for(var m=1;m<=y.length-1;m++)if(g.push(y[m]),g.length===f)return g;p=d=v}}return g.push(s.slice(d)),g}]}),!wa);var Aa=E.f,Sa="".startsWith,Ea=Math.min,Ma=Eo("startsWith"),ka=!Ma&&!!function(){var t=Aa(String.prototype,"startsWith");return t&&!t.writable}();It({target:"String",proto:!0,forced:!ka&&!Ma},{startsWith:function(t){var e=String(p(this));Ao(t);var r=lt(Ea(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return Sa?Sa.call(e,n,r):e.slice(r,r+n.length)===n}});var Ta="\t\n\v\f\r                　\u2028\u2029\ufeff",Pa="["+Ta+"]",Ia=RegExp("^"+Pa+Pa+"*"),Oa=RegExp(Pa+Pa+"*$"),ja=function(t){return function(e){var r=String(p(e));return 1&t&&(r=r.replace(Ia,"")),2&t&&(r=r.replace(Oa,"")),r}},Ra={start:ja(1),end:ja(2),trim:ja(3)},Ca=function(t){return i((function(){return!!Ta[t]()||"​᠎"!="​᠎"[t]()||Ta[t].name!==t}))},La=Ra.trim;It({target:"String",proto:!0,forced:Ca("trim")},{trim:function(){return La(this)}});var Fa=Ra.start,Ba=Ca("trimStart"),Na=Ba?function(){return Fa(this)}:"".trimStart;It({target:"String",proto:!0,forced:Ba},{trimStart:Na,trimLeft:Na});var Da=Ra.end,Ua=Ca("trimEnd"),za=Ua?function(){return Da(this)}:"".trimEnd;It({target:"String",proto:!0,forced:Ua},{trimEnd:za,trimRight:za});var Wa=mo.charAt,Ya=$.set,Ga=$.getterFor("String Iterator");co(String,"String",(function(t){Ya(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=Ga(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=Wa(r,n),e.index+=t.length,{value:t,done:!1})}));var Ha=/"/g,qa=function(t,e,r,n){var i=String(p(t)),o="<"+e;return""!==r&&(o+=" "+r+'="'+String(n).replace(Ha,"&quot;")+'"'),o+">"+i+"</"+e+">"},Xa=function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))};It({target:"String",proto:!0,forced:Xa("anchor")},{anchor:function(t){return qa(this,"a","name",t)}}),It({target:"String",proto:!0,forced:Xa("big")},{big:function(){return qa(this,"big","","")}}),It({target:"String",proto:!0,forced:Xa("blink")},{blink:function(){return qa(this,"blink","","")}}),It({target:"String",proto:!0,forced:Xa("bold")},{bold:function(){return qa(this,"b","","")}}),It({target:"String",proto:!0,forced:Xa("fixed")},{fixed:function(){return qa(this,"tt","","")}}),It({target:"String",proto:!0,forced:Xa("fontcolor")},{fontcolor:function(t){return qa(this,"font","color",t)}}),It({target:"String",proto:!0,forced:Xa("fontsize")},{fontsize:function(t){return qa(this,"font","size",t)}}),It({target:"String",proto:!0,forced:Xa("italics")},{italics:function(){return qa(this,"i","","")}}),It({target:"String",proto:!0,forced:Xa("link")},{link:function(t){return qa(this,"a","href",t)}}),It({target:"String",proto:!0,forced:Xa("small")},{small:function(){return qa(this,"small","","")}}),It({target:"String",proto:!0,forced:Xa("strike")},{strike:function(){return qa(this,"strike","","")}}),It({target:"String",proto:!0,forced:Xa("sub")},{sub:function(){return qa(this,"sub","","")}}),It({target:"String",proto:!0,forced:Xa("sup")},{sup:function(){return qa(this,"sup","","")}});var Va=function(t,e,r){var n,i;return Yr&&"function"==typeof(n=e.constructor)&&n!==r&&v(i=n.prototype)&&i!==r.prototype&&Yr(t,i),t},Ka=T.f,Qa=mt.f,Ja=$.set,Za=Qt("match"),$a=n.RegExp,ts=$a.prototype,es=/a/g,rs=/a/g,ns=new $a(es)!==es,is=Ro.UNSUPPORTED_Y;if(o&&Tt("RegExp",!ns||is||i((function(){return rs[Za]=!1,$a(es)!=es||$a(rs)==rs||"/a/i"!=$a(es,"i")})))){for(var os=function(t,e){var r,n=this instanceof os,i=wo(t),o=void 0===e;if(!n&&i&&t.constructor===os&&o)return t;ns?i&&!o&&(t=t.source):t instanceof os&&(o&&(e=Oo.call(t)),t=t.source),is&&(r=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var a=Va(ns?new $a(t,e):$a(t,e),n?this:ts,os);return is&&r&&Ja(a,{sticky:r}),a},as=function(t){t in os||Ka(os,t,{configurable:!0,get:function(){return $a[t]},set:function(e){$a[t]=e}})},ss=Qa($a),ls=0;ss.length>ls;)as(ss[ls++]);ts.constructor=os,os.prototype=ts,tt(n,"RegExp",os)}Ki("RegExp"),o&&("g"!=/./g.flags||Ro.UNSUPPORTED_Y)&&T.f(RegExp.prototype,"flags",{configurable:!0,get:Oo});var cs=Ro.UNSUPPORTED_Y,hs=T.f,us=$.get,fs=RegExp.prototype;o&&cs&&hs(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==fs){if(this instanceof RegExp)return!!us(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}});var ds=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),ps=/./.test;It({target:"RegExp",proto:!0,forced:!ds},{test:function(t){if("function"!=typeof this.exec)return ps.call(this,t);var e=this.exec(t);if(null!==e&&!v(e))throw new Error("RegExp exec method returned something other than an Object or null");return!!e}});var gs=RegExp.prototype,vs=gs.toString,ys=i((function(){return"/a/b"!=vs.call({source:"a",flags:"b"})})),ms="toString"!=vs.name;(ys||ms)&&tt(RegExp.prototype,"toString",(function(){var t=M(this),e=String(t.source),r=t.flags;return"/"+e+"/"+String(void 0===r&&t instanceof RegExp&&!("flags"in gs)?Oo.call(t):r)}),{unsafe:!0});var bs=Ra.trim,xs=n.parseInt,_s=/^[+-]?0[Xx]/,ws=8!==xs(Ta+"08")||22!==xs(Ta+"0x16")?function(t,e){var r=bs(String(t));return xs(r,e>>>0||(_s.test(r)?16:10))}:xs;It({global:!0,forced:parseInt!=ws},{parseInt:ws});var As=Ra.trim,Ss=n.parseFloat,Es=1/Ss(Ta+"-0")!=-1/0?function(t){var e=As(String(t)),r=Ss(e);return 0===r&&"-"==e.charAt(0)?-0:r}:Ss;It({global:!0,forced:parseFloat!=Es},{parseFloat:Es});var Ms=mt.f,ks=E.f,Ts=T.f,Ps=Ra.trim,Is=n.Number,Os=Is.prototype,js="Number"==u(Wt(Os)),Rs=function(t){var e,r,n,i,o,a,s,l,c=y(t,!1);if("string"==typeof c&&c.length>2)if(43===(e=(c=Ps(c)).charCodeAt(0))||45===e){if(88===(r=c.charCodeAt(2))||120===r)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+c}for(a=(o=c.slice(2)).length,s=0;s<a;s++)if((l=o.charCodeAt(s))<48||l>i)return NaN;return parseInt(o,n)}return+c};if(Tt("Number",!Is(" 0o1")||!Is("0b1")||Is("+0x1"))){for(var Cs,Ls=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof Ls&&(js?i((function(){Os.valueOf.call(r)})):"Number"!=u(r))?Va(new Is(Rs(e)),r,Ls):Rs(e)},Fs=o?Ms(Is):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Bs=0;Fs.length>Bs;Bs++)b(Is,Cs=Fs[Bs])&&!b(Ls,Cs)&&Ts(Ls,Cs,ks(Is,Cs));Ls.prototype=Os,Os.constructor=Ls,tt(n,"Number",Ls)}It({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)});var Ns=n.isFinite,Ds=Number.isFinite||function(t){return"number"==typeof t&&Ns(t)};It({target:"Number",stat:!0},{isFinite:Ds});var Us=Math.floor,zs=function(t){return!v(t)&&isFinite(t)&&Us(t)===t};It({target:"Number",stat:!0},{isInteger:zs}),It({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var Ws=Math.abs;It({target:"Number",stat:!0},{isSafeInteger:function(t){return zs(t)&&Ws(t)<=9007199254740991}}),It({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),It({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991}),It({target:"Number",stat:!0,forced:Number.parseFloat!=Es},{parseFloat:Es}),It({target:"Number",stat:!0,forced:Number.parseInt!=ws},{parseInt:ws});var Ys=function(t){if("number"!=typeof t&&"Number"!=u(t))throw TypeError("Incorrect invocation");return+t},Gs=1..toFixed,Hs=Math.floor,qs=function(t,e,r){return 0===e?r:e%2==1?qs(t,e-1,r*t):qs(t*t,e/2,r)},Xs=Gs&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i((function(){Gs.call({})}));It({target:"Number",proto:!0,forced:Xs},{toFixed:function(t){var e,r,n,i,o=Ys(this),a=at(t),s=[0,0,0,0,0,0],l="",c="0",h=function(t,e){for(var r=-1,n=e;++r<6;)n+=t*s[r],s[r]=n%1e7,n=Hs(n/1e7)},u=function(t){for(var e=6,r=0;--e>=0;)r+=s[e],s[e]=Hs(r/t),r=r%t*1e7},f=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==s[t]){var r=String(s[t]);e=""===e?r:e+la.call("0",7-r.length)+r}return e};if(a<0||a>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(l="-",o=-o),o>1e-21)if(r=(e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}(o*qs(2,69,1))-69)<0?o*qs(2,-e,1):o/qs(2,e,1),r*=4503599627370496,(e=52-e)>0){for(h(0,r),n=a;n>=7;)h(1e7,0),n-=7;for(h(qs(10,n,1),0),n=e-1;n>=23;)u(1<<23),n-=23;u(1<<n),h(1,1),u(2),c=f()}else h(0,r),h(1<<-e,0),c=f()+la.call("0",a);return c=a>0?l+((i=c.length)<=a?"0."+la.call("0",a-i)+c:c.slice(0,i-a)+"."+c.slice(i-a)):l+c}});var Vs=1..toPrecision,Ks=i((function(){return"1"!==Vs.call(1,void 0)}))||!i((function(){Vs.call({})}));It({target:"Number",proto:!0,forced:Ks},{toPrecision:function(t){return void 0===t?Vs.call(Ys(this)):Vs.call(Ys(this),t)}});var Qs=Math.log,Js=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Qs(1+t)},Zs=Math.acosh,$s=Math.log,tl=Math.sqrt,el=Math.LN2,rl=!Zs||710!=Math.floor(Zs(Number.MAX_VALUE))||Zs(1/0)!=1/0;It({target:"Math",stat:!0,forced:rl},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?$s(t)+el:Js(t-1+tl(t-1)*tl(t+1))}});var nl=Math.asinh,il=Math.log,ol=Math.sqrt;It({target:"Math",stat:!0,forced:!(nl&&1/nl(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):il(e+ol(e*e+1)):e}});var al=Math.atanh,sl=Math.log;It({target:"Math",stat:!0,forced:!(al&&1/al(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:sl((1+t)/(1-t))/2}});var ll=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1},cl=Math.abs,hl=Math.pow;It({target:"Math",stat:!0},{cbrt:function(t){return ll(t=+t)*hl(cl(t),1/3)}});var ul=Math.floor,fl=Math.log,dl=Math.LOG2E;It({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-ul(fl(t+.5)*dl):32}});var pl=Math.expm1,gl=Math.exp,vl=!pl||pl(10)>22025.465794806718||pl(10)<22025.465794806718||-2e-17!=pl(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:gl(t)-1}:pl,yl=Math.cosh,ml=Math.abs,bl=Math.E;It({target:"Math",stat:!0,forced:!yl||yl(710)===1/0},{cosh:function(t){var e=vl(ml(t)-1)+1;return(e+1/(e*bl*bl))*(bl/2)}}),It({target:"Math",stat:!0,forced:vl!=Math.expm1},{expm1:vl});var xl=Math.abs,_l=Math.pow,wl=_l(2,-52),Al=_l(2,-23),Sl=_l(2,127)*(2-Al),El=_l(2,-126),Ml=Math.fround||function(t){var e,r,n=xl(t),i=ll(t);return n<El?i*(n/El/Al+1/wl-1/wl)*El*Al:(r=(e=(1+Al/wl)*n)-(e-n))>Sl||r!=r?i*(1/0):i*r};It({target:"Math",stat:!0},{fround:Ml});var kl=Math.hypot,Tl=Math.abs,Pl=Math.sqrt,Il=!!kl&&kl(1/0,NaN)!==1/0;It({target:"Math",stat:!0,forced:Il},{hypot:function(t,e){for(var r,n,i=0,o=0,a=arguments.length,s=0;o<a;)s<(r=Tl(arguments[o++]))?(i=i*(n=s/r)*n+1,s=r):i+=r>0?(n=r/s)*n:r;return s===1/0?1/0:s*Pl(i)}});var Ol=Math.imul,jl=i((function(){return-5!=Ol(4294967295,5)||2!=Ol.length}));It({target:"Math",stat:!0,forced:jl},{imul:function(t,e){var r=+t,n=+e,i=65535&r,o=65535&n;return 0|i*o+((65535&r>>>16)*o+i*(65535&n>>>16)<<16>>>0)}});var Rl=Math.log,Cl=Math.LOG10E;It({target:"Math",stat:!0},{log10:function(t){return Rl(t)*Cl}}),It({target:"Math",stat:!0},{log1p:Js});var Ll=Math.log,Fl=Math.LN2;It({target:"Math",stat:!0},{log2:function(t){return Ll(t)/Fl}}),It({target:"Math",stat:!0},{sign:ll});var Bl=Math.abs,Nl=Math.exp,Dl=Math.E,Ul=i((function(){return-2e-17!=Math.sinh(-2e-17)}));It({target:"Math",stat:!0,forced:Ul},{sinh:function(t){return Bl(t=+t)<1?(vl(t)-vl(-t))/2:(Nl(t-1)-Nl(-t-1))*(Dl/2)}});var zl=Math.exp;It({target:"Math",stat:!0},{tanh:function(t){var e=vl(t=+t),r=vl(-t);return e==1/0?1:r==1/0?-1:(e-r)/(zl(t)+zl(-t))}}),re(Math,"Math",!0);var Wl=Math.ceil,Yl=Math.floor;It({target:"Math",stat:!0},{trunc:function(t){return(t>0?Yl:Wl)(t)}}),It({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var Gl=i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));It({target:"Date",proto:!0,forced:Gl},{toJSON:function(t){var e=Ct(this),r=y(e);return"number"!=typeof r||isFinite(r)?e.toISOString():null}});var Hl=ua.start,ql=Math.abs,Xl=Date.prototype,Vl=Xl.getTime,Kl=Xl.toISOString,Ql=i((function(){return"0385-07-25T07:06:39.999Z"!=Kl.call(new Date(-50000000000001))}))||!i((function(){Kl.call(new Date(NaN))}))?function(){if(!isFinite(Vl.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+Hl(ql(t),r?6:4,0)+"-"+Hl(this.getUTCMonth()+1,2,0)+"-"+Hl(this.getUTCDate(),2,0)+"T"+Hl(this.getUTCHours(),2,0)+":"+Hl(this.getUTCMinutes(),2,0)+":"+Hl(this.getUTCSeconds(),2,0)+"."+Hl(e,3,0)+"Z"}:Kl;It({target:"Date",proto:!0,forced:Date.prototype.toISOString!==Ql},{toISOString:Ql});var Jl=Date.prototype,Zl=Jl.toString,$l=Jl.getTime;new Date(NaN)+""!="Invalid Date"&&tt(Jl,"toString",(function(){var t=$l.call(this);return t==t?Zl.call(this):"Invalid Date"}));var tc=Qt("toPrimitive"),ec=Date.prototype;tc in ec||P(ec,tc,(function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return y(M(this),"number"!==t)}));var rc=nt("JSON","stringify"),nc=/[\uD800-\uDFFF]/g,ic=/^[\uD800-\uDBFF]$/,oc=/^[\uDC00-\uDFFF]$/,ac=function(t,e,r){var n=r.charAt(e-1),i=r.charAt(e+1);return ic.test(t)&&!oc.test(i)||oc.test(t)&&!ic.test(n)?"\\u"+t.charCodeAt(0).toString(16):t},sc=i((function(){return'"\\udf06\\ud834"'!==rc("\udf06\ud834")||'"\\udead"'!==rc("\udead")}));rc&&It({target:"JSON",stat:!0,forced:sc},{stringify:function(t,e,r){var n=rc.apply(null,arguments);return"string"==typeof n?n.replace(nc,ac):n}}),re(n.JSON,"JSON",!0);var lc,cc,hc,uc=n.Promise,fc=function(t,e,r){for(var n in e)tt(t,n,e[n],r);return t},dc=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t},pc=/(iphone|ipod|ipad).*applewebkit/i.test(vn),gc=n.location,vc=n.setImmediate,yc=n.clearImmediate,mc=n.process,bc=n.MessageChannel,xc=n.Dispatch,_c=0,wc={},Ac=function(t){if(wc.hasOwnProperty(t)){var e=wc[t];delete wc[t],e()}},Sc=function(t){return function(){Ac(t)}},Ec=function(t){Ac(t.data)},Mc=function(t){n.postMessage(t+"",gc.protocol+"//"+gc.host)};vc&&yc||(vc=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return wc[++_c]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},lc(_c),_c},yc=function(t){delete wc[t]},"process"==u(mc)?lc=function(t){mc.nextTick(Sc(t))}:xc&&xc.now?lc=function(t){xc.now(Sc(t))}:bc&&!pc?(hc=(cc=new bc).port2,cc.port1.onmessage=Ec,lc=ie(hc.postMessage,hc,1)):!n.addEventListener||"function"!=typeof postMessage||n.importScripts||i(Mc)?lc="onreadystatechange"in w("script")?function(t){Bt.appendChild(w("script")).onreadystatechange=function(){Bt.removeChild(this),Ac(t)}}:function(t){setTimeout(Sc(t),0)}:(lc=Mc,n.addEventListener("message",Ec,!1)));var kc,Tc,Pc,Ic,Oc,jc,Rc,Cc,Lc={set:vc,clear:yc},Fc=E.f,Bc=Lc.set,Nc=n.MutationObserver||n.WebKitMutationObserver,Dc=n.process,Uc=n.Promise,zc="process"==u(Dc),Wc=Fc(n,"queueMicrotask"),Yc=Wc&&Wc.value;Yc||(kc=function(){var t,e;for(zc&&(t=Dc.domain)&&t.exit();Tc;){e=Tc.fn,Tc=Tc.next;try{e()}catch(t){throw Tc?Ic():Pc=void 0,t}}Pc=void 0,t&&t.enter()},zc?Ic=function(){Dc.nextTick(kc)}:Nc&&!pc?(Oc=!0,jc=document.createTextNode(""),new Nc(kc).observe(jc,{characterData:!0}),Ic=function(){jc.data=Oc=!Oc}):Uc&&Uc.resolve?(Rc=Uc.resolve(void 0),Cc=Rc.then,Ic=function(){Cc.call(Rc,kc)}):Ic=function(){Bc.call(n,kc)});var Gc,Hc,qc,Xc,Vc=Yc||function(t){var e={fn:t,next:void 0};Pc&&(Pc.next=e),Tc||(Tc=e,Ic()),Pc=e},Kc=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=ne(e),this.reject=ne(r)},Qc={f:function(t){return new Kc(t)}},Jc=function(t,e){if(M(t),v(e)&&e.constructor===t)return e;var r=Qc.f(t);return(0,r.resolve)(e),r.promise},Zc=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},$c=Lc.set,th=Qt("species"),eh="Promise",rh=$.get,nh=$.set,ih=$.getterFor(eh),oh=uc,ah=n.TypeError,sh=n.document,lh=n.process,ch=nt("fetch"),hh=Qc.f,uh=hh,fh="process"==u(lh),dh=!!(sh&&sh.createEvent&&n.dispatchEvent),ph=Tt(eh,(function(){if(!(F(oh)!==String(oh))){if(66===xn)return!0;if(!fh&&"function"!=typeof PromiseRejectionEvent)return!0}if(xn>=51&&/native code/.test(oh))return!1;var t=oh.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[th]=e,!(t.then((function(){}))instanceof e)})),gh=ph||!un((function(t){oh.all(t).catch((function(){}))})),vh=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},yh=function(t,e,r){if(!e.notified){e.notified=!0;var n=e.reactions;Vc((function(){for(var i=e.value,o=1==e.state,a=0;n.length>a;){var s,l,c,h=n[a++],u=o?h.ok:h.fail,f=h.resolve,d=h.reject,p=h.domain;try{u?(o||(2===e.rejection&&_h(t,e),e.rejection=1),!0===u?s=i:(p&&p.enter(),s=u(i),p&&(p.exit(),c=!0)),s===h.promise?d(ah("Promise-chain cycle")):(l=vh(s))?l.call(s,f,d):f(s)):d(i)}catch(t){p&&!c&&p.exit(),d(t)}}e.reactions=[],e.notified=!1,r&&!e.rejection&&bh(t,e)}))}},mh=function(t,e,r){var i,o;dh?((i=sh.createEvent("Event")).promise=e,i.reason=r,i.initEvent(t,!1,!0),n.dispatchEvent(i)):i={promise:e,reason:r},(o=n["on"+t])?o(i):"unhandledrejection"===t&&function(t,e){var r=n.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}("Unhandled promise rejection",r)},bh=function(t,e){$c.call(n,(function(){var r,n=e.value;if(xh(e)&&(r=Zc((function(){fh?lh.emit("unhandledRejection",n,t):mh("unhandledrejection",t,n)})),e.rejection=fh||xh(e)?2:1,r.error))throw r.value}))},xh=function(t){return 1!==t.rejection&&!t.parent},_h=function(t,e){$c.call(n,(function(){fh?lh.emit("rejectionHandled",t):mh("rejectionhandled",t,e.value)}))},wh=function(t,e,r,n){return function(i){t(e,r,i,n)}},Ah=function(t,e,r,n){e.done||(e.done=!0,n&&(e=n),e.value=r,e.state=2,yh(t,e,!0))},Sh=function(t,e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(t===r)throw ah("Promise can't be resolved itself");var i=vh(r);i?Vc((function(){var n={done:!1};try{i.call(r,wh(Sh,t,n,e),wh(Ah,t,n,e))}catch(r){Ah(t,n,r,e)}})):(e.value=r,e.state=1,yh(t,e,!1))}catch(r){Ah(t,{done:!1},r,e)}}};ph&&(oh=function(t){dc(this,oh,eh),ne(t),Gc.call(this);var e=rh(this);try{t(wh(Sh,this,e),wh(Ah,this,e))}catch(t){Ah(this,e,t)}},(Gc=function(t){nh(this,{type:eh,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=fc(oh.prototype,{then:function(t,e){var r=ih(this),n=hh(Zo(this,oh));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=fh?lh.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&yh(this,r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),Hc=function(){var t=new Gc,e=rh(t);this.promise=t,this.resolve=wh(Sh,t,e),this.reject=wh(Ah,t,e)},Qc.f=hh=function(t){return t===oh||t===qc?new Hc(t):uh(t)},"function"==typeof uc&&(Xc=uc.prototype.then,tt(uc.prototype,"then",(function(t,e){var r=this;return new oh((function(t,e){Xc.call(r,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof ch&&It({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return Jc(oh,ch.apply(n,arguments))}}))),It({global:!0,wrap:!0,forced:ph},{Promise:oh}),re(oh,eh,!1),Ki(eh),qc=nt(eh),It({target:eh,stat:!0,forced:ph},{reject:function(t){var e=hh(this);return e.reject.call(void 0,t),e.promise}}),It({target:eh,stat:!0,forced:ph},{resolve:function(t){return Jc(this,t)}}),It({target:eh,stat:!0,forced:gh},{all:function(t){var e=this,r=hh(e),n=r.resolve,i=r.reject,o=Zc((function(){var r=ne(e.resolve),o=[],a=0,s=1;yr(t,(function(t){var l=a++,c=!1;o.push(void 0),s++,r.call(e,t).then((function(t){c||(c=!0,o[l]=t,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(t){var e=this,r=hh(e),n=r.reject,i=Zc((function(){var i=ne(e.resolve);yr(t,(function(t){i.call(e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}}),It({target:"Promise",stat:!0},{allSettled:function(t){var e=this,r=Qc.f(e),n=r.resolve,i=r.reject,o=Zc((function(){var r=ne(e.resolve),i=[],o=0,a=1;yr(t,(function(t){var s=o++,l=!1;i.push(void 0),a++,r.call(e,t).then((function(t){l||(l=!0,i[s]={status:"fulfilled",value:t},--a||n(i))}),(function(t){l||(l=!0,i[s]={status:"rejected",reason:t},--a||n(i))}))})),--a||n(i)}));return o.error&&i(o.value),r.promise}});var Eh=!!uc&&i((function(){uc.prototype.finally.call({then:function(){}},(function(){}))}));It({target:"Promise",proto:!0,real:!0,forced:Eh},{finally:function(t){var e=Zo(this,nt("Promise")),r="function"==typeof t;return this.then(r?function(r){return Jc(e,t()).then((function(){return r}))}:t,r?function(r){return Jc(e,t()).then((function(){throw r}))}:t)}}),"function"!=typeof uc||uc.prototype.finally||tt(uc.prototype,"finally",nt("Promise").prototype.finally);var Mh=function(t,e,r){var o=-1!==t.indexOf("Map"),a=-1!==t.indexOf("Weak"),s=o?"set":"add",l=n[t],c=l&&l.prototype,h=l,u={},f=function(t){var e=c[t];tt(c,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(a&&!v(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return a&&!v(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(a&&!v(t))&&e.call(this,0===t?0:t)}:function(t,r){return e.call(this,0===t?0:t,r),this})};if(Tt(t,"function"!=typeof l||!(a||c.forEach&&!i((function(){(new l).entries().next()})))))h=r.getConstructor(e,t,o,s),er.REQUIRED=!0;else if(Tt(t,!0)){var d=new h,p=d[s](a?{}:-0,1)!=d,g=i((function(){d.has(1)})),y=un((function(t){new l(t)})),m=!a&&i((function(){for(var t=new l,e=5;e--;)t[s](e,e);return!t.has(-0)}));y||((h=e((function(e,r){dc(e,h,t);var n=Va(new l,e,h);return null!=r&&yr(r,n[s],n,o),n}))).prototype=c,c.constructor=h),(g||m)&&(f("delete"),f("has"),o&&f("get")),(m||p)&&f(s),a&&c.clear&&delete c.clear}return u[t]=h,It({global:!0,forced:h!=l},u),re(h,t),a||r.setStrong(h,t,o),h},kh=T.f,Th=er.fastKey,Ph=$.set,Ih=$.getterFor,Oh={getConstructor:function(t,e,r,n){var i=t((function(t,a){dc(t,i,e),Ph(t,{type:e,index:Wt(null),first:void 0,last:void 0,size:0}),o||(t.size=0),null!=a&&yr(a,t[n],t,r)})),a=Ih(e),s=function(t,e,r){var n,i,s=a(t),c=l(t,e);return c?c.value=r:(s.last=c={index:i=Th(e,!0),key:e,value:r,previous:n=s.last,next:void 0,removed:!1},s.first||(s.first=c),n&&(n.next=c),o?s.size++:t.size++,"F"!==i&&(s.index[i]=c)),t},l=function(t,e){var r,n=a(t),i=Th(e);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==e)return r};return fc(i.prototype,{clear:function(){for(var t=a(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,o?t.size=0:this.size=0},delete:function(t){var e=a(this),r=l(this,t);if(r){var n=r.next,i=r.previous;delete e.index[r.index],r.removed=!0,i&&(i.next=n),n&&(n.previous=i),e.first==r&&(e.first=n),e.last==r&&(e.last=i),o?e.size--:this.size--}return!!r},forEach:function(t){for(var e,r=a(this),n=ie(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!l(this,t)}}),fc(i.prototype,r?{get:function(t){var e=l(this,t);return e&&e.value},set:function(t,e){return s(this,0===t?0:t,e)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),o&&kh(i.prototype,"size",{get:function(){return a(this).size}}),i},setStrong:function(t,e,r){var n=e+" Iterator",i=Ih(e),o=Ih(n);co(t,e,(function(t,e){Ph(this,{type:n,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),Ki(e)}},jh=(Mh("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Oh),Mh("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Oh),er.getWeakData),Rh=$.set,Ch=$.getterFor,Lh=ce.find,Fh=ce.findIndex,Bh=0,Nh=function(t){return t.frozen||(t.frozen=new Dh)},Dh=function(){this.entries=[]},Uh=function(t,e){return Lh(t.entries,(function(t){return t[0]===e}))};Dh.prototype={get:function(t){var e=Uh(this,t);if(e)return e[1]},has:function(t){return!!Uh(this,t)},set:function(t,e){var r=Uh(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=Fh(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}};var zh={getConstructor:function(t,e,r,n){var i=t((function(t,o){dc(t,i,e),Rh(t,{type:e,id:Bh++,frozen:void 0}),null!=o&&yr(o,t[n],t,r)})),o=Ch(e),a=function(t,e,r){var n=o(t),i=jh(M(e),!0);return!0===i?Nh(n).set(e,r):i[n.id]=r,t};return fc(i.prototype,{delete:function(t){var e=o(this);if(!v(t))return!1;var r=jh(t);return!0===r?Nh(e).delete(t):r&&b(r,e.id)&&delete r[e.id]},has:function(t){var e=o(this);if(!v(t))return!1;var r=jh(t);return!0===r?Nh(e).has(t):r&&b(r,e.id)}}),fc(i.prototype,r?{get:function(t){var e=o(this);if(v(t)){var r=jh(t);return!0===r?Nh(e).get(t):r?r[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),i}};e((function(t){var e,r=$.enforce,i=!n.ActiveXObject&&"ActiveXObject"in n,o=Object.isExtensible,a=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},s=t.exports=Mh("WeakMap",a,zh);if(N&&i){e=zh.getConstructor(a,"WeakMap",!0),er.REQUIRED=!0;var l=s.prototype,c=l.delete,h=l.has,u=l.get,f=l.set;fc(l,{delete:function(t){if(v(t)&&!o(t)){var n=r(this);return n.frozen||(n.frozen=new e),c.call(this,t)||n.frozen.delete(t)}return c.call(this,t)},has:function(t){if(v(t)&&!o(t)){var n=r(this);return n.frozen||(n.frozen=new e),h.call(this,t)||n.frozen.has(t)}return h.call(this,t)},get:function(t){if(v(t)&&!o(t)){var n=r(this);return n.frozen||(n.frozen=new e),h.call(this,t)?u.call(this,t):n.frozen.get(t)}return u.call(this,t)},set:function(t,n){if(v(t)&&!o(t)){var i=r(this);i.frozen||(i.frozen=new e),h.call(this,t)?f.call(this,t,n):i.frozen.set(t,n)}else f.call(this,t,n);return this}})}}));Mh("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),zh);var Wh="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Yh=function(t){if(void 0===t)return 0;var e=at(t),r=lt(e);if(e!==r)throw RangeError("Wrong length or index");return r},Gh=Math.abs,Hh=Math.pow,qh=Math.floor,Xh=Math.log,Vh=Math.LN2,Kh=function(t,e,r){var n,i,o,a=new Array(r),s=8*r-e-1,l=(1<<s)-1,c=l>>1,h=23===e?Hh(2,-24)-Hh(2,-77):0,u=t<0||0===t&&1/t<0?1:0,f=0;for((t=Gh(t))!=t||t===1/0?(i=t!=t?1:0,n=l):(n=qh(Xh(t)/Vh),t*(o=Hh(2,-n))<1&&(n--,o*=2),(t+=n+c>=1?h/o:h*Hh(2,1-c))*o>=2&&(n++,o/=2),n+c>=l?(i=0,n=l):n+c>=1?(i=(t*o-1)*Hh(2,e),n+=c):(i=t*Hh(2,c-1)*Hh(2,e),n=0));e>=8;a[f++]=255&i,i/=256,e-=8);for(n=n<<e|i,s+=e;s>0;a[f++]=255&n,n/=256,s-=8);return a[--f]|=128*u,a},Qh=function(t,e){var r,n=t.length,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,l=n-1,c=t[l--],h=127&c;for(c>>=7;s>0;h=256*h+t[l],l--,s-=8);for(r=h&(1<<-s)-1,h>>=-s,s+=e;s>0;r=256*r+t[l],l--,s-=8);if(0===h)h=1-a;else{if(h===o)return r?NaN:c?-1/0:1/0;r+=Hh(2,e),h-=a}return(c?-1:1)*r*Hh(2,h-e)},Jh=mt.f,Zh=T.f,$h=$.get,tu=$.set,eu=n.ArrayBuffer,ru=eu,nu=n.DataView,iu=nu&&nu.prototype,ou=Object.prototype,au=n.RangeError,su=Kh,lu=Qh,cu=function(t){return[255&t]},hu=function(t){return[255&t,t>>8&255]},uu=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},fu=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},du=function(t){return su(t,23,4)},pu=function(t){return su(t,52,8)},gu=function(t,e){Zh(t.prototype,e,{get:function(){return $h(this)[e]}})},vu=function(t,e,r,n){var i=Yh(r),o=$h(t);if(i+e>o.byteLength)throw au("Wrong index");var a=$h(o.buffer).bytes,s=i+o.byteOffset,l=a.slice(s,s+e);return n?l:l.reverse()},yu=function(t,e,r,n,i,o){var a=Yh(r),s=$h(t);if(a+e>s.byteLength)throw au("Wrong index");for(var l=$h(s.buffer).bytes,c=a+s.byteOffset,h=n(+i),u=0;u<e;u++)l[c+u]=h[o?u:e-u-1]};if(Wh){if(!i((function(){eu(1)}))||!i((function(){new eu(-1)}))||i((function(){return new eu,new eu(1.5),new eu(NaN),"ArrayBuffer"!=eu.name}))){for(var mu,bu=(ru=function(t){return dc(this,ru),new eu(Yh(t))}).prototype=eu.prototype,xu=Jh(eu),_u=0;xu.length>_u;)(mu=xu[_u++])in ru||P(ru,mu,eu[mu]);bu.constructor=ru}Yr&&Mr(iu)!==ou&&Yr(iu,ou);var wu=new nu(new ru(2)),Au=iu.setInt8;wu.setInt8(0,2147483648),wu.setInt8(1,2147483649),!wu.getInt8(0)&&wu.getInt8(1)||fc(iu,{setInt8:function(t,e){Au.call(this,t,e<<24>>24)},setUint8:function(t,e){Au.call(this,t,e<<24>>24)}},{unsafe:!0})}else ru=function(t){dc(this,ru,"ArrayBuffer");var e=Yh(t);tu(this,{bytes:Un.call(new Array(e),0),byteLength:e}),o||(this.byteLength=e)},nu=function(t,e,r){dc(this,nu,"DataView"),dc(t,ru,"DataView");var n=$h(t).byteLength,i=at(e);if(i<0||i>n)throw au("Wrong offset");if(i+(r=void 0===r?n-i:lt(r))>n)throw au("Wrong length");tu(this,{buffer:t,byteLength:r,byteOffset:i}),o||(this.buffer=t,this.byteLength=r,this.byteOffset=i)},o&&(gu(ru,"byteLength"),gu(nu,"buffer"),gu(nu,"byteLength"),gu(nu,"byteOffset")),fc(nu.prototype,{getInt8:function(t){return vu(this,1,t)[0]<<24>>24},getUint8:function(t){return vu(this,1,t)[0]},getInt16:function(t){var e=vu(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=vu(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return fu(vu(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return fu(vu(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return lu(vu(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return lu(vu(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){yu(this,1,t,cu,e)},setUint8:function(t,e){yu(this,1,t,cu,e)},setInt16:function(t,e){yu(this,2,t,hu,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){yu(this,2,t,hu,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){yu(this,4,t,uu,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){yu(this,4,t,uu,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){yu(this,4,t,du,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){yu(this,8,t,pu,e,arguments.length>2?arguments[2]:void 0)}});re(ru,"ArrayBuffer"),re(nu,"DataView");var Su={ArrayBuffer:ru,DataView:nu},Eu=Su.ArrayBuffer,Mu=n.ArrayBuffer;It({global:!0,forced:Mu!==Eu},{ArrayBuffer:Eu}),Ki("ArrayBuffer");var ku,Tu=T.f,Pu=n.Int8Array,Iu=Pu&&Pu.prototype,Ou=n.Uint8ClampedArray,ju=Ou&&Ou.prototype,Ru=Pu&&Mr(Pu),Cu=Iu&&Mr(Iu),Lu=Object.prototype,Fu=Lu.isPrototypeOf,Bu=Qt("toStringTag"),Nu=W("TYPED_ARRAY_TAG"),Du=Wh&&!!Yr&&"Opera"!==dr(n.opera),Uu=!1,zu={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Wu=function(t){return v(t)&&b(zu,dr(t))};for(ku in zu)n[ku]||(Du=!1);if((!Du||"function"!=typeof Ru||Ru===Function.prototype)&&(Ru=function(){throw TypeError("Incorrect invocation")},Du))for(ku in zu)n[ku]&&Yr(n[ku],Ru);if((!Du||!Cu||Cu===Lu)&&(Cu=Ru.prototype,Du))for(ku in zu)n[ku]&&Yr(n[ku].prototype,Cu);if(Du&&Mr(ju)!==Cu&&Yr(ju,Cu),o&&!b(Cu,Bu))for(ku in Uu=!0,Tu(Cu,Bu,{get:function(){return v(this)?this[Nu]:void 0}}),zu)n[ku]&&P(n[ku],Nu,ku);var Yu={NATIVE_ARRAY_BUFFER_VIEWS:Du,TYPED_ARRAY_TAG:Uu&&Nu,aTypedArray:function(t){if(Wu(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(Yr){if(Fu.call(Ru,t))return t}else for(var e in zu)if(b(zu,ku)){var r=n[e];if(r&&(t===r||Fu.call(r,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r){if(o){if(r)for(var i in zu){var a=n[i];a&&b(a.prototype,t)&&delete a.prototype[t]}Cu[t]&&!r||tt(Cu,t,r?e:Du&&Iu[t]||e)}},exportTypedArrayStaticMethod:function(t,e,r){var i,a;if(o){if(Yr){if(r)for(i in zu)(a=n[i])&&b(a,t)&&delete a[t];if(Ru[t]&&!r)return;try{return tt(Ru,t,r?e:Du&&Pu[t]||e)}catch(t){}}for(i in zu)!(a=n[i])||a[t]&&!r||tt(a,t,e)}},isView:function(t){var e=dr(t);return"DataView"===e||b(zu,e)},isTypedArray:Wu,TypedArray:Ru,TypedArrayPrototype:Cu};It({target:"ArrayBuffer",stat:!0,forced:!Yu.NATIVE_ARRAY_BUFFER_VIEWS},{isView:Yu.isView});var Gu=Su.ArrayBuffer,Hu=Su.DataView,qu=Gu.prototype.slice,Xu=i((function(){return!new Gu(2).slice(1,void 0).byteLength}));It({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Xu},{slice:function(t,e){if(void 0!==qu&&void 0===e)return qu.call(M(this),t);for(var r=M(this).byteLength,n=ut(t,r),i=ut(void 0===e?r:e,r),o=new(Zo(this,Gu))(lt(i-n)),a=new Hu(this),s=new Hu(o),l=0;n<i;)s.setUint8(l++,a.getUint8(n++));return o}}),It({global:!0,forced:!Wh},{DataView:Su.DataView});var Vu=Yu.NATIVE_ARRAY_BUFFER_VIEWS,Ku=n.ArrayBuffer,Qu=n.Int8Array,Ju=!Vu||!i((function(){Qu(1)}))||!i((function(){new Qu(-1)}))||!un((function(t){new Qu,new Qu(null),new Qu(1.5),new Qu(t)}),!0)||i((function(){return 1!==new Qu(new Ku(2),1,void 0).length})),Zu=function(t,e){var r=function(t){var e=at(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}(t);if(r%e)throw RangeError("Wrong offset");return r},$u=Yu.aTypedArrayConstructor,tf=function(t){var e,r,n,i,o,a,s=Ct(t),l=arguments.length,c=l>1?arguments[1]:void 0,h=void 0!==c,u=gr(s);if(null!=u&&!lr(u))for(a=(o=u.call(s)).next,s=[];!(i=a.call(o)).done;)s.push(i.value);for(h&&l>2&&(c=ie(c,arguments[2],2)),r=lt(s.length),n=new($u(this))(r),e=0;r>e;e++)n[e]=h?c(s[e],e):s[e];return n},ef=e((function(t){var e=mt.f,r=ce.forEach,i=$.get,a=$.set,s=T.f,l=E.f,h=Math.round,u=n.RangeError,f=Su.ArrayBuffer,d=Su.DataView,p=Yu.NATIVE_ARRAY_BUFFER_VIEWS,g=Yu.TYPED_ARRAY_TAG,m=Yu.TypedArray,x=Yu.TypedArrayPrototype,_=Yu.aTypedArrayConstructor,w=Yu.isTypedArray,A=function(t,e){for(var r=0,n=e.length,i=new(_(t))(n);n>r;)i[r]=e[r++];return i},S=function(t,e){s(t,e,{get:function(){return i(this)[e]}})},M=function(t){var e;return t instanceof f||"ArrayBuffer"==(e=dr(t))||"SharedArrayBuffer"==e},k=function(t,e){return w(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},I=function(t,e){return k(t,e=y(e,!0))?c(2,t[e]):l(t,e)},O=function(t,e,r){return!(k(t,e=y(e,!0))&&v(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?s(t,e,r):(t[e]=r.value,t)};o?(p||(E.f=I,T.f=O,S(x,"buffer"),S(x,"byteOffset"),S(x,"byteLength"),S(x,"length")),It({target:"Object",stat:!0,forced:!p},{getOwnPropertyDescriptor:I,defineProperty:O}),t.exports=function(t,o,l){var c=t.match(/\d+$/)[0]/8,y=t+(l?"Clamped":"")+"Array",b="get"+t,_="set"+t,S=n[y],E=S,k=E&&E.prototype,T={},I=function(t,e){s(t,e,{get:function(){return function(t,e){var r=i(t);return r.view[b](e*c+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var n=i(t);l&&(r=(r=h(r))<0?0:r>255?255:255&r),n.view[_](e*c+n.byteOffset,r,!0)}(this,e,t)},enumerable:!0})};p?Ju&&(E=o((function(t,e,r,n){return dc(t,E,y),Va(v(e)?M(e)?void 0!==n?new S(e,Zu(r,c),n):void 0!==r?new S(e,Zu(r,c)):new S(e):w(e)?A(E,e):tf.call(E,e):new S(Yh(e)),t,E)})),Yr&&Yr(E,m),r(e(S),(function(t){t in E||P(E,t,S[t])})),E.prototype=k):(E=o((function(t,e,r,n){dc(t,E,y);var i,o,s,l=0,h=0;if(v(e)){if(!M(e))return w(e)?A(E,e):tf.call(E,e);i=e,h=Zu(r,c);var p=e.byteLength;if(void 0===n){if(p%c)throw u("Wrong length");if((o=p-h)<0)throw u("Wrong length")}else if((o=lt(n)*c)+h>p)throw u("Wrong length");s=o/c}else s=Yh(e),i=new f(o=s*c);for(a(t,{buffer:i,byteOffset:h,byteLength:o,length:s,view:new d(i)});l<s;)I(t,l++)})),Yr&&Yr(E,m),k=E.prototype=Wt(x)),k.constructor!==E&&P(k,"constructor",E),g&&P(k,g,y),T[y]=E,It({global:!0,forced:E!=S,sham:!p},T),"BYTES_PER_ELEMENT"in E||P(E,"BYTES_PER_ELEMENT",c),"BYTES_PER_ELEMENT"in k||P(k,"BYTES_PER_ELEMENT",c),Ki(y)}):t.exports=function(){}}));ef("Int8",(function(t){return function(e,r,n){return t(this,e,r,n)}})),ef("Uint8",(function(t){return function(e,r,n){return t(this,e,r,n)}})),ef("Uint8",(function(t){return function(e,r,n){return t(this,e,r,n)}}),!0),ef("Int16",(function(t){return function(e,r,n){return t(this,e,r,n)}})),ef("Uint16",(function(t){return function(e,r,n){return t(this,e,r,n)}})),ef("Int32",(function(t){return function(e,r,n){return t(this,e,r,n)}})),ef("Uint32",(function(t){return function(e,r,n){return t(this,e,r,n)}})),ef("Float32",(function(t){return function(e,r,n){return t(this,e,r,n)}})),ef("Float64",(function(t){return function(e,r,n){return t(this,e,r,n)}})),(0,Yu.exportTypedArrayStaticMethod)("from",tf,Ju);var rf=Yu.aTypedArrayConstructor;(0,Yu.exportTypedArrayStaticMethod)("of",(function(){for(var t=0,e=arguments.length,r=new(rf(this))(e);e>t;)r[t]=arguments[t++];return r}),Ju);var nf=Yu.aTypedArray;(0,Yu.exportTypedArrayMethod)("copyWithin",(function(t,e){return Tn.call(nf(this),t,e,arguments.length>2?arguments[2]:void 0)}));var of=ce.every,af=Yu.aTypedArray;(0,Yu.exportTypedArrayMethod)("every",(function(t){return of(af(this),t,arguments.length>1?arguments[1]:void 0)}));var sf=Yu.aTypedArray;(0,Yu.exportTypedArrayMethod)("fill",(function(t){return Un.apply(sf(this),arguments)}));var lf=ce.filter,cf=Yu.aTypedArray,hf=Yu.aTypedArrayConstructor;(0,Yu.exportTypedArrayMethod)("filter",(function(t){for(var e=lf(cf(this),t,arguments.length>1?arguments[1]:void 0),r=Zo(this,this.constructor),n=0,i=e.length,o=new(hf(r))(i);i>n;)o[n]=e[n++];return o}));var uf=ce.find,ff=Yu.aTypedArray;(0,Yu.exportTypedArrayMethod)("find",(function(t){return uf(ff(this),t,arguments.length>1?arguments[1]:void 0)}));var df=ce.findIndex,pf=Yu.aTypedArray;(0,Yu.exportTypedArrayMethod)("findIndex",(function(t){return df(pf(this),t,arguments.length>1?arguments[1]:void 0)}));var gf=ce.forEach,vf=Yu.aTypedArray;(0,Yu.exportTypedArrayMethod)("forEach",(function(t){gf(vf(this),t,arguments.length>1?arguments[1]:void 0)}));var yf=dt.includes,mf=Yu.aTypedArray;(0,Yu.exportTypedArrayMethod)("includes",(function(t){return yf(mf(this),t,arguments.length>1?arguments[1]:void 0)}));var bf=dt.indexOf,xf=Yu.aTypedArray;(0,Yu.exportTypedArrayMethod)("indexOf",(function(t){return bf(xf(this),t,arguments.length>1?arguments[1]:void 0)}));var _f=Qt("iterator"),wf=n.Uint8Array,Af=fo.values,Sf=fo.keys,Ef=fo.entries,Mf=Yu.aTypedArray,kf=Yu.exportTypedArrayMethod,Tf=wf&&wf.prototype[_f],Pf=!!Tf&&("values"==Tf.name||null==Tf.name),If=function(){return Af.call(Mf(this))};kf("entries",(function(){return Ef.call(Mf(this))})),kf("keys",(function(){return Sf.call(Mf(this))})),kf("values",If,!Pf),kf(_f,If,!Pf);var Of=Yu.aTypedArray,jf=[].join;(0,Yu.exportTypedArrayMethod)("join",(function(t){return jf.apply(Of(this),arguments)}));var Rf=Yu.aTypedArray;(0,Yu.exportTypedArrayMethod)("lastIndexOf",(function(t){return yi.apply(Rf(this),arguments)}));var Cf=ce.map,Lf=Yu.aTypedArray,Ff=Yu.aTypedArrayConstructor;(0,Yu.exportTypedArrayMethod)("map",(function(t){return Cf(Lf(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(Ff(Zo(t,t.constructor)))(e)}))}));var Bf=wi.left,Nf=Yu.aTypedArray;(0,Yu.exportTypedArrayMethod)("reduce",(function(t){return Bf(Nf(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var Df=wi.right,Uf=Yu.aTypedArray;(0,Yu.exportTypedArrayMethod)("reduceRight",(function(t){return Df(Uf(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var zf=Yu.aTypedArray,Wf=Yu.exportTypedArrayMethod,Yf=Math.floor;Wf("reverse",(function(){for(var t,e=zf(this).length,r=Yf(e/2),n=0;n<r;)t=this[n],this[n++]=this[--e],this[e]=t;return this}));var Gf=Yu.aTypedArray;(0,Yu.exportTypedArrayMethod)("set",(function(t){Gf(this);var e=Zu(arguments.length>1?arguments[1]:void 0,1),r=this.length,n=Ct(t),i=lt(n.length),o=0;if(i+e>r)throw RangeError("Wrong length");for(;o<i;)this[e+o]=n[o++]}),i((function(){new Int8Array(1).set({})})));var Hf=Yu.aTypedArray,qf=Yu.aTypedArrayConstructor,Xf=[].slice;(0,Yu.exportTypedArrayMethod)("slice",(function(t,e){for(var r=Xf.call(Hf(this),t,e),n=Zo(this,this.constructor),i=0,o=r.length,a=new(qf(n))(o);o>i;)a[i]=r[i++];return a}),i((function(){new Int8Array(1).slice()})));var Vf=ce.some,Kf=Yu.aTypedArray;(0,Yu.exportTypedArrayMethod)("some",(function(t){return Vf(Kf(this),t,arguments.length>1?arguments[1]:void 0)}));var Qf=Yu.aTypedArray,Jf=[].sort;(0,Yu.exportTypedArrayMethod)("sort",(function(t){return Jf.call(Qf(this),t)}));var Zf=Yu.aTypedArray;(0,Yu.exportTypedArrayMethod)("subarray",(function(t,e){var r=Zf(this),n=r.length,i=ut(t,n);return new(Zo(r,r.constructor))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,lt((void 0===e?n:ut(e,n))-i))}));var $f=n.Int8Array,td=Yu.aTypedArray,ed=Yu.exportTypedArrayMethod,rd=[].toLocaleString,nd=[].slice,id=!!$f&&i((function(){rd.call(new $f(1))}));ed("toLocaleString",(function(){return rd.apply(id?nd.call(td(this)):td(this),arguments)}),i((function(){return[1,2].toLocaleString()!=new $f([1,2]).toLocaleString()}))||!i((function(){$f.prototype.toLocaleString.call([1,2])})));var od=Yu.exportTypedArrayMethod,ad=n.Uint8Array,sd=ad&&ad.prototype||{},ld=[].toString,cd=[].join;i((function(){ld.call({})}))&&(ld=function(){return cd.call(this)});var hd=sd.toString!=ld;od("toString",ld,hd);var ud=nt("Reflect","apply"),fd=Function.apply,dd=!i((function(){ud((function(){}))}));It({target:"Reflect",stat:!0,forced:dd},{apply:function(t,e,r){return ne(t),M(r),ud?ud(t,e,r):fd.call(t,e,r)}});var pd=nt("Reflect","construct"),gd=i((function(){function t(){}return!(pd((function(){}),[],t)instanceof t)})),vd=!i((function(){pd((function(){}))})),yd=gd||vd;It({target:"Reflect",stat:!0,forced:yd,sham:yd},{construct:function(t,e){ne(t),M(e);var r=arguments.length<3?t:ne(arguments[2]);if(vd&&!gd)return pd(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(Zr.apply(t,n))}var i=r.prototype,o=Wt(v(i)?i:Object.prototype),a=Function.apply.call(t,o,e);return v(a)?a:o}});var md=i((function(){Reflect.defineProperty(T.f({},1,{value:1}),1,{value:2})}));It({target:"Reflect",stat:!0,forced:md,sham:!o},{defineProperty:function(t,e,r){M(t);var n=y(e,!0);M(r);try{return T.f(t,n,r),!0}catch(t){return!1}}});var bd=E.f;It({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var r=bd(M(t),e);return!(r&&!r.configurable)&&delete t[e]}}),It({target:"Reflect",stat:!0},{get:function t(e,r){var n,i,o=arguments.length<3?e:arguments[2];return M(e)===o?e[r]:(n=E.f(e,r))?b(n,"value")?n.value:void 0===n.get?void 0:n.get.call(o):v(i=Mr(e))?t(i,r,o):void 0}}),It({target:"Reflect",stat:!0,sham:!o},{getOwnPropertyDescriptor:function(t,e){return E.f(M(t),e)}}),It({target:"Reflect",stat:!0,sham:!Ar},{getPrototypeOf:function(t){return Mr(M(t))}}),It({target:"Reflect",stat:!0},{has:function(t,e){return e in t}});var xd=Object.isExtensible;It({target:"Reflect",stat:!0},{isExtensible:function(t){return M(t),!xd||xd(t)}}),It({target:"Reflect",stat:!0},{ownKeys:xt}),It({target:"Reflect",stat:!0,sham:!tr},{preventExtensions:function(t){M(t);try{var e=nt("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}});var _d=i((function(){var t=T.f({},"a",{configurable:!0});return!1!==Reflect.set(Mr(t),"a",1,t)}));It({target:"Reflect",stat:!0,forced:_d},{set:function t(e,r,n){var i,o,a=arguments.length<4?e:arguments[3],s=E.f(M(e),r);if(!s){if(v(o=Mr(e)))return t(o,r,n,a);s=c(0)}if(b(s,"value")){if(!1===s.writable||!v(a))return!1;if(i=E.f(a,r)){if(i.get||i.set||!1===i.writable)return!1;i.value=n,T.f(a,r,i)}else T.f(a,r,c(0,n));return!0}return void 0!==s.set&&(s.set.call(a,n),!0)}}),Yr&&It({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){M(t),Wr(e);try{return Yr(t,e),!0}catch(t){return!1}}});var wd={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var Ad in wd){var Sd=n[Ad],Ed=Sd&&Sd.prototype;if(Ed&&Ed.forEach!==ei)try{P(Ed,"forEach",ei)}catch(Bb){Ed.forEach=ei}}var Md=Qt("iterator"),kd=Qt("toStringTag"),Td=fo.values;for(var Pd in wd){var Id=n[Pd],Od=Id&&Id.prototype;if(Od){if(Od[Md]!==Td)try{P(Od,Md,Td)}catch(Bb){Od[Md]=Td}if(Od[kd]||P(Od,kd,Pd),wd[Pd])for(var jd in fo)if(Od[jd]!==fo[jd])try{P(Od,jd,fo[jd])}catch(Bb){Od[jd]=fo[jd]}}}var Rd=!n.setImmediate||!n.clearImmediate;It({global:!0,bind:!0,enumerable:!0,forced:Rd},{setImmediate:Lc.set,clearImmediate:Lc.clear});var Cd=n.process,Ld="process"==u(Cd);It({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=Ld&&Cd.domain;Vc(e?e.bind(t):t)}});var Fd=[].slice,Bd=/MSIE .\./.test(vn),Nd=function(t){return function(e,r){var n=arguments.length>2,i=n?Fd.call(arguments,2):void 0;return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,r)}};It({global:!0,bind:!0,forced:Bd},{setTimeout:Nd(n.setTimeout),setInterval:Nd(n.setInterval)});var Dd=Qt("iterator"),Ud=!i((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),r+=n+t})),!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[Dd]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})),zd=/[^\0-\u007E]/,Wd=/[.\u3002\uFF0E\uFF61]/g,Yd="Overflow: input needs wider integers to process",Gd=Math.floor,Hd=String.fromCharCode,qd=function(t){return t+22+75*(t<26)},Xd=function(t,e,r){var n=0;for(t=r?Gd(t/700):t>>1,t+=Gd(t/e);t>455;n+=36)t=Gd(t/35);return Gd(n+36*t/(t+38))},Vd=function(t){var e,r,n=[],i=(t=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=t.charCodeAt(r++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),r--)}else e.push(i)}return e}(t)).length,o=128,a=0,s=72;for(e=0;e<t.length;e++)(r=t[e])<128&&n.push(Hd(r));var l=n.length,c=l;for(l&&n.push("-");c<i;){var h=2147483647;for(e=0;e<t.length;e++)(r=t[e])>=o&&r<h&&(h=r);var u=c+1;if(h-o>Gd((2147483647-a)/u))throw RangeError(Yd);for(a+=(h-o)*u,o=h,e=0;e<t.length;e++){if((r=t[e])<o&&++a>2147483647)throw RangeError(Yd);if(r==o){for(var f=a,d=36;;d+=36){var p=d<=s?1:d>=s+26?26:d-s;if(f<p)break;var g=f-p,v=36-p;n.push(Hd(qd(p+g%v))),f=Gd(g/v)}n.push(Hd(qd(f))),s=Xd(a,u,c==l),a=0,++c}}++a,++o}return n.join("")},Kd=function(t){var e=gr(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return M(e.call(t))},Qd=nt("fetch"),Jd=nt("Headers"),Zd=Qt("iterator"),$d=$.set,tp=$.getterFor("URLSearchParams"),ep=$.getterFor("URLSearchParamsIterator"),rp=/\+/g,np=Array(4),ip=function(t){return np[t-1]||(np[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},op=function(t){try{return decodeURIComponent(t)}catch(e){return t}},ap=function(t){var e=t.replace(rp," "),r=4;try{return decodeURIComponent(e)}catch(t){for(;r;)e=e.replace(ip(r--),op);return e}},sp=/[!'()~]|%20/g,lp={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},cp=function(t){return lp[t]},hp=function(t){return encodeURIComponent(t).replace(sp,cp)},up=function(t,e){if(e)for(var r,n,i=e.split("&"),o=0;o<i.length;)(r=i[o++]).length&&(n=r.split("="),t.push({key:ap(n.shift()),value:ap(n.join("="))}))},fp=function(t){this.entries.length=0,up(this.entries,t)},dp=function(t,e){if(t<e)throw TypeError("Not enough arguments")},pp=io((function(t,e){$d(this,{type:"URLSearchParamsIterator",iterator:Kd(tp(t).entries),kind:e})}),"Iterator",(function(){var t=ep(this),e=t.kind,r=t.iterator.next(),n=r.value;return r.done||(r.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),r})),gp=function(){dc(this,gp,"URLSearchParams");var t,e,r,n,i,o,a,s,l,c=arguments.length>0?arguments[0]:void 0,h=this,u=[];if($d(h,{type:"URLSearchParams",entries:u,updateURL:function(){},updateSearchParams:fp}),void 0!==c)if(v(c))if("function"==typeof(t=gr(c)))for(r=(e=t.call(c)).next;!(n=r.call(e)).done;){if((a=(o=(i=Kd(M(n.value))).next).call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");u.push({key:a.value+"",value:s.value+""})}else for(l in c)b(c,l)&&u.push({key:l,value:c[l]+""});else up(u,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},vp=gp.prototype;fc(vp,{append:function(t,e){dp(arguments.length,2);var r=tp(this);r.entries.push({key:t+"",value:e+""}),r.updateURL()},delete:function(t){dp(arguments.length,1);for(var e=tp(this),r=e.entries,n=t+"",i=0;i<r.length;)r[i].key===n?r.splice(i,1):i++;e.updateURL()},get:function(t){dp(arguments.length,1);for(var e=tp(this).entries,r=t+"",n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){dp(arguments.length,1);for(var e=tp(this).entries,r=t+"",n=[],i=0;i<e.length;i++)e[i].key===r&&n.push(e[i].value);return n},has:function(t){dp(arguments.length,1);for(var e=tp(this).entries,r=t+"",n=0;n<e.length;)if(e[n++].key===r)return!0;return!1},set:function(t,e){dp(arguments.length,1);for(var r,n=tp(this),i=n.entries,o=!1,a=t+"",s=e+"",l=0;l<i.length;l++)(r=i[l]).key===a&&(o?i.splice(l--,1):(o=!0,r.value=s));o||i.push({key:a,value:s}),n.updateURL()},sort:function(){var t,e,r,n=tp(this),i=n.entries,o=i.slice();for(i.length=0,r=0;r<o.length;r++){for(t=o[r],e=0;e<r;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===r&&i.push(t)}n.updateURL()},forEach:function(t){for(var e,r=tp(this).entries,n=ie(t,arguments.length>1?arguments[1]:void 0,3),i=0;i<r.length;)n((e=r[i++]).value,e.key,this)},keys:function(){return new pp(this,"keys")},values:function(){return new pp(this,"values")},entries:function(){return new pp(this,"entries")}},{enumerable:!0}),tt(vp,Zd,vp.entries),tt(vp,"toString",(function(){for(var t,e=tp(this).entries,r=[],n=0;n<e.length;)t=e[n++],r.push(hp(t.key)+"="+hp(t.value));return r.join("&")}),{enumerable:!0}),re(gp,"URLSearchParams"),It({global:!0,forced:!Ud},{URLSearchParams:gp}),Ud||"function"!=typeof Qd||"function"!=typeof Jd||It({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,r,n,i=[t];return arguments.length>1&&(e=arguments[1],v(e)&&(r=e.body,"URLSearchParams"===dr(r)&&((n=e.headers?new Jd(e.headers):new Jd).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=Wt(e,{body:c(0,String(r)),headers:c(0,n)}))),i.push(e)),Qd.apply(this,i)}});var yp,mp={URLSearchParams:gp,getState:tp},bp=mo.codeAt,xp=n.URL,_p=mp.URLSearchParams,wp=mp.getState,Ap=$.set,Sp=$.getterFor("URL"),Ep=Math.floor,Mp=Math.pow,kp=/[A-Za-z]/,Tp=/[\d+\-.A-Za-z]/,Pp=/\d/,Ip=/^(0x|0X)/,Op=/^[0-7]+$/,jp=/^\d+$/,Rp=/^[\dA-Fa-f]+$/,Cp=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Lp=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Fp=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Bp=/[\u0009\u000A\u000D]/g,Np=function(t,e){var r,n,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(r=Up(e.slice(1,-1))))return"Invalid host";t.host=r}else if(Vp(t)){if(e=function(t){var e,r,n=[],i=t.toLowerCase().replace(Wd,".").split(".");for(e=0;e<i.length;e++)r=i[e],n.push(zd.test(r)?"xn--"+Vd(r):r);return n.join(".")}(e),Cp.test(e))return"Invalid host";if(null===(r=Dp(e)))return"Invalid host";t.host=r}else{if(Lp.test(e))return"Invalid host";for(r="",n=an(e),i=0;i<n.length;i++)r+=qp(n[i],Wp);t.host=r}},Dp=function(t){var e,r,n,i,o,a,s,l=t.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(e=l.length)>4)return t;for(r=[],n=0;n<e;n++){if(""==(i=l[n]))return t;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=Ip.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?jp:8==o?Op:Rp).test(i))return t;a=parseInt(i,o)}r.push(a)}for(n=0;n<e;n++)if(a=r[n],n==e-1){if(a>=Mp(256,5-e))return null}else if(a>255)return null;for(s=r.pop(),n=0;n<r.length;n++)s+=r[n]*Mp(256,3-n);return s},Up=function(t){var e,r,n,i,o,a,s,l=[0,0,0,0,0,0,0,0],c=0,h=null,u=0,f=function(){return t.charAt(u)};if(":"==f()){if(":"!=t.charAt(1))return;u+=2,h=++c}for(;f();){if(8==c)return;if(":"!=f()){for(e=r=0;r<4&&Rp.test(f());)e=16*e+parseInt(f(),16),u++,r++;if("."==f()){if(0==r)return;if(u-=r,c>6)return;for(n=0;f();){if(i=null,n>0){if(!("."==f()&&n<4))return;u++}if(!Pp.test(f()))return;for(;Pp.test(f());){if(o=parseInt(f(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;u++}l[c]=256*l[c]+i,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==f()){if(u++,!f())return}else if(f())return;l[c++]=e}else{if(null!==h)return;u++,h=++c}}if(null!==h)for(a=c-h,c=7;0!=c&&a>0;)s=l[c],l[c--]=l[h+a-1],l[h+--a]=s;else if(8!=c)return;return l},zp=function(t){var e,r,n,i;if("number"==typeof t){for(e=[],r=0;r<4;r++)e.unshift(t%256),t=Ep(t/256);return e.join(".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,r=1,n=null,i=0,o=0;o<8;o++)0!==t[o]?(i>r&&(e=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return i>r&&(e=n,r=i),e}(t),r=0;r<8;r++)i&&0===t[r]||(i&&(i=!1),n===r?(e+=r?":":"::",i=!0):(e+=t[r].toString(16),r<7&&(e+=":")));return"["+e+"]"}return t},Wp={},Yp=Ke({},Wp,{" ":1,'"':1,"<":1,">":1,"`":1}),Gp=Ke({},Yp,{"#":1,"?":1,"{":1,"}":1}),Hp=Ke({},Gp,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),qp=function(t,e){var r=bp(t,0);return r>32&&r<127&&!b(e,t)?t:encodeURIComponent(t)},Xp={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Vp=function(t){return b(Xp,t.scheme)},Kp=function(t){return""!=t.username||""!=t.password},Qp=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},Jp=function(t,e){var r;return 2==t.length&&kp.test(t.charAt(0))&&(":"==(r=t.charAt(1))||!e&&"|"==r)},Zp=function(t){var e;return t.length>1&&Jp(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},$p=function(t){var e=t.path,r=e.length;!r||"file"==t.scheme&&1==r&&Jp(e[0],!0)||e.pop()},tg=function(t){return"."===t||"%2e"===t.toLowerCase()},eg={},rg={},ng={},ig={},og={},ag={},sg={},lg={},cg={},hg={},ug={},fg={},dg={},pg={},gg={},vg={},yg={},mg={},bg={},xg={},_g={},wg=function(t,e,r,n){var i,o,a,s,l,c=r||eg,h=0,u="",f=!1,d=!1,p=!1;for(r||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(Fp,"")),e=e.replace(Bp,""),i=an(e);h<=i.length;){switch(o=i[h],c){case eg:if(!o||!kp.test(o)){if(r)return"Invalid scheme";c=ng;continue}u+=o.toLowerCase(),c=rg;break;case rg:if(o&&(Tp.test(o)||"+"==o||"-"==o||"."==o))u+=o.toLowerCase();else{if(":"!=o){if(r)return"Invalid scheme";u="",c=ng,h=0;continue}if(r&&(Vp(t)!=b(Xp,u)||"file"==u&&(Kp(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=u,r)return void(Vp(t)&&Xp[t.scheme]==t.port&&(t.port=null));u="","file"==t.scheme?c=pg:Vp(t)&&n&&n.scheme==t.scheme?c=ig:Vp(t)?c=lg:"/"==i[h+1]?(c=og,h++):(t.cannotBeABaseURL=!0,t.path.push(""),c=bg)}break;case ng:if(!n||n.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(n.cannotBeABaseURL&&"#"==o){t.scheme=n.scheme,t.path=n.path.slice(),t.query=n.query,t.fragment="",t.cannotBeABaseURL=!0,c=_g;break}c="file"==n.scheme?pg:ag;continue;case ig:if("/"!=o||"/"!=i[h+1]){c=ag;continue}c=cg,h++;break;case og:if("/"==o){c=hg;break}c=mg;continue;case ag:if(t.scheme=n.scheme,o==yp)t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query=n.query;else if("/"==o||"\\"==o&&Vp(t))c=sg;else if("?"==o)t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query="",c=xg;else{if("#"!=o){t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.path.pop(),c=mg;continue}t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query=n.query,t.fragment="",c=_g}break;case sg:if(!Vp(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,c=mg;continue}c=hg}else c=cg;break;case lg:if(c=cg,"/"!=o||"/"!=u.charAt(h+1))continue;h++;break;case cg:if("/"!=o&&"\\"!=o){c=hg;continue}break;case hg:if("@"==o){f&&(u="%40"+u),f=!0,a=an(u);for(var g=0;g<a.length;g++){var v=a[g];if(":"!=v||p){var y=qp(v,Hp);p?t.password+=y:t.username+=y}else p=!0}u=""}else if(o==yp||"/"==o||"?"==o||"#"==o||"\\"==o&&Vp(t)){if(f&&""==u)return"Invalid authority";h-=an(u).length+1,u="",c=ug}else u+=o;break;case ug:case fg:if(r&&"file"==t.scheme){c=vg;continue}if(":"!=o||d){if(o==yp||"/"==o||"?"==o||"#"==o||"\\"==o&&Vp(t)){if(Vp(t)&&""==u)return"Invalid host";if(r&&""==u&&(Kp(t)||null!==t.port))return;if(s=Np(t,u))return s;if(u="",c=yg,r)return;continue}"["==o?d=!0:"]"==o&&(d=!1),u+=o}else{if(""==u)return"Invalid host";if(s=Np(t,u))return s;if(u="",c=dg,r==fg)return}break;case dg:if(!Pp.test(o)){if(o==yp||"/"==o||"?"==o||"#"==o||"\\"==o&&Vp(t)||r){if(""!=u){var m=parseInt(u,10);if(m>65535)return"Invalid port";t.port=Vp(t)&&m===Xp[t.scheme]?null:m,u=""}if(r)return;c=yg;continue}return"Invalid port"}u+=o;break;case pg:if(t.scheme="file","/"==o||"\\"==o)c=gg;else{if(!n||"file"!=n.scheme){c=mg;continue}if(o==yp)t.host=n.host,t.path=n.path.slice(),t.query=n.query;else if("?"==o)t.host=n.host,t.path=n.path.slice(),t.query="",c=xg;else{if("#"!=o){Zp(i.slice(h).join(""))||(t.host=n.host,t.path=n.path.slice(),$p(t)),c=mg;continue}t.host=n.host,t.path=n.path.slice(),t.query=n.query,t.fragment="",c=_g}}break;case gg:if("/"==o||"\\"==o){c=vg;break}n&&"file"==n.scheme&&!Zp(i.slice(h).join(""))&&(Jp(n.path[0],!0)?t.path.push(n.path[0]):t.host=n.host),c=mg;continue;case vg:if(o==yp||"/"==o||"\\"==o||"?"==o||"#"==o){if(!r&&Jp(u))c=mg;else if(""==u){if(t.host="",r)return;c=yg}else{if(s=Np(t,u))return s;if("localhost"==t.host&&(t.host=""),r)return;u="",c=yg}continue}u+=o;break;case yg:if(Vp(t)){if(c=mg,"/"!=o&&"\\"!=o)continue}else if(r||"?"!=o)if(r||"#"!=o){if(o!=yp&&(c=mg,"/"!=o))continue}else t.fragment="",c=_g;else t.query="",c=xg;break;case mg:if(o==yp||"/"==o||"\\"==o&&Vp(t)||!r&&("?"==o||"#"==o)){if(".."===(l=(l=u).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?($p(t),"/"==o||"\\"==o&&Vp(t)||t.path.push("")):tg(u)?"/"==o||"\\"==o&&Vp(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&Jp(u)&&(t.host&&(t.host=""),u=u.charAt(0)+":"),t.path.push(u)),u="","file"==t.scheme&&(o==yp||"?"==o||"#"==o))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==o?(t.query="",c=xg):"#"==o&&(t.fragment="",c=_g)}else u+=qp(o,Gp);break;case bg:"?"==o?(t.query="",c=xg):"#"==o?(t.fragment="",c=_g):o!=yp&&(t.path[0]+=qp(o,Wp));break;case xg:r||"#"!=o?o!=yp&&("'"==o&&Vp(t)?t.query+="%27":t.query+="#"==o?"%23":qp(o,Wp)):(t.fragment="",c=_g);break;case _g:o!=yp&&(t.fragment+=qp(o,Yp))}h++}},Ag=function(t){var e,r,n=dc(this,Ag,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(t),s=Ap(n,{type:"URL"});if(void 0!==i)if(i instanceof Ag)e=Sp(i);else if(r=wg(e={},String(i)))throw TypeError(r);if(r=wg(s,a,null,e))throw TypeError(r);var l=s.searchParams=new _p,c=wp(l);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(l)||null},o||(n.href=Eg.call(n),n.origin=Mg.call(n),n.protocol=kg.call(n),n.username=Tg.call(n),n.password=Pg.call(n),n.host=Ig.call(n),n.hostname=Og.call(n),n.port=jg.call(n),n.pathname=Rg.call(n),n.search=Cg.call(n),n.searchParams=Lg.call(n),n.hash=Fg.call(n))},Sg=Ag.prototype,Eg=function(){var t=Sp(this),e=t.scheme,r=t.username,n=t.password,i=t.host,o=t.port,a=t.path,s=t.query,l=t.fragment,c=e+":";return null!==i?(c+="//",Kp(t)&&(c+=r+(n?":"+n:"")+"@"),c+=zp(i),null!==o&&(c+=":"+o)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},Mg=function(){var t=Sp(this),e=t.scheme,r=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&Vp(t)?e+"://"+zp(t.host)+(null!==r?":"+r:""):"null"},kg=function(){return Sp(this).scheme+":"},Tg=function(){return Sp(this).username},Pg=function(){return Sp(this).password},Ig=function(){var t=Sp(this),e=t.host,r=t.port;return null===e?"":null===r?zp(e):zp(e)+":"+r},Og=function(){var t=Sp(this).host;return null===t?"":zp(t)},jg=function(){var t=Sp(this).port;return null===t?"":String(t)},Rg=function(){var t=Sp(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Cg=function(){var t=Sp(this).query;return t?"?"+t:""},Lg=function(){return Sp(this).searchParams},Fg=function(){var t=Sp(this).fragment;return t?"#"+t:""},Bg=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(o&&Ft(Sg,{href:Bg(Eg,(function(t){var e=Sp(this),r=String(t),n=wg(e,r);if(n)throw TypeError(n);wp(e.searchParams).updateSearchParams(e.query)})),origin:Bg(Mg),protocol:Bg(kg,(function(t){var e=Sp(this);wg(e,String(t)+":",eg)})),username:Bg(Tg,(function(t){var e=Sp(this),r=an(String(t));if(!Qp(e)){e.username="";for(var n=0;n<r.length;n++)e.username+=qp(r[n],Hp)}})),password:Bg(Pg,(function(t){var e=Sp(this),r=an(String(t));if(!Qp(e)){e.password="";for(var n=0;n<r.length;n++)e.password+=qp(r[n],Hp)}})),host:Bg(Ig,(function(t){var e=Sp(this);e.cannotBeABaseURL||wg(e,String(t),ug)})),hostname:Bg(Og,(function(t){var e=Sp(this);e.cannotBeABaseURL||wg(e,String(t),fg)})),port:Bg(jg,(function(t){var e=Sp(this);Qp(e)||(""==(t=String(t))?e.port=null:wg(e,t,dg))})),pathname:Bg(Rg,(function(t){var e=Sp(this);e.cannotBeABaseURL||(e.path=[],wg(e,t+"",yg))})),search:Bg(Cg,(function(t){var e=Sp(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",wg(e,t,xg)),wp(e.searchParams).updateSearchParams(e.query)})),searchParams:Bg(Lg),hash:Bg(Fg,(function(t){var e=Sp(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",wg(e,t,_g)):e.fragment=null}))}),tt(Sg,"toJSON",(function(){return Eg.call(this)}),{enumerable:!0}),tt(Sg,"toString",(function(){return Eg.call(this)}),{enumerable:!0}),xp){var Ng=xp.createObjectURL,Dg=xp.revokeObjectURL;Ng&&tt(Ag,"createObjectURL",(function(t){return Ng.apply(xp,arguments)})),Dg&&tt(Ag,"revokeObjectURL",(function(t){return Dg.apply(xp,arguments)}))}re(Ag,"URL"),It({global:!0,forced:!Ud,sham:!o},{URL:Ag}),It({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});e((function(t){var e=function(t){var e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r,n){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new w(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return S()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=b(a,r);if(s){if(s===c)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var h=l(t,e,r);if("normal"===h.type){if(n=r.done?"completed":"suspendedYield",h.arg===c)continue;return{value:h.arg,done:r.done}}"throw"===h.type&&(n="completed",r.method="throw",r.arg=h.arg)}}}(t,r,a),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var c={};function h(){}function u(){}function f(){}var d={};d[i]=function(){return this};var p=Object.getPrototypeOf,g=p&&p(p(A([])));g&&g!==e&&r.call(g,i)&&(d=g);var v=f.prototype=h.prototype=Object.create(d);function y(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function m(t,e){var n;this._invoke=function(i,o){function a(){return new e((function(n,a){!function n(i,o,a,s){var c=l(t[i],t,o);if("throw"!==c.type){var h=c.arg,u=h.value;return u&&"object"==typeof u&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){h.value=t,a(h)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}(i,o,n,a)}))}return n=n?n.then(a,a):a()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,c;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function A(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return u.prototype=v.constructor=f,f.constructor=u,f[a]=u.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===u||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(m.prototype),m.prototype[o]=function(){return this},t.AsyncIterator=m,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new m(s(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(v),v[a]="Generator",v[i]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=A,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;_(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:A(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}));var Ug="done";function zg(t,e){return t===e||t!=t&&e!=e}function Wg(t,e){for(var r=t.length;r--;)if(zg(t[r][0],e))return r;return-1}"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e}),"function"!=typeof Object.values&&(Object.values=function(t){let e=[];for(let r in t)e.push(t[r]);return e}),"function"!=typeof Object.keys&&(Object.values=function(t){let e=[];for(let r in t)e.push(r);return e}),"undefined"!=typeof CanvasRenderingContext2D&&null==CanvasRenderingContext2D.prototype.ellipse&&(CanvasRenderingContext2D.prototype.ellipse=function(t,e,r,n,i,o,a,s){this.save(),this.translate(t,e),this.rotate(i),this.translate(-r,-n),this.scale(r,n),this.arc(1,1,1,o,a,s),this.restore()}),function(){for(var t=0,e=["ms","moz","webkit","o"],r=0;r<e.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[e[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[r]+"CancelAnimationFrame"]||window[e[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(console.warn("requestAnimationFrame not supported"),window.requestAnimationFrame=function(e,r){var n=performance.now(),i=Math.max(0,33-(n-t)),o=window.setTimeout((function(){e(n+i)}),i);return t=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t});var Yg=Array.prototype.splice;function Gg(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Gg.prototype.clear=function(){this.__data__=[],this.size=0},Gg.prototype.delete=function(t){var e=this.__data__,r=Wg(e,t);return!(r<0)&&(r==e.length-1?e.pop():Yg.call(e,r,1),--this.size,!0)},Gg.prototype.get=function(t){var e=this.__data__,r=Wg(e,t);return r<0?void 0:e[r][1]},Gg.prototype.has=function(t){return Wg(this.__data__,t)>-1},Gg.prototype.set=function(t,e){var r=this.__data__,n=Wg(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var Hg="object"==typeof global&&global&&global.Object===Object&&global,qg="object"==typeof self&&self&&self.Object===Object&&self,Xg=Hg||qg||Function("return this")(),Vg=Xg.Symbol,Kg=Object.prototype,Qg=Kg.hasOwnProperty,Jg=Kg.toString,Zg=Vg?Vg.toStringTag:void 0;var $g=Object.prototype.toString;var tv=Vg?Vg.toStringTag:void 0;function ev(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":tv&&tv in Object(t)?function(t){var e=Qg.call(t,Zg),r=t[Zg];try{t[Zg]=void 0;var n=!0}catch(t){}var i=Jg.call(t);return n&&(e?t[Zg]=r:delete t[Zg]),i}(t):function(t){return $g.call(t)}(t)}function rv(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function nv(t){if(!rv(t))return!1;var e=ev(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var iv=Xg["__core-js_shared__"],ov=function(){var t=/[^.]+$/.exec(iv&&iv.keys&&iv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var av=Function.prototype.toString;function sv(t){if(null!=t){try{return av.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var lv=/^\[object .+?Constructor\]$/,cv=Function.prototype,hv=Object.prototype,uv=cv.toString,fv=hv.hasOwnProperty,dv=RegExp("^"+uv.call(fv).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pv(t){return!(!rv(t)||(e=t,ov&&ov in e))&&(nv(t)?dv:lv).test(sv(t));var e}function gv(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return pv(r)?r:void 0}var vv=gv(Xg,"Map"),yv=gv(Object,"create");var mv=Object.prototype.hasOwnProperty;var bv=Object.prototype.hasOwnProperty;function xv(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function _v(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function wv(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}xv.prototype.clear=function(){this.__data__=yv?yv(null):{},this.size=0},xv.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},xv.prototype.get=function(t){var e=this.__data__;if(yv){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return mv.call(e,t)?e[t]:void 0},xv.prototype.has=function(t){var e=this.__data__;return yv?void 0!==e[t]:bv.call(e,t)},xv.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=yv&&void 0===e?"__lodash_hash_undefined__":e,this},wv.prototype.clear=function(){this.size=0,this.__data__={hash:new xv,map:new(vv||Gg),string:new xv}},wv.prototype.delete=function(t){var e=_v(this,t).delete(t);return this.size-=e?1:0,e},wv.prototype.get=function(t){return _v(this,t).get(t)},wv.prototype.has=function(t){return _v(this,t).has(t)},wv.prototype.set=function(t,e){var r=_v(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function Av(t){var e=this.__data__=new Gg(t);this.size=e.size}Av.prototype.clear=function(){this.__data__=new Gg,this.size=0},Av.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Av.prototype.get=function(t){return this.__data__.get(t)},Av.prototype.has=function(t){return this.__data__.has(t)},Av.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Gg){var n=r.__data__;if(!vv||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new wv(n)}return r.set(t,e),this.size=r.size,this};function Sv(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new wv;++e<r;)this.add(t[e])}function Ev(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Mv(t,e){return t.has(e)}Sv.prototype.add=Sv.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Sv.prototype.has=function(t){return this.__data__.has(t)};function kv(t,e,r,n,i,o){var a=1&r,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var h=-1,u=!0,f=2&r?new Sv:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var d=t[h],p=e[h];if(n)var g=a?n(p,d,h,e,t,o):n(d,p,h,t,e,o);if(void 0!==g){if(g)continue;u=!1;break}if(f){if(!Ev(e,(function(t,e){if(!Mv(f,e)&&(d===t||i(d,t,r,n,o)))return f.push(e)}))){u=!1;break}}else if(d!==p&&!i(d,p,r,n,o)){u=!1;break}}return o.delete(t),o.delete(e),u}var Tv=Xg.Uint8Array;function Pv(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function Iv(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var Ov=Vg?Vg.prototype:void 0,jv=Ov?Ov.valueOf:void 0;function Rv(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var Cv=Array.isArray;function Lv(t,e,r){var n=e(t);return Cv(t)?n:Rv(n,r(t))}function Fv(){return[]}var Bv=Object.prototype.propertyIsEnumerable,Nv=Object.getOwnPropertySymbols,Dv=Nv?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}(Nv(t),(function(e){return Bv.call(t,e)})))}:Fv;function Uv(t){return null!=t&&"object"==typeof t}function zv(t){return Uv(t)&&"[object Arguments]"==ev(t)}var Wv=Object.prototype,Yv=Wv.hasOwnProperty,Gv=Wv.propertyIsEnumerable,Hv=zv(function(){return arguments}())?zv:function(t){return Uv(t)&&Yv.call(t,"callee")&&!Gv.call(t,"callee")};var qv="object"==typeof exports&&exports&&!exports.nodeType&&exports,Xv=qv&&"object"==typeof module&&module&&!module.nodeType&&module,Vv=Xv&&Xv.exports===qv?Xg.Buffer:void 0,Kv=(Vv?Vv.isBuffer:void 0)||function(){return!1},Qv=/^(?:0|[1-9]\d*)$/;function Jv(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Qv.test(t))&&t>-1&&t%1==0&&t<e}function Zv(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}var $v={};function ty(t){return function(e){return t(e)}}$v["[object Float32Array]"]=$v["[object Float64Array]"]=$v["[object Int8Array]"]=$v["[object Int16Array]"]=$v["[object Int32Array]"]=$v["[object Uint8Array]"]=$v["[object Uint8ClampedArray]"]=$v["[object Uint16Array]"]=$v["[object Uint32Array]"]=!0,$v["[object Arguments]"]=$v["[object Array]"]=$v["[object ArrayBuffer]"]=$v["[object Boolean]"]=$v["[object DataView]"]=$v["[object Date]"]=$v["[object Error]"]=$v["[object Function]"]=$v["[object Map]"]=$v["[object Number]"]=$v["[object Object]"]=$v["[object RegExp]"]=$v["[object Set]"]=$v["[object String]"]=$v["[object WeakMap]"]=!1;var ey="object"==typeof exports&&exports&&!exports.nodeType&&exports,ry=ey&&"object"==typeof module&&module&&!module.nodeType&&module,ny=ry&&ry.exports===ey&&Hg.process,iy=function(){try{var t=ry&&ry.require&&ry.require("util").types;return t||ny&&ny.binding&&ny.binding("util")}catch(t){}}(),oy=iy&&iy.isTypedArray,ay=oy?ty(oy):function(t){return Uv(t)&&Zv(t.length)&&!!$v[ev(t)]},sy=Object.prototype.hasOwnProperty;function ly(t,e){var r=Cv(t),n=!r&&Hv(t),i=!r&&!n&&Kv(t),o=!r&&!n&&!i&&ay(t),a=r||n||i||o,s=a?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],l=s.length;for(var c in t)!e&&!sy.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Jv(c,l))||s.push(c);return s}var cy=Object.prototype;function hy(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||cy)}function uy(t,e){return function(r){return t(e(r))}}var fy=uy(Object.keys,Object),dy=Object.prototype.hasOwnProperty;function py(t){if(!hy(t))return fy(t);var e=[];for(var r in Object(t))dy.call(t,r)&&"constructor"!=r&&e.push(r);return e}function gy(t){return null!=t&&Zv(t.length)&&!nv(t)}function vy(t){return gy(t)?ly(t):py(t)}function yy(t){return Lv(t,vy,Dv)}var my=Object.prototype.hasOwnProperty;var by=gv(Xg,"DataView"),xy=gv(Xg,"Promise"),_y=gv(Xg,"Set"),wy=gv(Xg,"WeakMap"),Ay=sv(by),Sy=sv(vv),Ey=sv(xy),My=sv(_y),ky=sv(wy),Ty=ev;(by&&"[object DataView]"!=Ty(new by(new ArrayBuffer(1)))||vv&&"[object Map]"!=Ty(new vv)||xy&&"[object Promise]"!=Ty(xy.resolve())||_y&&"[object Set]"!=Ty(new _y)||wy&&"[object WeakMap]"!=Ty(new wy))&&(Ty=function(t){var e=ev(t),r="[object Object]"==e?t.constructor:void 0,n=r?sv(r):"";if(n)switch(n){case Ay:return"[object DataView]";case Sy:return"[object Map]";case Ey:return"[object Promise]";case My:return"[object Set]";case ky:return"[object WeakMap]"}return e});var Py=Ty,Iy=Object.prototype.hasOwnProperty;function Oy(t,e,r,n,i,o){var a=Cv(t),s=Cv(e),l=a?"[object Array]":Py(t),c=s?"[object Array]":Py(e),h="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),u="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),f=l==c;if(f&&Kv(t)){if(!Kv(e))return!1;a=!0,h=!1}if(f&&!h)return o||(o=new Av),a||ay(t)?kv(t,e,r,n,i,o):function(t,e,r,n,i,o,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Tv(t),new Tv(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return zg(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=Pv;case"[object Set]":var l=1&n;if(s||(s=Iv),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;n|=2,a.set(t,e);var h=kv(s(t),s(e),n,i,o,a);return a.delete(t),h;case"[object Symbol]":if(jv)return jv.call(t)==jv.call(e)}return!1}(t,e,l,r,n,i,o);if(!(1&r)){var d=h&&Iy.call(t,"__wrapped__"),p=u&&Iy.call(e,"__wrapped__");if(d||p){var g=d?t.value():t,v=p?e.value():e;return o||(o=new Av),i(g,v,r,n,o)}}return!!f&&(o||(o=new Av),function(t,e,r,n,i,o){var a=1&r,s=yy(t),l=s.length;if(l!=yy(e).length&&!a)return!1;for(var c=l;c--;){var h=s[c];if(!(a?h in e:my.call(e,h)))return!1}var u=o.get(t);if(u&&o.get(e))return u==e;var f=!0;o.set(t,e),o.set(e,t);for(var d=a;++c<l;){var p=t[h=s[c]],g=e[h];if(n)var v=a?n(g,p,h,e,t,o):n(p,g,h,t,e,o);if(!(void 0===v?p===g||i(p,g,r,n,o):v)){f=!1;break}d||(d="constructor"==h)}if(f&&!d){var y=t.constructor,m=e.constructor;y==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m||(f=!1)}return o.delete(t),o.delete(e),f}(t,e,r,n,i,o))}function jy(t,e,r,n,i){return t===e||(null==t||null==e||!Uv(t)&&!Uv(e)?t!=t&&e!=e:Oy(t,e,r,n,jy,i))}function Ry(t,e){return jy(t,e)}var Cy=function(){try{var t=gv(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();function Ly(t,e,r){"__proto__"==e&&Cy?Cy(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Fy=Object.prototype.hasOwnProperty;function By(t,e,r){var n=t[e];Fy.call(t,e)&&zg(n,r)&&(void 0!==r||e in t)||Ly(t,e,r)}function Ny(t,e,r,n){var i=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=n?n(r[s],t[s],s,r,t):void 0;void 0===l&&(l=t[s]),i?Ly(r,s,l):By(r,s,l)}return r}function Dy(t){return t}function Uy(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var zy=Math.max;function Wy(t){return function(){return t}}var Yy=Cy?function(t,e){return Cy(t,"toString",{configurable:!0,enumerable:!1,value:Wy(e),writable:!0})}:Dy,Gy=Date.now;var Hy=function(t){var e=0,r=0;return function(){var n=Gy(),i=16-(n-r);if(r=n,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Yy);function qy(t,e){return Hy(function(t,e,r){return e=zy(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=zy(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(a),Uy(t,this,s)}}(t,e,Dy),t+"")}function Xy(t,e,r){if(!rv(r))return!1;var n=typeof e;return!!("number"==n?gy(r)&&Jv(e,r.length):"string"==n&&e in r)&&zg(r[e],t)}var Vy=Object.prototype.hasOwnProperty;function Ky(t){if(!rv(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=hy(t),r=[];for(var n in t)("constructor"!=n||!e&&Vy.call(t,n))&&r.push(n);return r}function Qy(t){return gy(t)?ly(t,!0):Ky(t)}var Jy,Zy=(Jy=function(t,e,r,n){Ny(e,Qy(e),t,n)},qy((function(t,e){var r=-1,n=e.length,i=n>1?e[n-1]:void 0,o=n>2?e[2]:void 0;for(i=Jy.length>3&&"function"==typeof i?(n--,i):void 0,o&&Xy(e[0],e[1],o)&&(i=n<3?void 0:i,n=1),t=Object(t);++r<n;){var a=e[r];a&&Jy(t,a,r,i)}return t}))),$y=uy(Object.getPrototypeOf,Object),tm=Function.prototype,em=Object.prototype,rm=tm.toString,nm=em.hasOwnProperty,im=rm.call(Object);function om(t){if(!Uv(t))return!1;var e=ev(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!function(t){if(!Uv(t)||"[object Object]"!=ev(t))return!1;var e=$y(t);if(null===e)return!0;var r=nm.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&rm.call(r)==im}(t)}var am=qy((function(t,e){try{return Uy(t,void 0,e)}catch(t){return om(t)?t:new Error(t)}}));function sm(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var lm=Object.prototype,cm=lm.hasOwnProperty;function hm(t,e,r,n){return void 0===t||zg(t,lm[r])&&!cm.call(n,r)?e:t}var um={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function fm(t){return"\\"+um[t]}var dm=/<%=([\s\S]+?)%>/g;var pm,gm=(pm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(t){return null==pm?void 0:pm[t]});function vm(t){return"symbol"==typeof t||Uv(t)&&"[object Symbol]"==ev(t)}var ym=Vg?Vg.prototype:void 0,mm=ym?ym.toString:void 0;function bm(t){if("string"==typeof t)return t;if(Cv(t))return sm(t,bm)+"";if(vm(t))return mm?mm.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function xm(t){return null==t?"":bm(t)}var _m=/[&<>"']/g,wm=RegExp(_m.source);var Am={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:dm,variable:"",imports:{_:{escape:function(t){return(t=xm(t))&&wm.test(t)?t.replace(_m,gm):t}}}},Sm=/\b__p \+= '';/g,Em=/\b(__p \+=) '' \+/g,Mm=/(__e\(.*?\)|\b__t\)) \+\n'';/g,km=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tm=/($^)/,Pm=/['\n\r\u2028\u2029\\]/g,Im=Object.prototype.hasOwnProperty;function Om(t,e,r,n){var i=e.get("class");return!!i&&(i.split(" ")||[]).indexOf(t.substr(1))>=0}function jm(t,e,r,n){return t==e.get("type")}function Rm(t,e,r,n){if("(all)"==t)return!0;switch(t.charAt(0)){case"#":return function(t,e,r,n){return t.substr(1)==e.get("id")}(t,e);case".":return Om(t,e);case"(":return function(t,e,r,n){switch(t){case"(all)":return!0;case"(self)":return n===e;case"(root)":return!n.parent&&n===e;case"(descendant)":return n!==e;case"(child)":return n===e.parent;default:return!1}}(t,e,0,n);default:return jm(t,e)}}function Cm(t,e,r,n){switch(t){case"(all)":return!0;case"(parent)":return r&&r.parent===e;case"(child)":case"(children)":return r&&r===e.parent;case"(sibling)":case"(siblings)":return r&&r.parent===e.parent&&r!==e;default:return!1}}function Lm(t,e,r){if("(root)"==t)return[e];if("(self)"==t)return r?[r]:[];var n;switch(t.charAt(0)){case"#":let r=e.root.findById(t.substr(1));return r?[r]:[];case".":n=Om;break;case"(":n=Cm;break;default:n=jm}return function t(e,r,n,i,o,a){return e(r,n,i,o)&&a.push(n),n.components&&n.components.forEach(n=>{t(e,r,n,i,o,a)}),a}(n,t,e,r,e,[])}var Fm="object"==typeof exports&&exports&&!exports.nodeType&&exports,Bm=Fm&&"object"==typeof module&&module&&!module.nodeType&&module,Nm=Bm&&Bm.exports===Fm?Xg.Buffer:void 0,Dm=Nm?Nm.allocUnsafe:void 0;var Um=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Rv(e,Dv(t)),t=$y(t);return e}:Fv;function zm(t){return Lv(t,Qy,Um)}var Wm=Object.prototype.hasOwnProperty;function Ym(t){var e=new t.constructor(t.byteLength);return new Tv(e).set(new Tv(t)),e}var Gm=/\w*$/;var Hm=Vg?Vg.prototype:void 0,qm=Hm?Hm.valueOf:void 0;function Xm(t,e,r){var n,i=t.constructor;switch(e){case"[object ArrayBuffer]":return Ym(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return function(t,e){var r=e?Ym(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?Ym(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,Gm.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Set]":return new i;case"[object Symbol]":return n=t,qm?Object(qm.call(n)):{}}}var Vm=Object.create,Km=function(){function t(){}return function(e){if(!rv(e))return{};if(Vm)return Vm(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var Qm=iy&&iy.isMap,Jm=Qm?ty(Qm):function(t){return Uv(t)&&"[object Map]"==Py(t)};var Zm=iy&&iy.isSet,$m=Zm?ty(Zm):function(t){return Uv(t)&&"[object Set]"==Py(t)},tb={};function eb(t,e,r,n,i,o){var a,s=1&e,l=2&e,c=4&e;if(r&&(a=i?r(t,n,i,o):r(t)),void 0!==a)return a;if(!rv(t))return t;var h=Cv(t);if(h){if(a=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Wm.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!s)return function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(t,a)}else{var u=Py(t),f="[object Function]"==u||"[object GeneratorFunction]"==u;if(Kv(t))return function(t,e){if(e)return t.slice();var r=t.length,n=Dm?Dm(r):new t.constructor(r);return t.copy(n),n}(t,s);if("[object Object]"==u||"[object Arguments]"==u||f&&!i){if(a=l||f?{}:function(t){return"function"!=typeof t.constructor||hy(t)?{}:Km($y(t))}(t),!s)return l?function(t,e){return Ny(t,Um(t),e)}(t,function(t,e){return t&&Ny(e,Qy(e),t)}(a,t)):function(t,e){return Ny(t,Dv(t),e)}(t,function(t,e){return t&&Ny(e,vy(e),t)}(a,t))}else{if(!tb[u])return i?t:{};a=Xm(t,u,s)}}o||(o=new Av);var d=o.get(t);if(d)return d;o.set(t,a),$m(t)?t.forEach((function(n){a.add(eb(n,e,r,n,t,o))})):Jm(t)&&t.forEach((function(n,i){a.set(i,eb(n,e,r,i,t,o))}));var p=c?l?zm:yy:l?keysIn:vy,g=h?void 0:p(t);return function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););}(g||t,(function(n,i){g&&(n=t[i=n]),By(a,i,eb(n,e,r,i,t,o))})),a}tb["[object Arguments]"]=tb["[object Array]"]=tb["[object ArrayBuffer]"]=tb["[object DataView]"]=tb["[object Boolean]"]=tb["[object Date]"]=tb["[object Float32Array]"]=tb["[object Float64Array]"]=tb["[object Int8Array]"]=tb["[object Int16Array]"]=tb["[object Int32Array]"]=tb["[object Map]"]=tb["[object Number]"]=tb["[object Object]"]=tb["[object RegExp]"]=tb["[object Set]"]=tb["[object String]"]=tb["[object Symbol]"]=tb["[object Uint8Array]"]=tb["[object Uint8ClampedArray]"]=tb["[object Uint16Array]"]=tb["[object Uint32Array]"]=!0,tb["[object Error]"]=tb["[object Function]"]=tb["[object WeakMap]"]=!1;function rb(t){return eb(t,4)}var nb=function(){return Xg.Date.now()},ib=/^\s+|\s+$/g,ob=/^[-+]0x[0-9a-f]+$/i,ab=/^0b[01]+$/i,sb=/^0o[0-7]+$/i,lb=parseInt;function cb(t){if("number"==typeof t)return t;if(vm(t))return NaN;if(rv(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=rv(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ib,"");var r=ab.test(t);return r||sb.test(t)?lb(t.slice(2),r?2:8):ob.test(t)?NaN:+t}var hb=Math.max,ub=Math.min;function fb(t,e,r){var n,i,o,a,s,l,c=0,h=!1,u=!1,f=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var r=n,o=i;return n=i=void 0,c=e,a=t.apply(o,r)}function p(t){return c=t,s=setTimeout(v,e),h?d(t):a}function g(t){var r=t-l;return void 0===l||r>=e||r<0||u&&t-c>=o}function v(){var t=nb();if(g(t))return y(t);s=setTimeout(v,function(t){var r=e-(t-l);return u?ub(r,o-(t-c)):r}(t))}function y(t){return s=void 0,f&&n?d(t):(n=i=void 0,a)}function m(){var t=nb(),r=g(t);if(n=arguments,i=this,l=t,r){if(void 0===s)return p(l);if(u)return clearTimeout(s),s=setTimeout(v,e),d(l)}return void 0===s&&(s=setTimeout(v,e)),a}return e=cb(e)||0,rv(r)&&(h=!!r.leading,o=(u="maxWait"in r)?hb(cb(r.maxWait)||0,e):o,f="trailing"in r?!!r.trailing:f),m.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=l=i=s=void 0},m.flush=function(){return void 0===s?a:y(nb())},m}function db(t){var e=function(t){return t?(t=cb(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}(t),r=e%1;return e==e?r?e-r:e:0}function pb(t){return function(t,e){var r;if("function"!=typeof e)throw new TypeError("Expected a function");return t=db(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=void 0),r}}(2,t)}var gb=Object.prototype.hasOwnProperty;function vb(t){if(null==t)return!0;if(gy(t)&&(Cv(t)||"string"==typeof t||"function"==typeof t.splice||Kv(t)||ay(t)||Hv(t)))return!t.length;var e=Py(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(hy(t))return!py(t).length;for(var r in t)if(gb.call(t,r))return!1;return!0}var yb=0;function mb(t){for(;t&&"object"==typeof t;){let e=t;for(let e in t){t=t[e];break}if(t===e){t=void 0;break}}return t}var bb=Object.freeze({__proto__:null,insertAt:function(t,e){return this.__collection__?(-1==(t=this.__collection__.indexOf(e))&&this.__collection__.splice(t,0,e),this):this},append:function(t){return this.__collection__||(this.__collection__=[]),-1==this.__collection__.indexOf(t)&&this.__collection__.push(t),this},prepend:function(t){return this.__collection__||(this.__collection__=[]),-1==this.__collection__.indexOf(t)&&this.__collection__.unshift(t),this},remove:function(t){if(!this.__collection__)return this;var e=this.__collection__.indexOf(t);return e>=0&&this.__collection__.splice(e,1),this},getAt:function(t){if(this.__collection__)return this.__collection__[t]},forEach:function(t,e){this.__collection__&&this.__collection__.forEach(t,e)},indexOf:function(t){if(this.__collection__)return this.__collection__.indexOf(t)},size:function(){return this.__collection__?this.__collection__.length:0},clear:function(){this.__collection__=[]},moveForward:function(t){var e=this.indexOf(t);-1!=e&&0!=e&&(this.__collection__[e]=this.__collection__[e-1],this.__collection__[e-1]=t)},moveBackward:function(t){var e=this.indexOf(t);-1!=e&&e!=this.size()-1&&(this.__collection__[e]=this.__collection__[e+1],this.__collection__[e+1]=t)},moveToHead:function(t){var e=this.indexOf(t);if(-1!=e&&0!=e){var r=this.__collection__.splice(0,e),n=this.__collection__.splice(1);this.__collection__=this.__collection__.concat(r,n)}},moveToTail:function(t){var e=this.indexOf(t);if(-1!=e&&e!=this.size()-1){var r=this.__collection__.splice(0,e),n=this.__collection__.splice(1);this.__collection__=r.concat(n,this.__collection__)}}});function xb(){}xb.prototype=bb;var _b=/\s+/;function wb(t,e,r,n){if(!r)return!0;if("object"==typeof r){for(let n in r){let i=r[n];t[e].apply(t,[n,i])}return!1}return!_b.test(r)||(r.split(_b).forEach(r=>t[e].apply(t,[r].concat(n))),!1)}const Ab=["on","off","once","delegate_on","delegate_off","trigger","listenTo"];var Sb={withEvent:function(){Ab.forEach(t=>this[t]=Sb[t])},on:function(t,e,r){return wb(this,"on",t,[e,r])&&e?(this._listeners||(this._listeners={}),(this._listeners[t]||(this._listeners[t]=[])).push({callback:e,context:r,ctx:r||this}),this):this},once:function(t,e,r){if(!wb(this,"once",t,[e,r])||!e)return this;var n=this,i=pb((function(){n.off(t,i),e.apply(n,arguments)}));i._callback=e,this.on(t,i,r)},off:function(t,e,r){if(!this._listeners||!wb(this,"off",t,[e,r]))return this;if(!t&&!e&&!r)return this._listeners=void 0,this;var n;n=t?[t]:Object.keys(this._listeners);for(let t=0;t<n.length;t++){let i=n[t],o=this._listeners[i];if(o){let t=[];if(this._listeners[i]=t,e||r)for(let n=0;n<o.length;n++){let i=o[n];(e&&e!==i.callback&&e!==i.callback._callback||r&&r!==i.context)&&t.push(i)}t.length||delete this._listeners[i]}}return this},delegate_on:function(t){return this._delegators||(this._delegators=new xb),this._delegators.append(t),this},delegate_off:function(t){return this._delegators?(this._delegators.remove(t),this):this},delegate:function(){if(this._delegators&&this._delegators.size()>0&&Mb(this._delegators,arguments),!this._listeners)return this;var t=arguments.length-1,e=arguments[t];arguments[t]={origin:e.origin,name:e.name,deliverer:this};var r=this._listeners[e.name],n=this._listeners["(all)"];return r&&Eb(r,arguments),n&&Eb(n,arguments),this},trigger:function(t){var e=[].slice.call(arguments,1);if(e.push({origin:this,name:t,deliverer:this}),this._delegators&&this._delegators.size()>0&&Mb(this._delegators,e),!this._listeners)return this;if(!wb(this,"trigger",t,e))return this;var r=this._listeners[t],n=this._listeners["(all)"];return r&&Eb(r,e),n&&Eb(n,e),this},stopListening:function(t,e,r){var n=this._listeningTo;if(!n)return this;var i=!e&&!r;r||"object"!=typeof e||(r=this),t&&((n={})[t._listenId]=t);for(let t in n){let o=n[t];o.off(e,r,this),(i||vb(o._events))&&delete this._listeningTo[t]}return this}};function Eb(t,e){t.forEach(t=>t.callback.apply(t.ctx,e))}function Mb(t,e){t.forEach(t=>Sb.delegate.apply(t,e))}var kb={listenTo:"on",listenToOnce:"once"};for(let t in kb){var Tb=kb[t];Sb[t]=function(t,e,r){this._listeningTo||(this._listeningTo={});var n=this._listeningTo;return t._listenId||(t._listenId=`${"l"||""}${++yb}`),n[t._listenId]=t,r||"object"!=typeof e||(r=this),t[Tb](e,r,this),this}}function Pb(t,e){if(e instanceof Array)e.forEach(e=>Pb(t,e));else{if(t.mixedIn=t.hasOwnProperty("mixedIn")?t.mixedIn:[],t.mixingIn=t.hasOwnProperty("mixingIn")?t.mixingIn:[],t.mixedIn.indexOf(e)>=0)return t;if(t.mixingIn.indexOf(e)>=0)throw new Error(`found cyclic dependencies between ${t.mixingIn}`);t.mixingIn.push(e),e.call(t),t.mixingIn.pop(),t.mixedIn.push(e)}return t}var Ib={linear:function(t){return t},quad:function(t){return Math.pow(t,2)},circ:function(t){return 1-Math.sin(Math.acos(t))},back:function(t,e={x:1.5}){return Math.pow(t,2)*((e.x+1)*t-e.x)},bounce:function(t){for(let e=0,r=1;;e+=r,r/=2)if(t>=(7-4*e)/11)return-Math.pow((11-6*e-11*t)/4,2)+Math.pow(r,2)},elastic:function(t,e={x:1.5}){return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e.x/3*t)}};class Ob{constructor(t,e){this.client=t,this.config=e,this._started=!1;var{delta:r="linear",options:n,ease:i}=this.config;"string"==typeof r&&(r=Ib[r]),this.delta="out"==i?function(t,e){return function(r){return 1-t(1-r,e)}}(r,n):"inout"==i?function(t,e){return function(r){return r<.5?t(2*r,e)/2:(2-t(2*(1-r),e))/2}}(r,n):r,this.init()}dispose(){this.stop(),delete this.client}init(){}start(){if(!this._started){var{duration:t=2e3,delay:e=0,repeat:r=!1}=this.config;this._started=!0;var n=0,i=t+e,o=()=>{if(!this._started)return;0==n&&(n=performance.now(),this.client.touch());let a=performance.now()-n,s=Math.max(a%i-e,0)/t;this.step(this.delta(s)),this.client&&this.client.invalidate(),!(a>=i)||r&&this._started||(this.step(1),this.stop(),n=0),this._started&&(this._raf=requestAnimationFrame(o))};this._raf=requestAnimationFrame(o)}}stop(){this._raf&&cancelAnimationFrame(this._raf),this._raf=null,this._started=!1}get started(){return this._started}set started(t){this.started!=!!t&&(t?this.start():this.stop())}}var jb={rotation:class extends Ob{step(t){var{theta:e=6.28}=this.config;this.client.delta("theta",t*e)}},vibration:class extends Ob{step(t){var{theta:e=.2617993877991494}=this.config,r=4*e,n=t*r;t<1/4?n*=-1:t<3/4?n-=2*e:n=r-n,this.client.delta("theta",n)}},heartbeat:class extends Ob{step(t){var e,{scale:r=1.3}=this.config,n=2*(r-1);e=t<.5?1+n*t:1+(1-t)*n,this.client.delta("sx",e),this.client.delta("sy",e)}},moving:class extends Ob{step(t){var{x:e=0,y:r=0}=this.config;this.client.delta("tx",t*e),this.client.delta("ty",t*r)}},outline:class extends Ob{step(t){var{rideOn:e}=this.config,r=this.client;if(e&&r&&r.root){var n=r.center,i=r.root.findById(e);if(i){var o=i.outline(t);n=r.transcoordS2T(n.x,n.y);i&&(r.delta("tx",o.x-n.x),r.delta("ty",o.y-n.y))}}}},fade:class extends Ob{step(t){var e,{startAlpha:r=1,endAlpha:n=0}=this.config,i=Math.max(Math.min(r,n,1),0),o=2*(Math.min(Math.max(r,n,1),1)-i);e=t<.5?o*t:(1-t)*o,this.client.delta("fade",e)}}};const Rb={x:1,y:1};function Cb(t,e,r){var{left:n=0,top:i=0,blurSize:o=0,color:a="transparent"}=e,s=r.rootModel.get("scale")||Rb;t.shadowOffsetX=n*s.x,t.shadowOffsetY=i*s.y,t.shadowBlur=o*s.x,t.shadowColor=a}var Lb={gradation:function(t,e,r){var{type:n,subType:i,from:o,to:a,colors:s}=r;switch(i){case"linear":var l=e.createLinearGradient(o.x,o.y,a.x,a.y);break;case"radial":l=e.createRadialGradient(o.x,o.y,o.r,a.x,a.y,a.r);break;default:l=e.createLinearGradient(o.x,o.y,a.x,a.y)}s&&(s.forEach((function(t){l.addColorStop(t.endPoint,t.color)})),e.fillStyle=l,e.fill())},shadow:Cb};var Fb,Bb=(...t)=>{var e=[];t.forEach(t=>t&&t.stack&&e.push(t.stack)),console.error("[ERROR]",...t,e.join(" "))},Nb=(...t)=>{var e=[];t.forEach(t=>t&&t.stack&&e.push(t.stack)),console.warn("[WARN]",...t,e.join(" "))},Db=(...t)=>console.log("[DEBUG]",...t);function Ub(t,e,r){var n=t.__lookupGetter__(e);n?r?t.__defineGetter__(e,(function(){return void 0===this.__cache__[e]&&(this.__cache__[e]=n.call(this)),rb(this.__cache__[e])})):t.__defineGetter__(e,(function(){return void 0===this.__cache__[e]&&(this.__cache__[e]=n.call(this)),this.__cache__[e]})):Bb(`${e} is not defined in ${t.constructor.name}`)}function zb(t){var{duration:e=1e3,delay:r=30,step:n,delta:i,ease:o,options:a,repeat:s=!1}=t;"string"==typeof i&&(i=Ib[i]),"out"==o?i=function(t,e){return function(r){return 1-t(1-r,e)}}(i,a):"inout"==o&&(i=function(t,e){return function(r){return r<.5?t(2*r,e)/2:(2-t(2*(1-r),e))/2}}(i,a));var l=!1;return{start:function(){if(l)return this;l=!0;var t=0,r=()=>{if(l){0==t&&(t=performance.now());var o=(performance.now()-t)/e,c=s?o%1:Math.min(o,1);n(i(c,a)),!(o>=1)||s&&l||(this.stop(),t=0),l&&requestAnimationFrame(r)}};return requestAnimationFrame(r),this},stop:function(){return l=!1,this}}}function Wb(t,e,r,n,i){var{alpha:o=1}=n,a=i.fillStyle;if(t.globalAlpha*=o,a)if("string"==typeof a)t.fillStyle=a,t.fill();else if("object"==typeof a)if("gradient"==a.type){t.translate(r.x,r.y);let n,{width:i,height:o}=e;if("linear"==a.gradientType){let e=3.141592653589793,r=a.rotation;if(r>=.436332&&r<=1.13446||r>=2.00713&&r<=2.70526||r>=3.57792&&r<=4.27606||r>=5.14872&&r<=5.84685){let a=Math.sqrt(Math.pow((i-4)/2,2)+Math.pow((o-4)/2,2));a-=a-(i+o)/3,n=t.createLinearGradient(a*Math.cos(r+e),a*Math.sin(r+e),a*Math.cos(r),a*Math.sin(r))}else n=t.createLinearGradient((i-4)/2*Math.cos(r+e),(o-4)/2*Math.sin(r+e),(i-4)/2*Math.cos(r),(o-4)/2*Math.sin(r))}else if("radial"==a.gradientType){let e=.95*Math.sqrt(Math.pow((i-4)/2,2)+Math.pow((o-4)/2,2));switch(a.center){case"center":n=t.createRadialGradient(0,0,0,0,0,e);break;case"left-top":n=t.createRadialGradient(-i/2,-o/2,0,-i/2,-o/2,2*e);break;case"right-top":n=t.createRadialGradient(i/2,-o/2,0,i/2,-o/2,2*e);break;case"left-bottom":n=t.createRadialGradient(-i/2,o/2,0,-i/2,o/2,2*e);break;case"right-bottom":n=t.createRadialGradient(i/2,o/2,0,i/2,o/2,2*e);break;default:n=t.createRadialGradient(0,0,0,0,0,e)}}a.colorStops.forEach(t=>{if(t.position>=0&&t.position<=1)try{n.addColorStop(t.position,t.color)}catch(e){Nb("Invalid Color for colorstop : ",t.color),n.addColorStop(t.position,"#fff")}}),t.fillStyle=n,t.fill(),t.translate(-r.x,-r.y)}else if("pattern"==a.type&&a.image){i.prepareFillIf(!i._pattern_image_origin);var s=i._pattern_image;if(!s)return;let r=0,n=0,o=0,l=0,c=e.left,h=e.top;if(!a.fitPattern){switch(r=a.offsetX,n=a.offsetY,a.align){case"center":o=e.width/2-(a.width?a.width/2:0),l=e.height/2+(a.height?a.height/2:0);break;case"left-top":break;case"left-bottom":l=a.height?e.height%a.height:e.height;break;case"right-top":o=a.width?e.width%a.width:e.width;break;case"right-bottom":o=a.width?e.width%a.width:e.width,l=a.height?e.height%a.height:e.height;break;case"left":l=e.height/2+(a.height?a.height/2:0);break;case"right":o=a.width?e.width%a.width:e.width,l=e.height/2+(a.height?a.height/2:0);break;case"top":o=e.width/2-(a.width?a.width/2:0);break;case"bottom":o=e.width/2-(a.width?a.width/2:0),l=a.height?e.height%a.height:e.height}c+=r+o,h+=n+l}t.translate(c,h),a.fitPattern?Math.abs((s.width-e.width)*(s.height-e.height))>1?(delete i._pattern_image,delete i._pattern_image_origin):t.fillStyle=t.createPattern(s,"no-repeat"):t.fillStyle=t.createPattern(s,"repeat"),t.fill(),t.translate(-c,-h)}}function Yb(t,e,r){var{strokeStyle:n,lineDash:i,lineWidth:o,lineCap:a,lineJoin:s,alpha:l}=e;if(n&&0!=o){if(a&&(t.lineCap=a),i){var c="round"==a;switch(i){case"solid":i=[0,0];break;case"round-dot":i=c?[0,2*o]:[o,o];break;case"square-dot":i=c?[o,2*o]:[2*o,o];break;case"dash":i=c?[3*o,2.5*o]:[4*o,1.5*o];break;case"dash-dot":i=c?[3*o,3*o,0,3*o]:[4*o,2*o,o,2*o];break;case"long-dash":i=c?[5*o,4*o]:[6*o,3*o];break;case"long-dash-dot":i=c?[5*o,3*o,0,3*o]:[6*o,2*o,o,2*o];break;case"long-dash-dot-dot":i=c?[5*o,2*o,0,2*o,0,2*o]:[6*o,o,o,o,o,o]}t.setLineDash(i)}t.globalAlpha*=l,t.strokeStyle=n,t.lineWidth=o,t.lineJoin=s,t.stroke()}}Fb="undefined"==typeof document?function(t,e){return new Canvas(t,e)}:function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r};const Gb={},Hb=0,qb=1,Xb=2,Vb=30,Kb="undefined"==typeof window?1:window.devicePixelRatio||(window.matchMedia&&window.matchMedia("(min-resolution: 2dppx), (-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches?2:1)||1,Qb=["mousemove","mouseup","mousedown","mouseout","wheel","click","touchstart","touchmove","touchend","dblclick"],Jb=["keydown","keyup"],Zb={ALPHA:1,FONT_SIZE:15,FONT_FAMILY:"serif",FONT_COLOR:"black",TEXT_ALIGN:"center",TEXT_BASELINE:"middle",TEXT_WRAP:!1,BOLD:!1,ITALIC:!1,STROKE_STYLE:"#999",LINE_DASH:"solid"};function $b(t,e,r){if(e.length<2)return e;for(var n=2;n<e.length;n++){var i=e.substring(0,n);if(!(t.measureText(i).width<r))break}return e.substring(0,n-1)}function tx(t,e,r,n){var i=String(e).split("\n");return n?[].concat.apply([],i.map(e=>function(t,e,r){var n,i,o=e.split(" "),a=[],s=[];for(n=0,i=1;i<=o.length;i++)if(s=o.slice(n,i),t.measureText(s.join(" ")).width>r){if(i-n==1){let e=$b(t,s[0],r);a.push([e]),o.splice(n,1,e,s[0].substring(e.length))}else{for(;""==o[i-1];)i++;a.push(o.slice(n,--i))}n=i}return i-n>1&&a.push(s),0==a.length&&a.push([""]),a}(t,e,r))):i.map(t=>t.split(" "))}function ex(t,e,r,n,i){if(!n)return[];t.save(),t.font=r;var o=tx(t,n,e,!!i);return t.restore(),o}function rx(t){var{fontFamily:e=Zb.FONT_FAMILY,bold:r=Zb.BOLD,italic:n=Zb.ITALIC,fontSize:i=Zb.FONT_SIZE}=t,o=[];return r&&o.push("bold"),n&&o.push("italic"),o.push(i+"px"),o.push(e),o.join(" ")}function nx(t,e,r,n){var{alpha:i=Zb.FONT_COLOR,fontColor:o=Zb.FONT_COLOR,textAlign:a=Zb.TEXT_ALIGN,textBaseline:s=Zb.TEXT_BASELINE,fontSize:l=Zb.FONT_SIZE,lineHeight:c=1.2*l}=n;t.save(),t.beginPath();var{left:h,top:u,width:f,height:d}=e;t.font=rx(n);var p,g,v=r.length*c;switch(s){case"top":p=u,t.textBaseline="top";break;case"bottom":p=u+d-v+c,t.textBaseline="bottom";break;case"middle":default:p=u+d/2-v/2+c/2,t.textBaseline="middle"}switch(a){case"left":g=h,t.textAlign="left";break;case"right":g=h+f,t.textAlign="right";break;case"justify":g=h,t.textAlign="left";break;case"center":default:g=h+f/2,t.textAlign="center"}t.globalAlpha*=i,t.fillStyle=o,"justify"!=a?r.forEach((e,r)=>{t.fillText(e.join(" "),g,p+r*c)}):r.forEach((e,r)=>{let n=p+r*c;if(1==e.length)t.fillText(e[0],g,n);else{let r=e.map(e=>t.measureText(e).width),i=r.reduce((t,e)=>t+e,0),o=(f-i)/(e.length-1),a=g;e.forEach((e,i)=>{t.fillText(e,a,n),a+=r[i]+o})}}),t.restore()}function ix(t,e,r={x:0,y:0},n=0,i={x:1,y:1}){return t-=r.x,e-=r.y,{x:(t*Math.cos(-n)-e*Math.sin(-n)+r.x)/i.x,y:(t*Math.sin(-n)+e*Math.cos(-n)+r.y)/i.y}}function ox(t,e,r={x:0,y:0},n=0,i={x:1,y:1}){return t-=r.x,e-=r.y,{x:(t*Math.cos(n)-e*Math.sin(n)+r.x)*i.x,y:(t*Math.sin(n)+e*Math.cos(n)+r.y)*i.y}}const ax=function(t){return t};function sx(t){var e=t.indexOf("||"),r="",n="";-1!=e&&(r=t,n=t.substring(e+2,t.length-1).trim(),t=t.replace(t.substring(e,t.length-1),"").trim());var i=t.substr(2,t.length-3).trim().replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".").filter(t=>!!t.trim()),o=i.slice(1);return{defaultValue:n,match:t,originText:r||t,target:i[0],accessor:o.length>0?function(t){return o.reduce((t,e)=>t?t[e]:void 0,t)}:ax}}function lx(t,e,r){if(t){var n=r||mb,i=String(t),o=(i.match(/#{[^}]*}/gi)||[]).map(t=>sx(t)),a=(i.match(/\${[^}]*}/gi)||[]).map(t=>sx(t));if(0!=o.length||0!=a.length)return function(){var t=i;return o.forEach(r=>{let i=n(r.accessor(e.getState(r.target)));t=t.replace(r.originText,void 0===i?r.defaultValue||"":i)}),a.forEach(r=>{let i=e.root.findById(r.target),o=n(r.accessor(i&&i.data));t=t.replace(r.originText,void 0===o?r.defaultValue||"":o)}),t}}}function cx(t){var e=mb(t);return null==e?"":String(e)}function hx(t){return Number(mb(t))}function ux(t){return t}function fx(t){return cx(t)}function dx(t){return hx(t)}function px(t){if(this.param)return t=cx(t),this.param.hasOwnProperty(t)?this.param[t]:this.param.default}function gx(t){var{param:e}=this;if(e){for(let r in e){let[n,i]=r.split("~"),o=!!n,a=!!i;if(n=parseFloat(n),i=parseFloat(i),t=hx(t),o&&!a&&t>=n)return e[r];if(!o&&a&&t<n)return e[r];if(t>=n&&t<i)return e[r]}return e.default}}function vx(t){return hx(t)*Math.PI/180}function yx(){}function mx(t,e,r,n,i){switch(r){case"value":return"text"===i||"string"===i?fx.bind(t):"number"===i?dx.bind(t):ux.bind(e);case"map":return px.bind(t);case"range":return gx.bind(t);case"radian":return vx.bind(t);case"eval":return function(t){try{return new Function("value","targets",t)}catch(t){return Bb(t),yx}}(n).bind(e);default:return ux.bind(e)}}const bx=function(t){return t};class xx{constructor(t,e){this.owner=e,this.model=t}dispose(){delete this._model,delete this.owner,delete this.evaluator,delete this.accessor}get model(){return this._model}set model(t){var{target:e,property:r,rule:n,param:i,accessor:o}=t;this._model=t,this.evaluator=mx(this,this.owner,n,i,function(t){switch(t){case"ref":case"fillStyle":case"strokeStyle":return"string";default:return}}(r)),this.accessor=function(t){if(!t)return bx;var e=String(t).trim().replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".").filter(t=>!!t.trim());return e.length>0?function(t){return e.reduce((t,e)=>t?t[e]:void 0,t)}:bx}(o)}get target(){return this.model.target}get property(){return this.model.property}get param(){return this.model.param}}function _x(){this.mappings&&this.mappings.forEach(t=>{try{var{target:e,property:r,accessor:n}=t;if(n=n(this.data),"(root)"==(e=e.trim())||"(key)"==e){if(null==n)return;let e=Object.keys(n||{}).map(t=>this.root.findOrCreate(t)).filter(t=>!!t);e.length>0&&e.forEach(e=>e[r]=t.evaluator(n[e.get("id")],[e]))}else if(e.startsWith("[")){if(null==n)return;if(!e.endsWith("]"))throw String("mapping target should end with ']' to designate property-id.("+e+")");var i=e.substring(1,e.length-1);if(n instanceof Array)n.forEach(e=>{let n=e[i];if(n){let i=this.root.findOrCreate(n);i&&(i[r]=t.evaluator(e,[i]))}});else{if(!(n instanceof Object))throw String("mapping data should be an object to target property-id.("+n+")");{let e=n[i];if(e){let i=this.root.findOrCreate(e);i&&(i[r]=t.evaluator(n,[i]))}}}}else{let i=this.root.findAll(e,this);if(i.length>0){let e=t.evaluator(n,i);i.forEach(t=>t[r]=e)}}}catch(e){Bb(e,this,t)}})}function wx(t){var e=t.element,r=t.fillStyle,n=e.style;if(n.background="",r)if("string"==typeof r)n.backgroundColor=r;else switch(r.type){case"pattern":n.backgroundImage="url("+r.image+")",r.fitPattern?n.backgroundSize="100% 100%":r.width||r.height?n.backgroundSize=`${r.width?r.width+"px":"auto"} ${r.height?r.height+"px":"auto"}`:n.backgroundSize="contain";break;case"gradient":n.background=function(t,e){var r=e.colorStops,n=e.gradientType;if(r instanceof Array&&r.length>0)switch(n){case"radial":let n=e.center||"center";return"radial-gradient(farthest-corner at "+function(t,e){var{width:r,height:n}=t.bounds;switch(e){case"center":return[r/2,n/2];case"left-top":return[0,0];case"right-top":return[r,0];case"left-bottom":return[0,n];default:return[r,n]}}(t,n).map(t=>t+"px").join(" ")+","+r.map(t=>`${t.color} ${100*t.position}%`).join(",")+")";case"linear":return"linear-gradient("+(180*(e.rotation||0)/3.141592653589793+90+"deg")+", "+r.map(t=>`${t.color} ${100*t.position}%`).join(",")+")"}return""}(t,r)}}const Ax={x:1,y:1},Sx={x:0,y:0},Ex={boxSizing:"border-box",margin:"0px",position:"absolute",outline:"none"};function Mx(t){var{id:e,scale:r=Ax,translate:n=Sx,bold:i,italic:o,fontFamily:a="",textAlign:s,textBaseline:l,paddingTop:c=0,paddingBottom:h=0,paddingLeft:u=0,paddingRight:f=0,fontSize:d=Zb.FONT_SIZE,lineWidth:p=0,lineDash:g}=t.state,v=t.state.class,{strokeStyle:y,fillStyle:m,rotation:b=0,fontColor:x,hidden:_}=(t.text,t),{left:w,top:A,width:S,height:E}=t.bounds,M=t.element;M.hidden=_,e&&(M.id=e),v&&(M.className=v),Object.assign(M.style,Ex,{fontFamily:a,fontSize:d+"px",left:w+"px",top:A+"px",width:S+"px",height:E+"px",paddingTop:c+"px",paddingRight:f+"px",paddingBottom:h+"px",paddingLeft:u+"px",border:p+"px",borderColor:y,borderStyle:p>0?g||Zb.LINE_DASH:"",color:x,fontWeight:i?"bold":"",fontStyle:o?"italic":"",textAlign:"end"==s?"right":"start"==s?"left":"",verticalAlign:l}),wx(t);var k=t.delta(),T=(r&&r.x||1)*k.sx,P=(r&&r.y||1)*k.sy,I=(b||0)+k.theta,O=k.tx||0,j=k.ty||0;["-webkit-","-moz-","-ms-","-o-",""].forEach(t=>{M.style[t+"transform"]=`rotate(${I}rad) translate(${O}px, ${j}px) scale(${T}, ${P}) perspective(1px)`})}var kx,Tx=[];function Px(){kx=null;var t=performance.now(),e=(Tx=Tx.filter(t=>Ix(t))).reduce((e,r)=>{let n=t-r.updatedAt;return n>=r.retention?e.kills.push(r):e.next=0==e.next?r.retention-n:Math.min(e.next,r.retention-n),e},{next:0,kills:[]});e.kills.forEach(t=>{let e=Tx.indexOf(t);-1!=e?(Tx.splice(e,1),t.removeSelf(!0)):Bb("Should not be here. Maybe reentrance problem.")}),e.next>0&&(kx=setTimeout(Ox,Math.max(e.next,500)))}function Ix(t){return!t.disposed&&t.retention>0&&!t.isTemplate()&&t.app&&t.app.isViewMode}var Ox=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return rv(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),fb(t,e,{leading:n,maxWait:e,trailing:i})}((function(){requestAnimationFrame(Px)}),500);var jx=new class{add(t){Ix(t)&&-1==Tx.indexOf(t)&&(Tx.push(t),t.touch()),this.touch()}remove(t){var e=Tx.indexOf(t);e>0&&Tx.splice(e,1),this.touch()}touch(){null!==kx&&(clearTimeout(kx),kx=null),Ox()}get length(){return Tx.length}},Rx={};const Cx={mutable:!1,resizable:!0,rotatable:!0,properties:[],"value-property":"text",sample:{xx:0}},Lx=[],Fx={theta:0,tx:0,ty:0,sx:1,sy:1,fade:0},Bx=new WeakMap;var Nx=0;class Dx{static get nature(){return Cx}static buildSample(t,e){var r=this.register(t);if(r){var n=r.nature.sample||{};return Object.assign({type:t},n,e)}console.error("Class not registered.",t)}static register(t,e){if(!e)return Rx[t];Rx[t]=e}static get residents(){return Bx}constructor(t,e){this._app=e,this._model=t||{},this._state={},this._delta=rb(Fx),e&&this.animation&&(this.animation.started=!0),this.clearCache(),jx.add(this),Bx.set(this,Nx++)}created(){}added(t){}removed(t){}ready(){}touch(){this.updatedAt=performance.now()}clearCache(...t){!function(t,...e){0==e.length?t.__cache__={}:e.forEach(e=>delete t.__cache__[e])}(this,...t)}removeSelf(t){t?this.dispose():this.parent&&this.parent.removeComponent(this)}dispose(){this._animation&&(this._animation.dispose(),delete this._animation),this.disposeMappings(),this.parent&&this.parent.removeComponent(this),delete this._text_substitutor,delete this._value_substitutor,this._disposed=!0,this.retention&&jx.touch(),this.clearCache(),delete this._app}get nature(){return this.constructor.nature}get disposed(){return!!this._disposed}isLayer(){return!1}isGroup(){return!1}isContainer(){return!1}isLine(){return!1}isRoot(){return!1}isRootModel(){return!1}is3dish(){return!1}isTemplate(){return!!this.get("templatePrefix")}isHTMLElement(){return!1}get retention(){return Number(this.get("retention"))||0}get hasTextProperty(){return!0}get app(){return!this._app&&this.parent&&(this._app=this.parent.app),this._app}get model(){return this._model}get state(){return Object.assign({},this._model,this._state)}get hierarchy(){var t=rb(this._model);return this.volatile.forEach(e=>{delete t[e]}),t}get volatile(){return Lx}get textHidden(){return!!this._textHidden}set textHidden(t){this._textHidden=!!t,this.invalidate()}get(t){return this._model[t]}set(t,e){if("string"==typeof t)return this.set({[t]:e});var r={},n={},i=!1,o=(t=rb(t),this);return Object.getOwnPropertyNames(t).forEach((function(e){let a=o._model[e],s=t[e];Ry(a,s)||(n[e]=a,r[e]=s,o._model[e]=s,delete o._state[e],i=!0)})),i&&(this.clearCache(),r.hasOwnProperty("text")&&delete this._text_substitutor,r.hasOwnProperty("retention")&&jx.add(this),r.hasOwnProperty("fillStyle")&&this.onchangeFill(r,n),r.hasOwnProperty("mappings")&&this.onchangeMappings(r,n),r.hasOwnProperty("data")&&this.onchangeData(r,n),this.onchange&&this.onchange(r,n),this.trigger("change",r,n)),this}getState(t){return this._state.hasOwnProperty(t)?this._state[t]:this.get(t)}setState(t,e){if("string"==typeof t)return this.setState({[t]:e});var r={},n={},i=!1,o=(t=rb(t),this);return Object.getOwnPropertyNames(t).forEach((function(e){let a=o.getState(e),s=t[e];Ry(a,s)||(n[e]=a,r[e]=s,o._state[e]=s,i=!0)})),i&&(this.clearCache(),r.hasOwnProperty("text")&&delete this._text_substitutor,r.hasOwnProperty("fillStyle")&&this.onchangeFill(r,n),r.hasOwnProperty("data")&&this.onchangeData(r,n),this.onchange&&this.onchange(r,n),this.trigger("change",r,n)),this}get root(){return this.isRoot()?this:this.parent&&this.parent.root}get rootModel(){return this.isRootModel()?this:this.parent&&this.parent.rootModel}get parent(){return this._parent}set parent(t){this._parent=t}isDescendible(t){return!0}getContext(){return this._parent.getContext()}get center(){var t=this.bounds;return{x:t.left+t.width/2,y:t.top+t.height/2}}set center(t){if(t&&!isNaN(t.x)&&!isNaN(t.y)){var e=this.center;if(Math.round(100*t.x)/100!=Math.round(100*e.x)/100||Math.round(100*t.y)/100!=Math.round(100*e.y)/100){var r=t.x-e.x,n=t.y-e.y;this.path=this.path.map(t=>({x:t.x+r,y:t.y+n}))}}}get location(){return this.center}set location(t){this.center=t}get dimension(){return this.get("dimension")}set dimension(t){this.set("dimension",t)}get bounds(){var t,e,r,n,i=this.path;t=e=i[0].x,r=n=i[0].y;for(let o=1;o<i.length;o++){let a=i[o];a.x<t?t=a.x:a.x>e&&(e=a.x),a.y<r?r=a.y:a.y>n&&(n=a.y)}return{left:t,top:r,width:e-t,height:n-r}}set bounds(t){var e=this.bounds;if(Math.round(100*t.width)/100!=Math.round(100*e.width)/100||Math.round(100*t.height)/100!=Math.round(100*e.height)/100||Math.round(100*t.left)/100!=Math.round(100*e.left)/100||Math.round(100*t.top)/100!=Math.round(100*e.top)/100){var r=0==e.width?1:t.width/e.width,n=0==e.height?1:t.height/e.height;this.path=this.path.map(i=>({x:t.left+(i.x-e.left)*r,y:t.top+(i.y-e.top)*n}))}}get path(){return Bb("이 컴포넌트에 get path 가 구현되어있지 않음.",this),[]}set path(t){Bb("이 컴포넌트에 get path 가 구현되어있지 않음.",this)}outline(t){return function(t,e){var r=t.path.slice();if(r&&r.length){var n=1,i=[];if(t.isLine()||r.push(r[0]),e<=0)return t.transcoordS2T(r[0].x,r[0].y);if(e>=1)return t.transcoordS2T(r[r.length-1].x,r[r.length-1].y);for(;r[n];){let t=r[n-1],e=r[n],o=e.x-t.x,a=e.y-t.y;i.push(Math.sqrt(o*o+a*a)),n++}var o=i.reduce((function(t,e){return t+e}),0);n=0;var a=0;do{a+=i[n++]}while(a/o<e);e=(e-(a-=i[--n])/o)*(o/i[n]);var s=r[n%r.length],l=r[(n+1)%r.length],c=s.x+Math.round((l.x-s.x)*e),h=s.y+Math.round((l.y-s.y)*e);return t.transcoordS2T(c,h)}Bb("path should not be empty")}(this,t||0)}get anchors(){return[]}get strokeStyle(){return this.get("strokeStyle")}set strokeStyle(t){this.set("strokeStyle",t)}get fillStyle(){return this.getState("fillStyle")}set fillStyle(t){this.setState("fillStyle",t)}get fontColor(){return this.get("fontColor")}set fontColor(t){this.set("fontColor",String(mb(t)))}get rotation(){return this.getState("rotation")}set rotation(t){this.setState("rotation",Number(mb(t)))}contains(t,e){return!1}get mutable(){return Cx.mutable}get resizable(){return!this.stuck}adjustResize(t,e,r){if(r){let e=this.bounds,r=e.height/e.width,n=t.width-e.width,i=t.height-e.height;n*r>i?i=n*r:n=i/r;let o=t.left-e.left,a=t.top-e.top;return 0!=o&&0!=a?(a=-i,o=-n):0!=o?o=-n:0!=a&&(a=-i),{left:e.left+o,top:e.top+a,width:e.width+n,height:e.height+i}}return t}get rotatable(){return!this.stuck}adjustRotation(t,e){if(e||this.app.rotateStepForced){let e=this.app.rotateStep;return Math.floor((t+e/2)/e)*e}return t}get capturable(){return!1!==this.get("capturable")&&(this.app.isEditMode||!this.hidden)}get stuck(){return!!(this.parent&&this.parent.layout.isStuck(this)||this.get("locked"))}findFirst(t,...e){if(t(this,...e))return this}findAll(t,...e){return"string"==typeof t?Lm(t,this,e[0]||this):"function"==typeof t&&t(this,...e)?[this]:void 0}capture(t,e){if(!this.capturable)return!1;var r=this.transcoordP2S(t,e);return this.contains(r.x,r.y)?this:void 0}prepare(t,e){t(this)}prepareIf(t){t&&this.prepare&&this.prepare(t=>{this.invalidate()},t=>{Bb(t)})}get tag(){return this.get("id")?`#${this.get("id")}`:""}get hidden(){return this.getState("hidden")||this.getState("ndns")&&void 0===this.data||this.isTemplate()}set hidden(t){this.setState("hidden",t)}draw(t){t.save(),this.__proto__.hasOwnProperty("_pre_draw")?this._pre_draw(t):this.prerender(t),this.__proto__.hasOwnProperty("_draw")?this._draw(t):this.render(t),this.__proto__.hasOwnProperty("_post_draw")?this._post_draw(t):this.postrender(t),t.restore()}delta(t,e){if(void 0===e)return t?this._delta[t]:this._delta;this._delta[t]=e}prerender(t){var e=this.rotatePoint,{scale:r,rotation:n,shadow:i,alpha:o}=this.model,a=(r&&r.x||1)*this._delta.sx,s=(r&&r.y||1)*this._delta.sy,l=(n||0)+this._delta.theta,{tx:c=0,ty:h=0}=this._delta,u=(o||1)-this._delta.fade;(c||h)&&t.translate(c,h),(1!=a||1!=s||l)&&(t.translate(e.x,e.y),1==a&&1==s||t.scale(a,s),l&&t.rotate(l),t.translate(-e.x,-e.y)),u&&(t.globalAlpha=u),i&&Cb(t,i,this),this.app.isEditMode&&this.hidden&&(t.globalAlpha*=.5)}render(t){}postrender(t){this.drawText(t)}drawText(t){!this.textHidden&&this.text&&this.hasTextProperty&&nx(t,this.textBounds,this.textLines(t),this.model)}drawStroke(t){Yb(t,this.model)}drawFill(t){this.fillStyle&&"transparent"!=this.fillStyle&&(Wb(t,this.bounds,this.center,this.model,this),function(t){t.shadowColor="transparent"}(t))}animate(t){return this._animate&&this._animate.stop(),this._animate=zb(t),this._animate}move({x:t,y:e}){var r=this.path,n=t,i=e;this.path=r.map(t=>({x:t.x+n,y:t.y+i}))}symmetryX(t){"number"!=typeof t&&(t=this.center.x);var{rotation:e}=this.model,r=this.fillStyle;if(this.set("rotation",2*Math.PI-e),r&&"gradient"===r.type&&"linear"===r.gradientType){var n=rb(r);n.rotation=(Math.PI-parseFloat(r.rotation||0))%(2*Math.PI),this.set("fillStyle",n)}this.path=this.path.map(e=>({x:2*t-e.x,y:e.y}))}symmetryY(t){this.symmetryX(),this.set("rotation",(Math.PI+this.model.rotation)%(2*Math.PI)),t&&this.move({x:0,y:2*(t-this.center.y)})}get animation(){if(this.app.isViewMode&&!this.isTemplate()){if(!this._animation){var t=this.model.animation;t&&t.oncreate&&(this._animation=(e=this,r=t.oncreate,(n=jb[r.type])?new n(e,r):null))}var e,r,n;return this._animation}}effect(t,e){return function(t,e,r){var n=Lb[r.type];n&&n(t,e,r)}(this,t,e)}set started(t){this.animation&&(this.animation.started=t)}invalidate(){this.parent&&this.parent.invalidate()}get font(){return rx(this.model)}get lineHeight(){var t=this.get("lineHeight");return t||1.2*this.fontSize}defaultTextSubstitutor(){var t=this.getState("text");return null==t?"":String(t)}get textSubstitutor(){return this._text_substitutor||(this._text_substitutor=lx(this.getState("text"),this)||this.defaultTextSubstitutor),this._text_substitutor}get text(){var t=this.get("textFormat");return t?function(t,e){if(!t||isNaN(+e))return e;var r,n,i,o,a,s,l,c,h,u=t.length,f=t.search(/[0-9\-\+#]/),d=f>0?t.substring(0,f):"",p=t.split("").reverse().join(""),g=p.search(/[0-9\-\+#]/),v=u-g,y=t.substring(v,v+1),m=v+("."===y||","===y?1:0),b=g>0?t.substring(m,u):"";if(r=(e="-"===(t=t.substring(f,m)).charAt(0)?-e:+e)<0?e=-e:0,".",i=(n=t.match(/[^\d\-\+#]/g))&&n[1]&&n[0]||",",t=t.split("."),e=+(e=e.toFixed(t[1]&&t[1].length))+"",a=t[1]&&t[1].lastIndexOf("0"),(!(l=e.split("."))[1]||l[1]&&l[1].length<=a)&&(e=(+e).toFixed(a+1)),c=t[0].split(i),t[0]=c.join(""),(o=t[0]&&t[0].indexOf("0"))>-1)for(;l[0].length<t[0].length-o;)l[0]="0"+l[0];else 0==+l[0]&&(l[0]="");if((e=e.split("."))[0]=l[0],s=c[1]&&c[c.length-1].length){for(p="",v=(h=e[0]).length%s,u=h.length,m=0;m<u;m++)p+=h.charAt(m),!((m-v+1)%s)&&m<u-s&&(p+=i);e[0]=p}return e[1]=t[1]&&e[1]?"."+e[1]:"","0"!==(n=e.join(""))&&""!==n||(r=!1),d+(("+"==t[0].substring(0,1)?r?"-":"+":r?"-":"")+n)+b}(t,this.textSubstitutor()):this.textSubstitutor()}set text(t){delete this._text_substitutor;var e=mb(t);this.setState("text",null==e?"":String(e))}textLines(t){return ex(t||this.getContext(),this.textBounds.width,this.font,this.text,this.get("textWrap"))}get textBounds(){var{paddingTop:t=0,paddingLeft:e=0,paddingRight:r=0,paddingBottom:n=0}=this.model,{left:i,top:o,width:a,height:s}=this.bounds;return{left:i+e,top:o+t,width:Math.max(a-e-r,0),height:Math.max(s-t-n,0)}}get rotatePoint(){return this.center}trim(){delete this._model[""],"chartjs"!==this._model.type&&delete this._model.chart}get value(){var t=this.nature["value-property"]||"text";return"value"==t?this.getState("value"):this[t]}set value(t){var e=this.nature["value-property"]||"text";"value"==e?this.setState("value",t):this[e]=t}get data(){return this.getState("data")}set data(t){this.setState("data",t),this.touch()}get mappings(){return!this._mappings&&this.parent&&this.buildMappings(),this._mappings}serialize(...t){return JSON.stringify(this.hierarchy,...t)}get controls(){}}Dx.union=function(t){var e,r,n,i;return t.forEach(t=>{void 0===e?(e=t.left,r=t.top,n=t.left+t.width,i=t.top+t.height):(e=Math.min(t.left,e),r=Math.min(t.top,r),n=Math.max(t.left+t.width,n),i=Math.max(t.top+t.height,i))}),{left:e,top:r,width:n-e,height:i-r}},Dx.transcoordR=ix,Dx.transcoordRR=ox,Dx.createCanvas=Fb,Dx.memoize=Ub,Dx.mixin=Pb,Dx.drawText=nx,Dx.font=rx,Dx.textLines=ex,Dx.drawStroke=Yb,Dx.drawFill=Wb,Dx.reposition=Mx,Dx.RetentionManager=jx,Dx.template=function(t,e,r){var n=Am.imports._.templateSettings||Am;r&&Xy(t,e,r)&&(e=void 0),t=xm(t),e=Zy({},e,n,hm);var i,o,a=Zy({},e.imports,n.imports,hm),s=vy(a),l=function(t,e){return sm(e,(function(e){return t[e]}))}(a,s),c=0,h=e.interpolate||Tm,u="__p += '",f=RegExp((e.escape||Tm).source+"|"+h.source+"|"+(h===dm?km:Tm).source+"|"+(e.evaluate||Tm).source+"|$","g"),d=Im.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/[\r\n]/g," ")+"\n":"";t.replace(f,(function(e,r,n,a,s,l){return n||(n=a),u+=t.slice(c,l).replace(Pm,fm),r&&(i=!0,u+="' +\n__e("+r+") +\n'"),s&&(o=!0,u+="';\n"+s+";\n__p += '"),n&&(u+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),u+="';\n";var p=Im.call(e,"variable")&&e.variable;p||(u="with (obj) {\n"+u+"\n}\n"),u=(o?u.replace(Sm,""):u).replace(Em,"$1").replace(Mm,"$1;"),u="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";var g=am((function(){return Function(s,d+"return "+u).apply(void 0,l)}));if(g.source=u,om(g))throw g;return g},Dx.buildSubstitutor=lx,Object.assign(Dx.prototype,{drawEffect:function(t){this._model.effects&&this._model.effects.forEach(e=>{this.effect(t,e)})},prepareFill:function(t,e){var r=this.fillStyle;if(r&&"pattern"==r.type&&r.image){if("string"!=typeof r.image)return this._pattern_image_origin=this._pattern_image=r.image,void t(this);this._pattern_image=null,this._pattern_image_origin=new Image;var n=this;this._pattern_image_origin.onload=function(){if(!r.fitPattern&&!r.width&&!r.height)return n._pattern_image=n._pattern_image_origin,void t(this);let e=r.width||this.width,i=r.height||this.height;r.fitPattern&&(e=n.bounds.width,i=n.bounds.height);let o=Fb(e,i);o.getContext("2d").drawImage(this,0,0,this.width,this.height,0,0,e,i),n._pattern_image=o,t(this)},this._pattern_image_origin.onerror=function(t){e(t)};try{"data"!==String(r.image).substring(0,4)?this._pattern_image_origin.crossOrigin="use-credentials":this._pattern_image_origin.crossOrigin=null,this._pattern_image_origin.src=this.app.url(r.image)}catch(t){e(t)}}else t(this)},prepareFillIf:function(t){t&&this.prepareFill(t=>{this.invalidate()},t=>{Bb(t)})},onchangeFill:function(t,e){var r=this.fillStyle;r&&"pattern"!==r.type?this._pattern_image&&(this._pattern_image=null,this._pattern_image_origin=null):(null==r?void 0:r.image)&&this.prepareFillIf(r.image)},mutateBounds:function(t,e){var r=this.bounds,n=this.rotatePoint,i=this.get("rotation"),o=this.get("scale");if(t){var a=t.call(e,r);a&&(r=a)}var{left:s,top:l,width:c,height:h}=r,u=[{x:s,y:l},{x:s+c,y:l+h}],f=(u=u.map(t=>ox(t.x,t.y,n,i,o)))[0],d=u[1];n={x:(f.x+d.x)/2,y:(f.y+d.y)/2},f=(u=u.map(t=>ix(t.x,t.y,n,i,o)))[0],d=u[1],this.bounds={left:f.x,top:f.y,width:d.x-f.x,height:d.y-f.y}},mutatePath:function(t,e,r){var n=this.path,i=this.rotatePoint;this.get("rotation"),this.get("scale"),t&&(n=t.call(r,n));var o=n.map(t=>this.transcoordS2P(t.x,t.y));e&&(n=e.call(r,o))&&(o=n);var a,s,l,c,h={x:0,y:0};a=s=(n=o.map(t=>this.transcoordP2S(t.x,t.y,h)))[0].x,l=c=n[0].y;for(let t=1;t<n.length;t++){let e=n[t];e.x<a?a=e.x:e.x>s&&(s=e.x),e.y<l?l=e.y:e.y>c&&(c=e.y)}i={x:(a+s)/2,y:(l+c)/2},i=this.transcoordS2P(i.x,i.y,h),this.path=o.map(t=>this.transcoordP2S(t.x,t.y,i))},access:function(t){if(t){var e=String(t),r=(e.match(/#{(\S*)}/)||[]).map(t=>sx(t))[0];if(r)return r.accessor(this.getState(r.target));var n=(e.match(/\${[^}]*}/)||[]).map(t=>sx(t))[0];if(n){let t=this.root.findById(n.target);return n.accessor(this.getState(t))}return t}},substitute:function(t,e){if(t){var r=String(t),n=e||mb,i=(r.match(/#{(\S*)}/gi)||[]).map(t=>sx(t)),o=(r.match(/\${[^}]*}/gi)||[]).map(t=>sx(t));if(0==i.length&&0==o.length)return r;var a=r;return i.forEach(t=>{let e=n(t.accessor(this.getState(t.target)));a=a.replace(t.match,void 0===e?"":e)}),o.forEach(t=>{let e=this.root.findById(t.target),r=n(t.accessor(e&&e.data));a=a.replace(t.match,void 0===r?"":r)}),a}},onchangeMappings:function(t,e){this.disposeMappings(),_x.call(this)},onchangeData:function(t,e){_x.call(this)},buildMappings:function(){if(this._model.mappings)return!this._model.mappings instanceof Array?(Bb("Mappings model is invalid (should be a Array) ..",this._model.mappings),void(this._mappings=[])):void(this._mappings=(this._model.mappings||[]).map(t=>new xx(t,this)));this._mappings=[]},executeMappings:_x,disposeMappings:function(){this._mappings&&this._mappings.forEach(t=>t.dispose()),delete this._mappings},ondropfile:function(t,e){for(let r=0;r<t.length;r++)if(t[r].type.startsWith("image/"))return void this.set("fillStyle",{type:"pattern",image:e[r],fitPattern:!0})},transcoordS2P:function(t,e,r){if(!this.parent)return{x:t,y:e};var{rotation:n=0,scale:i={x:1,y:1}}=this.model;if(this.isLayer()){let r=this.model.translate,o=ox(t,e,void 0,n,i);return r&&(o.x+=r.x,o.y+=r.y),o}var o=ox(t,e,r=r||this.rotatePoint,n,i);return{x:o.x-(r.x-r.x/i.x),y:o.y-(r.y-r.y/i.y)}},transcoordP2S:function(t,e,r){if(!this.parent)return{x:t,y:e};var{rotation:n=0,scale:i={x:1,y:1}}=this.model;if(this.isLayer()){let r=this.model.translate,o=ix(t,e,r,n,i);return r&&(o.x-=r.x/(i?i.x:1),o.y-=r.y/(i?i.y:1)),o}var o=ix(t,e,r=r||this.rotatePoint,n,i);return{x:o.x+(r.x-r.x/i.x),y:o.y+(r.y-r.y/i.y)}},transcoordS2T:function(t,e,r){r=r||this.rootModel;var n=[];for(let t=this.parent;t&&t!==r;t=t.parent)n.push(t);var i=this.transcoordS2P(t,e);return n.forEach(t=>{let{scale:e}=t.model,r=t.bounds;if(e){let n=t.rotatePoint;i.x+=(n.x-r.left)*e.x,i.y+=(n.y-r.top)*e.y}else i.x+=r.left,i.y+=r.top;i=t.transcoordS2P(i.x,i.y)}),i},transcoordT2S:function(t,e,r){r=r||this.rootModel;var n=[];for(let t=this.parent;t&&t!==r;t=t.parent)n.splice(0,0,t);var i={x:t,y:e};return n.forEach(t=>{let{scale:e}=t.model;i=t.transcoordP2S(i.x,i.y);let r=t.bounds;if(e){let n=t.rotatePoint;i.x-=(n.x-r.left)/e.x,i.y-=(n.y-r.top)/e.y}else i.x-=r.left,i.y-=r.top}),this.transcoordP2S(i.x,i.y)},transcoordS2TR:function(t,e,r){r=r||this.rootModel;var n=this.transcoordS2T(t,e,r);return ox(n.x,n.y,void 0,r.get("rotation")||0)},transcoordS2O:function(t,e,r){var n=this.rootModel,i=this.transcoordS2T(t,e,n);return r.transcoordT2S(i.x,i.y,n)},transcoordC2S:function(t,e,r){if(!r)for(r=this;r&&!r.isLayer();)r=r.parent;var{translate:n,scale:i,rotation:o}=r.model,a=ix(t,e,n,o,i);return n&&(a.x-=n.x/(i?i.x:1),a.y-=n.y/(i?i.y:1)),r===this?a:this.transcoordT2S(a.x,a.y,r)},transcoordS2C:function(t,e,r){if(!r)for(r=this;r&&!r.isLayer();)r=r.parent;if(r!==this)var n=this.transcoordS2T(t,e,r);else n={x:t,y:e};var{translate:i,rotation:o,scale:a}=r.model;return n=ox(n.x,n.y,void 0,o,a),i&&(n.x+=i.x,n.y+=i.y),n},_pre_draw:Dx.prototype.prerender,_draw:Dx.prototype.render,_post_draw:Dx.prototype.postrender}),["rotatePoint","font","lineHeight","retention"].forEach(t=>Dx.memoize(Dx.prototype,t,!1)),["bounds","center","textBounds"].forEach(t=>Dx.memoize(Dx.prototype,t,!0)),Dx.mixin(Dx.prototype,Sb.withEvent);var Ux={};var zx={list:function(){return{...Ux}},register:function(t,e){Ux[t]=e},unregister:function(t){delete Ux[t]},get:function(t){if(t){var e=Ux[t];return e||Bb("Layout Not Found - ",t),e}}},Wx={reflow:function(t,e){},capturables:function(t){return t.components},drawables:function(t){return t.app.isViewMode?t.components.filter(t=>!t.hidden):t.components},isStuck:function(t){return!1},ABSOLUTE:!0};function Yx(t){var e=t.components.filter(t=>!t.hidden),r=t.get("layoutConfig")||{},n=e[r&&r.activeIndex||0];return n&&[n]||[]}zx.register("absolute",Wx);var Gx={reflow:function(t){var e=t.bounds,r=t.get("layoutConfig")||{},n={left:0,top:0,width:e.width,height:e.height};t.forEach((t,e)=>{let i=e!=r.activeIndex;t.bounds=n,t.set("rotation",0),t.element&&(t.element.style.display=i?"none":"block")})},capturables:function(t){return Yx(t)},drawables:function(t){return Yx(t)},isStuck:function(t){return!0}};function Hx(t){var e=t.get("layoutConfig");return e&&e.weight||1}zx.register("card",Gx);var qx={reflow:function(t){var e=this.drawables(t),r=t.get("padding")||{},n=e.reduce((t,e)=>t+Hx(e),0),i=t.bounds,o=n>0?(i.width-((r.left||0)+(r.right||0)))/n:i.width,a=i.height-((r.top||0)+(r.bottom||0)),s=0;e.forEach(t=>{let e=Hx(t),n=t.get("margin")||{};t.bounds={left:o*s+(r.left||0)+(n.left||0),top:0+(r.top||0)+(n.top||0),width:e*o-((n.left||0)+(n.right||0)),height:a-((n.top||0)+(n.bottom||0))},t.set("rotation",0),s+=e})},capturables:function(t){return t.components},drawables:function(t){return t.app.isViewMode?t.components.filter(t=>!t.hidden):t.components},isStuck:function(t){return!0}};function Xx(t){var e=t.get("layoutConfig");return e&&e.weight||1}zx.register("linear-horizontal",qx);var Vx={reflow:function(t){var e=this.drawables(t),r=t.get("padding")||{},n=e.reduce((t,e)=>t+Xx(e),0),i=t.bounds,o=n>0?(i.height-((r.top||0)+(r.bottom||0)))/n:i.height,a=i.width-((r.left||0)+(r.right||0)),s=0;e.forEach(t=>{let e=Xx(t),n=t.get("margin")||{};t.bounds={left:0+(r.left||0)+(n.left||0),top:o*s+(r.top||0)+(n.top||0),width:a-((n.left||0)+(n.right||0)),height:e*o-((n.top||0)+(n.bottom||0))},t.set("rotation",0),s+=e})},capturables:function(t){return t.components},drawables:function(t){return t.app.isViewMode?t.components.filter(t=>!t.hidden):t.components},isStuck:function(t){return!0}};zx.register("linear-vertical",Vx);var Kx={reflow:function(t){var e=t.get("layoutConfig"),r=e&&e.columns||t.get("columns"),n=e&&e.rows||t.get("rows"),i=e&&e.widths||t.get("widths"),o=e&&e.heights||t.get("heights"),a=i?i.filter((t,e)=>e<r).reduce((t,e)=>t+e,0):r,s=o?o.filter((t,e)=>e<n).reduce((t,e)=>t+e,0):n,l=t.textBounds,c=t.get("paddingLeft")||0,h=t.get("paddingTop")||0,u=l.width/a,f=l.height/s,d=0,p=0;t.components.forEach((t,e)=>{let n=i?i[e%r]:1,a=o?o[Math.floor(e/r)]:1,s=t.colspan||1,l=0;for(;--s>0;)l+=i?i[(e+s)%r]:1;let g=t.rowspan||1,v=0;for(;--g>0;)v+=o?o[Math.floor(e/r)+g]:1;t.bounds={left:c+d,top:h+p,width:u*(n+l),height:f*(a+v)},t.set("rotation",0),e%r==r-1?(d=0,p+=a*f):d+=n*u})},capturables:function(t){return t.components.filter(t=>!t.merged)},drawables:function(t){return t.components.filter(t=>!t.merged&&!t.hidden)},isStuck:function(t){return!0},keyNavigate:function(t,e,r){var n=t.get("layoutConfig"),i=n&&n.columns||t.get("columns"),o=n&&n.rows||t.get("rows"),{row:a,column:s}=t.getRowColumn(e);switch(r.code){case"ArrowUp":if(a>0)return t.getAt((a-1)*i+s);break;case"ArrowDown":if(a<o-1)return t.getAt((a+1)*i+s);break;case"ArrowRight":if(s<i-1)return t.getAt(a*i+s+1);break;case"ArrowLeft":if(s>0)return t.getAt(a*i+s-1);break;default:return e}},joinType:!0};zx.register("table",Kx);var Qx={reflow:function(t,e){this.drawables(t).filter(t=>t.isHTMLElement()).forEach(t=>t.reposition())},capturables:function(t){return t.components},drawables:function(t){return t.app&&!t.app.isViewMode?t.components:t.components.filter(t=>!t.hidden)},isStuck:function(t){return!1},ABSOLUTE:!0};zx.register("html-absolute",Qx);var Jx=t=>{var e=class extends t{contains(t,e){var{left:r,top:n,width:i,height:o,lineWidth:a=0}=this.model,s=a/2;return t<Math.max(r+i,r)+s&&t>Math.min(r+i,r)-s&&e<Math.max(n+o,n)+s&&e>Math.min(n+o,n)-s}set path(t){var e=t[0],r=t[2],{width:n,height:i}=this.model;this.set({left:e.x,top:e.y,width:r.x-e.x,height:r.y-e.y})}get path(){var{left:t=0,top:e=0,width:r=0,height:n=0}=this.model;return[{x:t,y:e},{x:t+r,y:e},{x:t+r,y:e+n},{x:t,y:e+n}]}};return Ub(e.prototype,"path",!1),e};const Zx=new Image;Zx.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAclBMVEVHcEwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC0BbqFAAAAJXRSTlMAgAP3VSI6/g9fBk5FavJsMrariSjzPnO1enRRL5SMhmOOWB9keFTE0wAAANxJREFUOMutk9kWgyAMRLFuiLjUtdp9yf//YglVsQXz1HniMPcEMgHGvpX2O0Ypi+EgCL+IAShC+wB7QfubRDT7AFcnUPoLMLiP4PyJbsb55i05AgnR5iaQDsICgtH0cotBWoAP1c7kC6kFxEseCfZfB6gEgbNeBrira2QmH1uVYCXlA3is8UmgUCPIyQJKEmu8QtQJN0e9DPXVpzG2G216c1CqRmcBOdxXk07sWUSPv07zo0amCNQycv+NzmR6cRcwmfbuI7p2nZ/z4be0P83Foz6vIkhfZXr82XgDlZsspIq4peUAAAAASUVORK5CYII=";var $x=t=>class extends t{postrender(t){super.postrender(t),this.app.isEditMode&&this._focused&&this.showMoveHandle&&this._draw_move_handle(t)}_draw_move_handle(t){var{left:e,top:r,width:n}=this.bounds;t.save(),t.beginPath(),t.rect(e+n,r,25,25);t.fillStyle="rgba(235, 235, 235, 1)",t.strokeStyle="#333",t.fill(),t.stroke(),t.drawImage(Zx,e+n+3.75,r+3.75,17.5,17.5),t.closePath(),t.restore()}contains(t,e){var r=super.contains(t,e);if(this.app.isViewMode)return r;var{left:n,top:i,width:o,height:a}=this.bounds,s=n+o;return this.showMoveHandle&&(r=r||t<Math.max(s+25,s)&&t>Math.min(s+25,s)&&e<Math.max(i+25,i)&&e>Math.min(i+25,i)),this._focused=!!r,this.invalidate(),r}};const t_=[];class e_ extends($x(Jx(Dx))){constructor(t,e){super(t,e),this._components=[]}get showMoveHandle(){return!0}dispose(){this.components.slice().forEach(t=>t.dispose()),super.dispose()}isContainer(){return!0}containable(t){return t.isDescendible(this)&&"variable"!==t.get("type")}get hasTextProperty(){return!1}get components(){return this._components}get focusible(){return!0}get layout(){return zx.get(this.get("layout"))||Wx}reflow(){this.layout.reflow(this),this.components&&this.components.forEach(t=>{t.isContainer()&&t.reflow()})}get hierarchy(){var t=super.hierarchy;return this.components&&(t.components=this.components.map(t=>t.hierarchy)),t}addComponent(t){var e=t.parent;if(e){if(this===e)return;e.removeComponent(t)}var r=this._components.push(t)-1;t.parent=this,t.added(this),this.trigger("add",this,t,r),t.delegate_on(this),t.trigger("added",this,t,r),this.root&&this.root.isReady&&t.ready()}removeComponent(t){var e=this._components.indexOf(t);-1!=e&&(this._components.splice(e,1),t.parent=null,t.removed(this),this.trigger("remove",this,t),t.trigger("removed",this,t),t.delegate_off(this))}insertComponentAt(t,e){var r=t.parent;r&&r.removeComponent(t);var n=this._components.splice(0,e);this._components=n.concat(t,this._components),e=this._components.indexOf(t),t.parent=this,t.added(this),this.trigger("add",this,t,e),t.delegate_on(this),t.trigger("added",this,t,e)}add(t){return t instanceof Array?(t.forEach(t=>{-1==this._components.indexOf(t)&&this.addComponent(t)}),this):this.add.call(this,[t])}remove(t){return t instanceof Array?this._components?(t.forEach(t=>{this.removeComponent(t)}),this):this:this.remove.call(this,[t])}getAt(t){if(this._components)return this._components[t]}forEach(t,e){this._components&&this._components.forEach(t,e)}traverse(t,e){t.call(e,this),this._components&&this._components.forEach(r=>{r.isContainer()?r.traverse(t,e):t.call(e,r)})}indexOf(t){return(this._components||t_).indexOf(t)}size(){return(this._components||t_).length}moveChildAt(t,e){var r=this.indexOf(e);if(-1!=r){var n=this._components.splice(0,r),i=this._components.splice(1);this._components=n.concat(i),t=Math.max(0,t),t=Math.min(t,this._components.length),n=this._components.splice(0,t),this._components=n.concat(e,this._components)}}moveChildForward(t){var e=this.indexOf(t);-1!=e&&e!=this.size()-1&&(this._components[e]=this._components[e+1],this._components[e+1]=t)}moveChildBackward(t){var e=this.indexOf(t);-1!=e&&0!=e&&(this._components[e]=this._components[e-1],this._components[e-1]=t)}moveChildToFront(t){var e=this.indexOf(t);if(-1!=e&&e!=this.size()-1){var r=this._components.splice(0,e),n=this._components.splice(1);this._components=r.concat(n,this._components)}}moveChildToBack(t){var e=this.indexOf(t);if(-1!=e&&0!=e){var r=this._components.splice(0,e),n=this._components.splice(0);this._components=this._components.concat(r,n)}}symmetryX(t){super.symmetryX(t),this.components.map(t=>{t.symmetryX(0)})}findAll(t,...e){if("string"==typeof t)return Lm(t,this,e[0]||this);if("function"==typeof t){var r=[];for(let n=this.components.length-1;n>=0;n--){let i=this.components[n].findAll(t,...e);i&&(r=r.concat(i))}return t(this,...e)&&r.push(this),r}}findFirst(t,...e){if("string"==typeof t)return Lm(t,this,e[0])[0];if("function"==typeof t){for(let n=this.components.length-1;n>=0;n--){var r=this.components[n].findFirst(t,...e);if(null!=r)return r}return t(this,...e)?this:null}}findById(t){return this.root.findById(t)}contains(t,e){var r=super.contains(t,e);if(!r){var{left:n,top:i,width:o,height:a,lineWidth:s=0}=this.model,l=this.stuck?0:10+s/2;r=t<Math.max(n+o,n)+l&&t>Math.min(n+o,n)-l&&e<Math.max(i+a,i)+l&&e>Math.min(i+a,i)-l}return r}capture(t,e){var r=this.transcoordP2S(t,e);if(!this.contains(r.x,r.y))return!1;var n=this.bounds;r.x-=n.left,r.y-=n.top;var i=this.layout.capturables(this);for(let t=i.length-1;t>=0;t--){var o=i[t].capture(r.x,r.y);if(o)return o}return this.capturable&&this}capturePath(t,e){if(e){if(e.indexOf(this)>-1)return!1;for(let t=0;t<e.length;t++)if(!this.containable(e[t]))return!1}var r=[],{left:n,top:i,width:o,height:a}=this.bounds;for(let e=0;e<t.length;e++){let s=this.transcoordP2S(t[e].x,t[e].y);if(s.x<n||s.x>n+o||s.y<i||s.y>i+a)return!1;s.x-=n,s.y-=i,r.push(s)}let s=this.layout.capturables(this);for(let t=s.length-1;t>=0;t--){let n=s[t];if(!n.isContainer())continue;let i=n.capturePath(r,e);if(i)return i}return this.focusible&&this}render(t){var{left:e=0,top:r=0,width:n,height:i}=this.bounds;t.beginPath(),t.rect(e,r,n,i),this.drawFill(t),this.drawStroke(t)}postrender(t){super.postrender(t);var{top:e,left:r,scale:n}=this.model;t.translate(r,e),this.layout.drawables(this).forEach(e=>{e.draw(t)}),t.translate(-r,-e),this.drawText(t)}trim(){this.components.forEach(t=>{t.trim()}),super.trim()}}["layout"].forEach(t=>Dx.memoize(e_.prototype,t,!1));class r_ extends e_{constructor(t,e){super(t,e),t.translate=t.translate||{x:0,y:0},this._draw_reserved=!1,this.__draw__=()=>{this._draw_reserved=!1,this.trigger("redraw"),this.reflow(),this.draw()},this.throttle_render=()=>{this._draw_reserved||requestAnimationFrame(this.__draw__),this._draw_reserved=!0}}fitSize(t,e,r,n){if(this.target){if(e){let t=getComputedStyle(this.target);r=r||(t?parseFloat(t.getPropertyValue("width")):this.target.offsetWidth),n=n||(t?parseFloat(t.getPropertyValue("height")):this.target.offsetHeight)}else r=this.model.width,n=this.model.height;"CANVAS"==t.tagName&&(t.setAttribute("width",r*Kb),t.setAttribute("height",n*Kb)),t.style.width=r+"px",t.style.height=n+"px"}}resize(){var t=this.root.fitMode||this.model.fitMode||"ratio";this.fitSize(this.element,"none"!==t)}isLayer(){return!0}createElement(){var t=Dx.createCanvas(1,1);return t.style.position="absolute",t}get target(){return this._target}set target(t){this._target&&this.element&&this._target.removeChild(this.element),this._target=t,t&&(this.element||(this.element=this.createElement()),this.resize(),t.appendChild(this.element))}get canvas(){return this.element}dispose(){super.dispose(),this.target=null,this.element=null}get selected(){return this.root.selected}set selected(t){this.root.selected=t}get focused(){return this.root.focused}set focused(t){this.root.focused=t}getContext(){return this._context2D||(this._context2D=this.canvas&&this.canvas.getContext("2d")),this._context2D}draw(t){this.canvas&&(t=t||this.getContext())&&super.draw(t)}prerender(t){var{translate:e,scale:r={x:1,y:1},rotation:n}=this.model;t.clearRect(0,0,t.canvas.width,t.canvas.height),e&&t.translate(e.x*Kb,e.y*Kb),t.scale(r.x*Kb,r.y*Kb),n&&t.rotate(n)}get rotatePoint(){return{x:0,y:0}}contains(t,e){return!1}invalidate(){this.throttle_render()}move(t){var e=this.get("translate")||{x:0,y:0};this.set({translate:{x:e.x+t.x,y:e.y+t.y}})}}class n_ extends Dx{set rotationX(t){this.setState("rotationX",t)}get rotationX(){return this.getState("rotationX")}set rotationY(t){this.setState("rotationY",t)}get rotationY(){return this.getState("rotationY")}set rotationZ(t){this.setState("rotation",t)}get rotationZ(){return this.getState("rotation")}set zPos(t){this.setState("zPos",t)}get zPos(){return this.getState("zPos")}set depth(t){this.setState("depth",t)}get depth(){return this.getState("depth")}postrender(t){this.drawFill(t),this.drawStroke(t),super.postrender(t)}}const i_={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"textarea",label:"front-side-template",name:"frontSideTemplate",property:{language:"html"}},{type:"textarea",label:"back-side-template",name:"backSideTemplate",property:{language:"html"}},{type:"textarea",label:"style",name:"style",property:{language:"css"}}]};function o_(t,e){var r=t.split(/\s+/),n=r.indexOf(e);return-1!=n?r.splice(n,1):r.splice(-1,0,e),r.join(" ")}class a_ extends(Jx(n_)){static get image(){return a_._image||(a_._image=new Image,a_._image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAY1BMVEVHcEwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADIAbxiAAAAIHRSTlMA+gPshCwwWFzYCeLRm7QRG6rLeDZI9JOJJDtjb1HAf1sAT80AAAQQSURBVHhe7MCBAAAAAMKw/KkzOMG2BAAAAKeu3lUohIEggO7jQi5qHqpgwML5/6+0F0y02z31FlvMMLKt86QMQ1ined2Evih1hFFjLfRWjgzDOGZ6JSiM00B9EuHALtQxJLiQBmqSBCeSUEuEGzs1BDjSaHxWOKK5Eyz/4SoMV/hp4+vtcPkdwZD/udwevNg7t1xXYRiKmkB7C+ENlPLq8fxHeX+RGjWQ1D45ldcIulBIvCvYJGBEadyTzxAcfY57NBjpLScOO/bzugcTHe7IMwiSLMcdHZhocMcMgTLjjgZM7F1bCJZ2v27ARGzYDwIk2Z+JYGJ/iiwQLMv+JAEThjkmRG64Q0Q+gIiIiIiIiIiIyFy0KRFt0bOJZAWSUigmkQaJaXhENiRnYBEpkZySRSRGcmIWEaQnYhHRSI5mESmQnIJFZIqQmGhiEYEbEnPjGlEGjYTogW/WUkOXENENSqZfEXmDiIiIiIiIiIiIiIiIiIiImq5ETIpRpBpjJCMeKy6Ri0ZS9MQjkmkkJs1YRDokp2MRyZGclkUkQnIiEQltaX3Lzb6yiGTpl2y/avqSAxGgelCOKI+Kc2isL0TUSsZ4EREREREREREREREREREREfnIQzXrNWSRTeNxnlOwIgueIr6AAyE+CpiqMEUK71IDO4E+LluEKYKnKcMUifEsTZgiJZ5lDVNkwJPcqzBFoPF/HplfxL/w6b4EPGv1h18Weya1TL8iIiIeiIiIiIiIiEjkPefxV+5YA9PPHylB+u5aqgZ39H+jKOxrqtu+pkzvr9YbzoZ6w2OFkzcrA3yE4WZlSSyFk54VoA/wR43+FaD+r9w32QdWvgvjp2ty2xq8qHPHmtyPFxfrK3hw1ejERlAlfR/Ame2OTow05d4rOLLSlHtDVhI0uRO01JeZ405op6zgNNXT+bIRfpIgn+AkU4pOxBscohojdCHu4RRzjC5EYwVHqRONDkSnEvK/CB3QSU32IRW3ZPnj9iEVoGCNTLVrh8ia1x+6wq8xvB5mz8pxu7oPwIn9lcR0AiuX1+1KX+BXqdvXzWsAC0NsGjzZsS/2Bd6yRA5RgIHkXNhSD3whASZ8rrB9mItuEAizac0fDlHxDMEwpQfD1tW4y3Hjfy5s9nOHH3uwWA+EqEJBWCjoTL/S5toBB/7hu6zer74NgqSP39zJU+qQX3ix763mHTqvIVRUVprCljlElRkEjBqNYevH8veBJ2xhiyhE8YctmhDFH7ZoQhR/2KIJUfxhiyRE8YctmhDFH7ZoQhR/2OIJUfxhC9Ppf/t1jgJACERRsHGyYRZB0Ujvf0xD8w6kP7y6RZmgf/oTFTtbbzJVxZWo2Nlqw6TVy5GowNl6ssm7v50obamfSxQAAAAAAAsKLM15fb3vpQAAAABJRU5ErkJggg=="),a_._image}static toggle(t,e,r,n){if(e){var i=t.root.findById(e);i?i._findInfoWindowByComponent(t)?a_.hide(t,e):a_.show(t,e,r,n):console.warn("InfoWindow Not Found.",e)}else console.warn("InfoWindow not defined.")}static hide(t,e){if(e){var r=t.root.findById(e);r?r._removeInfoWindow(t):console.warn("InfoWindow Not Found.",e)}}static show(t,e,r,n){if(e){var i=t.root.findById(e);if(i){if(!i._findInfoWindowByComponent(t)){var{frontSideTemplate:o="",backSideTemplate:a=""}=i.model,s=[o,a].filter(t=>String(t).trim());if(0!=(s=s.map(t=>Dx.template(function(t,e,r){return(e||r?['<div class="info-window-btns">',e?'<button class="closable">&#88</button>':"",r?'<button class="flipable">&#8652</button>':"","</div>"]:[]).concat(['<div class="info-window-content">',t,"</div>"]).join("")}(t,!r,2==s.length)))).length){var l='\n.flip {\n  backface-visibility:             hidden;\n      -moz-backface-visibility:    hidden;\n      -ms-backface-visibility:     hidden;\n      -o-backface-visibility:      hidden;\n      -webkit-backface-visibility: hidden;\n  border-radius: 7px;\n  height: auto;\n  font: normal 14px helvetica, arial, san serif;\n  position: absolute;\n  opacity:.9;\n  transform-origin:             50% 50% 0px;\n      -moz-transform-origin:    50% 50% 0px;\n      -ms-transform-origin:     50% 50% 0px;\n      -o-transform-origin:      50% 50% 0px;\n      -webkit-transform-origin: 50% 50% 0px;\n  transition: all 2s;\n      -moz-transition:    all 2s;\n      -ms-transition:     all 2s;\n      -o-transition:      all 2s;\n      -webkit-transition: all 2s;\n  min-width: 100px;min-height:50px;\n  background-color:#3e424e;\n  box-shadow: 2px 3px 2px 0px rgba(0,0,0,0.15);\n}\n\n#side-1 {\n  transform:             rotateY( 0deg );\n      -moz-transform:    rotateY( 0deg );\n      -ms-transform:     rotateY( 0deg );\n      -o-transform:      rotateY( 0deg );\n      -webkit-transform: rotateY( 0deg );\n}\n.flip:after{\n   content:"";\n   display:block;\n   position: absolute;\n   opacity:.9;\n   width: 0;\n   height: 0;\n}\n.flip.arrow-top:after{\n   left:45%;\n   top:-17px;\n   border-left:10px solid transparent;\n   border-bottom:18px solid #323b44;\n   border-right:10px solid transparent;\n}\n.flip.arrow-right:after{\n   left:100%;\n   top:48%;\n   border-top:10px solid transparent;\n   border-left:18px solid #323b44;\n   border-bottom:10px solid transparent;\n}\n.flip.arrow-bottom:after{\n   left:45%;\n   top:100%;\n   border-left:10px solid transparent;\n   border-top:18px solid #323b44;\n   border-right:10px solid transparent;\n}\n.flip.arrow-left:after{\n   right:100%;\n   top:48%;\n   border-top:10px solid transparent;\n   border-right:18px solid #323b44;\n   border-bottom:10px solid transparent;\n}\n\n#side-2 {\n  transform:             rotateY( 180deg );\n      -moz-transform:    rotateY( 180deg );\n      -ms-transform:     rotateY( 180deg );\n      -o-transform:      rotateY( 180deg );\n      -webkit-transform: rotateY( 180deg );\n}\n\n.flip-side-1 {\n  transform:             rotateY( 0deg ) !important;\n      -moz-transform:    rotateY( 0deg ) !important;\n      -ms-transform:     rotateY( 0deg ) !important;\n      -o-transform:      rotateY( 0deg ) !important;\n      -webkit-transform: rotateY( 0deg ) !important;\n}\n\n.flip-side-2 {\n  transform:             rotateY( 180deg ) !important;\n      -moz-transform:    rotateY( 180deg ) !important;\n      -ms-transform:     rotateY( 180deg ) !important;\n      -o-transform:      rotateY( 180deg ) !important;\n      -webkit-transform: rotateY( 180deg ) !important;\n}\n\n.info-window-btns{\n  position:absolute;\n  top:-18px;\n  right:5px;\n  overflow:hidden;\n}\n.info-window-content{\n  padding:10px;\n  color:#efefef;\n  font-size:13px;\n  line-height:1.4;\n}\n.info-window-btns button{\n  width:40px;height:40px;\n  float:right;\n  border:0;\n  border-radius:50%;\n  background-color:#2a7da1;\n  margin-right:3px;\n  text-align:center;\n  cursor:pointer;\n  font-size:35px;\n  color:#fff;\n  line-height:0;\n}\n.info-window-btns button:hover{\n  background-color:#60bb23;\n}\n'+i.get("style"),{left:c,top:h}=t.bounds,{x:u,y:f}=n?t.rootModel.transcoordC2S(n.x,n.y):t.transcoordS2T(c,h);c=u,h=f;var d=document.createElement("span");d.style.position="absolute";var p=document.createElement("style");if(p.type="text/css",p.styleSheet?p.styleSheet.cssText=l:p.appendChild(document.createTextNode(l)),d.appendChild(p),s[0]){var g=document.createElement("div");g.id="side-1",g.className="flip",g.style.display="inline-block",g.innerHTML=s[0](t)}if(s[1]){var v=document.createElement("div");v.id="side-2",v.className="flip",v.style.display="inline-block",v.innerHTML=s[1](t)}Qb.forEach((function(t){d.addEventListener(t,(function(t){t.stopPropagation()}))})),Jb.forEach((function(t){d.addEventListener(t,(function(t){t.stopPropagation()}))}));var y=t.root.model_layer.overlay;if(g&&d.appendChild(g),v&&d.appendChild(v),y.appendChild(d),i._addInfoWindow(t,d,p),g){let r=g.querySelector(".info-window-btns > .flipable");r&&r.addEventListener("click",(function(t){t.preventDefault(),v.className=o_(v.className,"flip-side-1"),g.className=o_(g.className,"flip-side-2")}),!1);let n=g.querySelector(".info-window-btns > .closable");n&&n.addEventListener("click",(function(r){r.preventDefault(),a_.hide(t,e)}),!1)}if(v){let r=v.querySelector(".info-window-btns > .flipable");r&&r.addEventListener("click",(function(t){t.preventDefault(),v.className=o_(v.className,"flip-side-1"),g.className=o_(g.className,"flip-side-2")}),!1);let n=v.querySelector(".info-window-btns > .closable");n&&n.addEventListener("click",(function(r){r.preventDefault(),a_.hide(t,e)}),!1)}var m=g.offsetWidth,b=g.offsetHeight,x=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,t.rootModel.target.getBoundingClientRect()),_=[];g&&_.push(g),v&&_.push(v);var w={x:c,y:h},A=t.transcoordS2C(w.x,w.y);if(A.x+m/2+x.left<x.right&&A.x-m/2>x.left){if(b+20<A.y)return d.style.marginLeft=w.x-m/2+"px",d.style.marginTop=w.y-b-20+"px",void _.forEach(t=>t.className+=" arrow-bottom");if(A=t.transcoordS2C(w.x,w.y+b+20),x.bottom>A.y+x.top)return d.style.marginLeft=w.x-m/2+"px",d.style.marginTop=w.y+20+"px",void _.forEach(t=>t.className+=" arrow-top")}if((A=t.transcoordS2C(w.x,w.y)).x-(m+20)>x.left)return d.style.marginLeft=w.x-m-20+"px",d.style.marginTop=w.y-b/2+"px",void _.forEach(t=>t.className+=" arrow-right");d.style.marginLeft=w.x+20+"px",d.style.marginTop=w.y-b/2+"px",_.forEach(t=>t.className+=" arrow-left")}}}else console.warn("InfoWindow Not Found.",e)}else console.warn("InfoWindow not defined.")}dispose(){this.infoWindows.map(t=>t.component).forEach(t=>this._removeInfoWindow(t)),super.dispose()}get infoWindows(){return this._windows||(this._windows=[]),this._windows}_findInfoWindowByComponent(t){return this.infoWindows.find(e=>e.component===t)}_addInfoWindow(t,e,r){this._findInfoWindowByComponent(t)||this._windows.push({component:t,window:e,styleElement:r})}_removeInfoWindow(t){var e=this._findInfoWindowByComponent(t);if(!e)return;let r=e.window;r&&r.parentNode.removeChild(r);var n=this.infoWindows.lastIndexOf(e);this.infoWindows.splice(n,1)}render(t){var{left:e,top:r,width:n,height:i}=this.bounds;t.beginPath(),t.drawImage(a_.image,e,r,n,i)}get hasTextProperty(){return!1}get nature(){return i_}}Dx.register("info-window",a_);const s_="center",l_="\nbutton.closable {\n  width: 20px;\n  height: 20px;\n  right: 0px;\n  top: 0px;\n  padding: 0;\n  margin: 0;\n  border: 0px;\n  text-align: center;\n  cursor: pointer;\n  font-size: 12px;\n  color: black;\n  position: absolute;\n  background-color: transparent;\n}\n\nbutton.closable:hover {\n  background-color:#60bb23;\n}\n",c_=new WeakMap;function h_(t){var e=c_.get(t);if(e){var r=e.div.parentNode;r&&r.removeChild(e.div);var n=e.scene;n.target=null,n.release(),c_.delete(t)}}function u_(t){h_(t)}function f_(t,e,r={}){var{data:n,location:i=s_,modal:o=!1}=r,a=t.app.refProvider;a&&a.get(e,!0).then(e=>{var r=document.createElement("div"),a=r.style;if(o){var{width:s,height:l}=t.rootModel.bounds;a.position="fixed",a.zIndex=1,a.left=0,a.top=0,a.width=s+"px",a.height=l+"px",a.overflow="auto",a.backgroundColor="rgba(0,0,0,0.3)"}else a.position="absolute",a.display="inline-block";r.innerHTML=o?'\n<div class="popup-content">\n</div>\n':'\n<div class="popup-content">\n</div>\n<button class="closable">&#88</button>\n';var c=r.querySelector(".popup-content"),{width:s,height:l}=e.root.model;c.style.width=s+"px",c.style.height=l+"px";var h=document.createElement("style");h.type="text/css",h.styleSheet?h.styleSheet.cssText=l_:h.appendChild(document.createTextNode(l_)),r.appendChild(h);var u=r.querySelector(".popup-content");Qb.forEach((function(t){u.addEventListener(t,(function(e){"click"==t&&console.log(e,e.target),e.stopPropagation()}))})),Jb.forEach((function(t){u.addEventListener(t,(function(t){t.stopPropagation()}))})),r.addEventListener("click",e=>u_(t.root)),t.root.model_layer.overlay.appendChild(r),function(t,e,r){h_(t),c_.set(t,{div:e,scene:r})}(t.root,r,e),o||r.querySelector(".closable").addEventListener("click",(function(e){e.preventDefault(),u_(t.root)}),!1),r.addEventListener("close-scene",e=>{e.preventDefault(),u_(t.root)},!1),e.target=c,e.data=n||t.data,e.fit("both");var f=function(t,e,r,n=s_){var i=t.bounds,o=e.bounds,a=Math.max(i.width/4-o.width/2,20),s=Math.min(3*i.width/4+o.width/2,i.width-20)-o.width,l=Math.max(i.height/4-o.height/2,20),c=Math.min(3*i.height/4+o.height/2,i.height-20)-o.height;switch(n){case"auto":return{x:r.x<i.width/2?s:a,y:r.y<i.height/2?c:l};case"left-top":return{x:a,y:l};case"right-top":return{x:s,y:l};case"left-bottom":return{x:a,y:c};case"right-bottom":return{x:s,y:c};case s_:default:return{x:(i.width-o.width)/2,y:(i.height-o.height)/2}}}(t.rootModel,e.root,t.center,i);o?(c.style.left=f.x+"px",c.style.top=f.y+"px",c.style.width=s+"px",c.style.height=l+"px"):(r.style.left=f.x+"px",r.style.top=f.y+"px",r.style.width=s+"px",r.style.height=l+"px")},(function(t){console.error("cannot fetch board: "+e,t)}))}var d_=Object.freeze({__proto__:null,hide:u_,show:f_});function p_(t){t.hasOwnProperty("_backupStrokeStyle")||(t._backupStrokeStyle=t.model.strokeStyle,t.set("strokeStyle","#f26522"),t.hasOwnProperty("_backupLineWidth")||(t._backupLineWidth=t.model.lineWidth,t.set("lineWidth",t.model.lineWidth+5)))}function g_(t){t.hasOwnProperty("_backupStrokeStyle")&&(t.set("strokeStyle",t._backupStrokeStyle),delete t._backupStrokeStyle,t.hasOwnProperty("_backupLineWidth")&&(t.set("lineWidth",t._backupLineWidth),delete t._backupLineWidth))}const v_={x:1,y:1},y_={x:0,y:0};class m_ extends r_{constructor(t,e){super(t,e)}dispose(){super.dispose(),delete this._canvas,delete this._overlay}contains(t,e){return!0}isRootModel(){return!0}get stuck(){return!0}get layout(){return Qx}get overlay(){if(!this._overlay){var t=document.createElement("div");t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="initial",t.style["user-select"]="none",t.style["transform-origin"]="top left",this.element&&this.element.appendChild(t),this._overlay=t,this._repositionOverlay()}return this._overlay}createElement(){var t=document.createElement("div");return t.style.position="absolute",t.style["user-select"]="none",t.style.overflow="hidden",this._canvas=Dx.createCanvas(1,1),this._canvas.style.position="absolute",t.appendChild(this._canvas),this._overlay&&t.appendChild(this._overlay),t}resize(){var{width:t,height:e,fitMode:r}=this.model;this.root.fitMode?r=this.root.fitMode:r||(r="ratio");let n=getComputedStyle(this.target);var i,o;switch(r){case"both":case"ratio":i=n?parseFloat(n.getPropertyValue("width")):this.target.offsetWidth,o=n?parseFloat(n.getPropertyValue("height")):this.target.offsetHeight;break;case"width":o=e*(i=n?parseFloat(n.getPropertyValue("width")):this.target.offsetWidth)/t;break;case"height":i=t*(o=n?parseFloat(n.getPropertyValue("height")):this.target.offsetHeight)/e;break;default:i=t,o=e}switch(this.fitSize(this.canvas,"none"!==r,i,o),r){case"ratio":case"both":break;case"width":this.element.style.overflowX="hidden",this.element.style.overflowY="auto";break;case"height":this.element.style.overflowX="auto",this.element.style.overflowY="hidden";break;default:this.element.style.overflowX="auto",this.element.style.overflowY="auto"}this.fitSize(this.element,!0)}get canvas(){return this._canvas}get MPP(){var{scale:t={x:1,y:1},unit:e}=this.model;switch(e){case"mm":case"cm":return 1/this.app.PPM/t.x;case"in":return 1/this.app.PPI/t.x;case"px":default:return 1/t.x}}capturePath(t,e){var r=this.layout.capturables(this);for(let n=r.length-1;n>=0;n--){let i=r[n];if(!i.isContainer())continue;let o=i.capturePath(t,e);if(o)return o}return!1}get eventMap(){return{"(self)":{"(all)":{change:this._onchanged_all,mouseenter:this._onmouseenter_all,mouseleave:this._onmouseleave_all,click:this._onclick}}}}_repositionOverlay(){var t=this._overlay;if(t){var{translate:e=y_,scale:r=v_,rotation:n=0}=this.model,{left:i,top:o,width:a,height:s}=this.bounds;t.style.left=i+"px",t.style.top=o+"px";var l=`rotate(${n}rad) scale(${r.x}, ${r.y}) perspective(1px)`;t.style["margin-left"]=e.x+"px",t.style["margin-top"]=e.y+"px",["-webkit-","-moz-","-ms-","-o-",""].forEach(e=>{t.style[e+"transform"]=l})}}onchange(t){var e=this._model;delete e.id,delete e.text,delete e.class,this._repositionOverlay()}_onchanged_all(t,e,r){this.invalidate()}_onmouseenter_all(t,e){if(t.stopPropagation(),this.app&&!this.app.isEditMode&&e){var r=e.origin;if(!(r instanceof m_)&&r.model.event&&r.model.event.hover&&!r.hidden){var n=r.model.event.hover;n&&this._doEventAction(n,r,!0,!0,t)}}}_onmouseleave_all(t,e){if(t.stopPropagation(),this.app&&!this.app.isEditMode&&e){var r=e.origin,n=r.model.event&&r.model.event.hover;n&&this._doEventAction(n,r,!1,!0,t)}}_onclick(t,e){if(t.stopPropagation(),!this.app.isEditMode&&e){var r=e.origin,n=r.model.event&&r.model.event.tap;n&&this._doEventAction(n,r,!0,!1,t)}}_doEventAction(t,e,r,n,i){t.action?this._doEventAction_1_1(t,e,r,i):this._doEventAction_1_0(t,e,r,n,i)}_doEventAction_1_0(t,e,r,n,i){var{infoWindow:o,emphasize:a,target:s,value:l}=t;if(a&&(r?p_(e):n&&g_(e)),o&&!e.hidden&&(r?a_.show(e,o,!1,{x:i.offsetX,y:i.offsetY}):n&&a_.hide(e,o)),s)if(/^\$/.test(s)){if(!("value"in t))return;r?(n&&(e._lastValue=this.root.variable(s.substring(1))),this.root.variable(s.substring(1),e.access(l))):(this.root.variable(s,e._lastValue),delete e._lastValue)}else"popup"==s?f_(e,l):"modal-popup"==s?f_(e,l,{modal:!0}):"close-scene"==s?(this.overlay.dispatchEvent(new CustomEvent("close-scene",{bubbles:!0,composed:!0})),this.trigger("close-scene",this)):"infoWindow"==s||"info-window"==s?"click"==i.type&&a_.show(e,l,n,{x:i.offsetX,y:i.offsetY}):"toggle-info-window"==s?a_.toggle(e,l,!1,{x:i.offsetX,y:i.offsetY}):this.trigger(s,e.access(l),e)}_doEventAction_1_1(t,e,r,n){var{action:i,target:o,value:a,emphasize:s=!1,restore:l=!1}=t;if(o&&(o=e.access(o)),a&&(a=e.access(a)),s&&(r?p_(e):l&&g_(e)),i)switch(i){case"data-toggle":if(!o)return;(r||l)&&this.root.findAll(o,e).forEach(t=>{t.data=!t.data});break;case"data-tristate":if(!o)return;(r||l)&&this.root.findAll(o,e).forEach(t=>{let e=Math.round(Math.max(Number(t.data)||0,0));t.data=(e+(r?1:2))%3});break;case"data-set":if(!o)return;if(r){var c=a;this.root.findAll(o,e).forEach(t=>{t.data=c})}break;case"value-set":if(!o)return;if(r){c=a;this.root.findAll(o,e).forEach(t=>{t.value=c})}break;case"infoWindow":case"info-window":if(!o)return;"click"==n.type||r?a_.show(e,o,l,{x:n.offsetX,y:n.offsetY}):l&&a_.hide(e,o);break;case"toggle-info-window":if(!o)return;a_.toggle(e,o,!1,{x:n.offsetX,y:n.offsetY});break;case"popup":if(!o)return;f_(e,o);break;case"modal-popup":if(!o)return;f_(e,o,{modal:!0});break;case"close-scene":this.overlay.dispatchEvent(new CustomEvent("close-scene",{bubbles:!0,composed:!0}));break;default:this.trigger(i,o,a,e)}}}m_.Popup=d_,Dx.register("model-layer",m_);const b_=[1,2,10,20,50,50,50,50,50,50];class x_ extends(Jx(n_)){render(t){const{lineWidth:e=1,fillStyle:r="lightgray",font:n="15px Arial",left:i,top:o,rotation:a,origin:s,margin:l,width:c,height:h,side:u="bottom",strokeStyle:f="#000000",scale:d=1}=this.model;t.translate(i,o),t.beginPath();const p=Math.round(e/2);t.rect(-p,-p,c+2*p,h+2*p),t.clip(),t.beginPath(),t.rect(0,0,c,h),r&&(t.fillStyle=r,t.fill()),t.lineWidth=e,t.strokeStyle=f,t.stroke(),t.beginPath(),t.font=n;var g="bottom"!==u,v=g?0:h,y=4*h/5,m=2*h/3,b=1*h/2,x=3*h/5;g&&(y=h-y,m=h-m,b=h-b,x=h-1.5*h/5);var _=d*this.app.PPM/this.root.unitScale,w=Math.ceil(s/_),A=this.app.PPM/_,S=A<=1.1?1:b_[Math.round(A)]||100;1!=S&&(w+=(S-w%S)%S);var E=Math.ceil(w*_),M=s+c;for(t.fillStyle=f;E<M;){if(w%10==0){t.moveTo(E-s,b),t.lineTo(E-s,v);let e=(w/10).toString(),r=t.measureText(e);t.fillText(e,E-s-r.width-6,x)}else w%5==0?(t.moveTo(E-s,m),t.lineTo(E-s,v)):(t.moveTo(E-s,y),t.lineTo(E-s,v));w+=S,E=Math.ceil(w*_)}}}Dx.register("ruler",x_);const __={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"round",name:"round",property:"round"}]};var w_={ondragmove:function(t,e,r){var{left:n,top:i,width:o,height:a}=r.model,s=(r.transcoordP2S(t.x,t.y).x-n)/(o/2)*100;s=A_(s,o,a),r.set({round:s})}};function A_(t,e,r){var n=e>r?r/e*100:100;return t>=n?t=n:t<=0&&(t=0),t}class S_ extends(Jx(n_)){is3dish(){return!0}render(t){var{round:e=0}=this.model,{left:r,top:n,width:i,height:o}=this.bounds;t.translate(r,n),t.beginPath();var a=(e=A_(e,i,o))/100*(i/2);t.moveTo(a,0),t.arcTo(i,0,i,o,a),t.arcTo(i,o,0,o,a),t.arcTo(0,o,0,0,a),t.arcTo(0,0,i,0,a),t.translate(-r,-n)}get controls(){var{left:t,top:e,width:r,round:n,height:i}=this.model;return[{x:t+r/2*((n=null==n?0:A_(n,r,i))/100),y:e,handler:w_}]}get nature(){return __}}Dx.register("rect",S_);const E_=90*Math.PI/180;function M_(t,e,r){return{left:-t.x,top:-t.y,width:20,height:20}}function k_(t,e,r,n){return{left:20-t.x,top:0-t.y,origin:20-t.x,width:e-20,height:20}}function T_(t,e,r,n){var i={x:0-t.x+10,y:20-t.y+(r-20)/2},o=Dx.transcoordRR(0-t.x,20-t.y,i,E_);return{left:o.x-(r-20),top:o.y,origin:20-t.y,width:r-20,height:20}}function P_(t){var e=t.get("translate");return{left:-e.x,top:-e.y,width:t.canvas.width/Kb,height:t.canvas.height/Kb}}Dx.register("guide-layer",class extends r_{constructor(t,e){super(t,e),this.appScale={x:1,y:1},"disabled"!==t.ruler&&(this.hruler=new x_({left:20,top:0,origin:20,margin:0,height:20,unit:"m",rotation:0,font:"9px Verdana",fillStyle:"#f4f4f4",strokeStyle:"#999",capturable:!1}),this.vruler=new x_({left:0,top:0,origin:20,margin:0,height:20,unit:"m",rotation:E_,font:"9px Verdana",side:"top",fillStyle:"#f4f4f4",strokeStyle:"#999",capturable:!1}),this.origin_rect=new S_({left:-20,top:-20,width:20,height:20,fillStyle:"#f4f4f4",strokeStyle:"#999",lineWidth:1}),this.addComponent(this.hruler),this.addComponent(this.vruler),this.addComponent(this.origin_rect)),this.invalidate()}get capturable(){return!1}ready(){if(this.hruler){var t=this.rootModel,e=Object.assign({},t.get("translate"));e.x<20&&(e.x+=20),e.y<20&&(e.y+=20);var r=t.get("scale")||{x:1,y:1};this.appScale=r,this.hruler.set("scale",r.x),this.vruler.set("scale",r.y),t.set("translate",e),this.set("translate",e),this.screen_coord=P_(this);var{width:n,height:i}=this.screen_coord;this.hruler.set(k_(e,n,0,this.hruler)),this.vruler.set(T_(e,0,i,this.vruler)),this.origin_rect.set(M_(e))}else this.screen_coord=P_(this)}resize(){super.resize(),this.screen_coord=P_(this);var{width:t,height:e}=this.screen_coord;this.hruler&&(this.hruler.set(k_(this.model.translate,t,0,this.hruler)),this.vruler.set(T_(this.model.translate,0,e,this.vruler)),this.origin_rect.set(M_(this.model.translate)))}render(t){if(this.guide){t.save();var{x:e,y:r}=this.guide,{top:n,left:i,width:o,height:a}=this.screen_coord;t.beginPath(),t.moveTo(e,n),t.lineTo(e,n+a),t.moveTo(i,r),t.lineTo(i+o,r),t.lineWidth=1,t.strokeStyle="tomato",t.setLineDash([2,3]),t.font="10px tahoma",t.fillStyle="#333";var s=this.transcoordS2C(e,r,this.rootModel);t.textBaseline=s.y>200?"bottom":"top",t.textAlign=s.x>200?"right":"left";var l=s.y>200?-5:5,c=s.x>200?-5:5,h=Math.round(e/this.appScale.x),u=Math.round(r/this.appScale.y);t.fillText(` ${h}, ${u} `,e+c,r+l),t.stroke(),t.restore()}}get guide(){return this._guide}set guide(t){this._guide=t,this.invalidate()}contains(t,e){return!0}get eventMap(){return{"(root)":{"(descendant)":{mousemove:this.onmousemove_child,mouseout:this.onmouseout_child,dragmove:this.onmousemove_child},"model-layer":{change:this.onchange_root_model}},"(self)":{"(descendant)":{mousedown:this.onmousedown_origin}}}}onmousedown_origin(t,e){this.rootModel.set("translate",{x:20,y:20})}onchange_root_model(t,e,r){if(t.scale&&(this.appScale=t.scale,this.hruler&&(this.hruler.set("scale",t.scale.x),this.vruler.set("scale",t.scale.y))),t.translate&&this.set({translate:{x:t.translate.x,y:t.translate.y}}),t.scale||t.translate){if(this.screen_coord=P_(this),this.hruler){var{translate:n}=this.model,{width:i,height:o}=this.screen_coord;this.hruler.set(k_(n,i,0,this.hruler)),this.vruler.set(T_(n,0,o,this.vruler)),this.origin_rect.set(M_(n))}this._guide=null}this.invalidate()}onmouseout_child(t){this._guide=null,this.invalidate()}onmousemove_child(t,e){t.target&&"CANVAS"!==t.target.tagName?this.guide=null:this.guide=this.transcoordC2S(t.offsetX,t.offsetY)}});Dx.register("shift-layer",class extends r_{ready(){var t=this.rootModel.get("translate");this.set("translate",t)}render(t){}contains(t,e){return!(2!=this.app.mode)}get eventMap(){return{"(root)":{"(self)":{keydown:this.onkeydown,keyup:this.onkeyup}}}}onkeydown(t){32==t.keyCode&&void 0===this.before_mode&&(this.before_mode=this.app.mode,this.app.mode=2)}onkeyup(t){32==t.keyCode&&(null!=this.before_mode&&(this.app.mode=this.before_mode),delete this.before_mode)}ondragstart(t){this.last_position=this.transcoordC2S(t.offsetX,t.offsetY)}ondragmove(t){var{x:e,y:r}=this.transcoordC2S(t.offsetX,t.offsetY);this.rootModel.move({x:e-this.last_position.x,y:r-this.last_position.y}),this.last_position=this.transcoordC2S(t.offsetX,t.offsetY)}});var I_=t=>class extends t{isHTMLElement(){return!0}get element(){return this._element}set element(t){this._element=t}get tagName(){return this.get("type")}setElementProperties(t){throw new Error("Not Implemented Yet")}createElement(){this.element=document.createElement(this.tagName),this.element&&(this.parent.isHTMLElement()?this.parent.element.appendChild(this.element):this.root.model_layer.overlay.appendChild(this.element),Qb.forEach(t=>{this.element.addEventListener(t,this.userInputEventHandler.bind(this))}),Jb.forEach(t=>{this.element.addEventListener(t,this.userInputEventHandler.bind(this))}),this.oncreate_element&&this.oncreate_element(this.element))}userInputEventHandler(t){t.stopPropagation()}reposition(){this.element&&Mx(this)}disposeElement(){var t=this.element;t&&t.parentElement&&t.parentElement.removeChild(t),delete this.element}ready(){!this.element&&this.createElement(),this.parent.isHTMLElement()?this.parent.element.appendChild(this.element):this.root.model_layer.overlay.appendChild(this.element),this.setElementProperties(this.element),this.reposition()}dispose(){this.disposeElement(this),super.dispose()}get hasTextProperty(){return!0}get textHidden(){return!0}onchange(t,e){this.element&&this.setElementProperties(this.element),this.reposition()}isDescendible(t){return t.isHTMLElement()}};const O_={x:1,y:1},j_={boxSizing:"border-box",margin:"0px",position:"absolute",outline:"none"},R_={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"layout",label:"layout",name:"layoutOption"}]};class C_ extends(I_(e_)){get tagName(){return"div"}get nature(){return R_}setElementProperties(t){}get layout(){return zx.get(this.get("layout"))||Qx}reposition(){if(this.element){var{id:t,class:e,scale:r=O_}=this.state,{rotation:n=0,hidden:i}=this,{left:o,top:a,width:s,height:l}=this.bounds,c=s/2,h=l/2,u=this.element;u.hidden=i,t&&(u.id=t),e&&(u.className=e),Object.assign(u.style,j_,{left:o+"px",top:a+"px",width:"0px",height:"0px",backgroundColor:"transparent"});var f=this.delta(),d=(r&&r.x||1)*f.sx,p=(r&&r.y||1)*f.sy,g=(n||0)+f.theta,v=f.tx||0,y=f.ty||0;["-webkit-","-moz-","-ms-","-o-",""].forEach(t=>{u.style[t+"transform"]=`translate(${v+c}px, ${y+h}px) rotate(${g}rad) translate(${-c}px, ${-h}px) scale(${d}, ${p}) perspective(1px)`})}}}Dx.register("container",C_);const L_=["left","top","width","height","rotation","animation"];class F_ extends C_{isGroup(){return!0}get(t){return this._model[t]}set(t,e){if("string"==typeof t)return this.set({[t]:e});var r=L_.reduce((e,r)=>(t.hasOwnProperty(r)&&(e[r]=t[r]),e),{});return super.set(r)}capture(t,e){var r=super.capture(t,e);if(r!==this)return r}set bounds(t){if(this.__MUTATING__)super.bounds=t;else{var e=this.bounds,r=t.width/e.width,n=t.height/e.height;this.path=this.path.map(i=>({x:t.left+(i.x-e.left)*r,y:t.top+(i.y-e.top)*n})),this.components&&this.components.forEach(t=>{if(t.mutable)t.mutatePath(null,(function(t){return t.map((function(t){return{x:t.x*r,y:t.y*n}}))}));else{let e=t.bounds,i=t.center,o={x:i.x*(1-r),y:i.y*(1-n)},a=e.width*(1-r),s=e.height*(1-n),l=-(o.x-a/2),c=-(o.y-s/2);t.bounds={left:e.left+l,top:e.top+c,width:e.width*r,height:e.height*n}}})}}get focusible(){return!1}get bounds(){return super.bounds}get hasTextProperty(){return!1}calculateBounds(){this.clearCache(),this.__MUTATING__=!0,this.mutateBounds((function(t){var e=Dx.union(this.components.map(t=>t.bounds));return this.components.forEach(t=>{let r=t.bounds;t.bounds={left:r.left-e.left,top:r.top-e.top,width:r.width,height:r.height}}),{left:t.left+e.left,top:t.top+e.top,width:e.width,height:e.height}}),this),this.__MUTATING__=!1,this.parent.isGroup()&&this.parent.calculateBounds()}render(t){}postrender(t){var{top:e,left:r,scale:n}=this.model;t.translate(r,e),this.layout.drawables(this).forEach(e=>{e.draw(t)}),t.translate(-r,-e)}}function B_(t,e,r,n){var i=t.selected,o=n?i.slice(0):[];n&&o.length>0?e=o[0].parent:e.isContainer()||(e=e.parent);var a=e.layout.capturables(e),s=!!e.layout.joinType;if(n&&r.selected.forEach(t=>{o.splice(o.indexOf(t),1)}),r.selected=[],a.forEach(t=>{t.capturable&&function(t,e,r){var n,i,o,a,{sx:s,sy:l,ex:c,ey:h}=e;if(s>c?(n=c,i=s):(n=s,i=c),l>h?(o=h,a=l):(o=l,a=h),r){var u=t.bounds,f=t.transcoordS2TR(u.left,u.top),d=t.transcoordS2TR(u.left+u.width,u.top+u.height),p=f.x,g=d.x,v=f.y,y=d.y,m=Math.min(n,p,i,g),b=Math.max(n,p,i,g),x=Math.min(o,v,a,y),_=Math.max(o,v,a,y);return!(b-m>Math.abs(i-n)+Math.abs(g-p))&&!(_-x>Math.abs(a-o)+Math.abs(y-v))}var w=t.path;if(!w)return Bb("컴포넌트에 get path가 잘못 구현되어있음.",t),!1;for(let e=0;e<w.length;e++){let r=t.transcoordS2TR(w[e].x,w[e].y);if(n>r.x||i<r.x||o>r.y||a<r.y)return!1}return!0}(t,r,s)&&-1==o.indexOf(t)&&r.selected.push(t)}),o=o.concat(r.selected),i.length!==o.length)t.selected=o;else for(let e=0;e<o.length;e++)if(i[e]!=o[e]){t.selected=o;break}}function N_(t,e,r,n,i){i||B_(t,e,r,n)}Dx.register("group",F_);Dx.register("selection-layer",class extends r_{ready(){var t=this.rootModel,e=t.get("translate"),r=t.get("scale");this.set("translate",e),this.set("scale",r)}contains(t,e){return!1}render(t){var e=this.selbox;if(e){let{sx:r,sy:n,ex:i,ey:o}=e,a=this.get("scale")||{x:1,y:1};t.beginPath(),t.rect(r,n,i-r,o-n),t.setLineDash([2/a.x,4/a.y]),t.lineWidth=1/a.x,t.strokeStyle="black",t.stroke()}}get eventMap(){return{"(root)":{"(self)":{keydown:this.onkeydown}},"model-layer":{"(self)":{change:this.onchange_root_model},"(all)":{dragstart:this.ondragstart_selbox,dragmove:this.ondragmove_selbox,dragend:this.ondragend_selbox,mousedown:this.onmousedown_comp,mouseup:this.onmouseup_comp}}}}onkeydown(t,e){var{origin:r,deliverer:n}=e,i=n.selected;if(1!=i.length)return!1;var o=i[0],a=o.parent;if(!a||a===n)return!1;if("Tab"==t.code){if("Tab"!=t.code)return!1;var s=a.layout.capturables(a),l=s.indexOf(o);if(-1==l){if(!a.indexOf(o))return Nb("Container not contains [",o,"] as a component"),!1;l=0}var c=s.length;t.shiftKey?l--:l++,o=s[(l+c)%c]}else{if(!a.layout.keyNavigate)return!1;o=a.layout.keyNavigate(a,o,t)||o}n.selected=[o],t.preventDefault()}onchange_root_model(t,e,r){t.translate&&this.set("translate",t.translate),t.scale&&this.set("scale",t.scale)}_pendingDecision(t){this.downpoint={x:t.offsetX,y:t.offsetY}}_selectGroupItem(t,e){var r=this.selected.indexOf(t);let n=t.parent;for(;n.parent.isGroup();)n=n.parent;let i=[],o=!1,a=!1;if(this.selected.forEach(t=>{let e=t.parent;if(t!==n){for(;e.parent&&e.parent.isGroup();)e=e.parent;e===n&&(i.push(t),o=!0)}else a=!0}),o)if(e.shiftKey){if(-1!=r)return void this._pendingDecision(e);i.push(t)}else{if(-1!=r)return void this._pendingDecision(e);i=[t]}else{if(a)return void this._pendingDecision(e);if(e.shiftKey)if(this.selected.length>0){if(-1!=this.selected.indexOf(n)||this.selected[0].parent!==n.parent)return;i=[...this.selected,n]}else i=[n];else i=[n]}this.selected=i}onmousedown_comp(t,e){var{origin:r}=e;if(this.downpoint=null,t.shiftKey){if(r.parent.isGroup())return void this._selectGroupItem(r,t);if(-1!=this.selected.indexOf(r))return void this._pendingDecision(t);{let e=this.selected.filter(t=>!t.isRootModel()&&!!t.parent),n=e.length>0&&e[0].parent;if(n&&n!==r.parent)return void(r.parent.isGroup()&&this._pendingDecision(t));e.push(r),this.selected=e}}else{if(r.parent.isGroup())return void this._selectGroupItem(r,t);if(-1!=this.selected.indexOf(r))return;this.selected=[r]}}onmouseup_comp(t,e){if(!this.downpoint)return;if(this.downpoint.x!==t.offsetX||this.downpoint.y!==t.offsetY)return;var{origin:r}=e;let n=this.selected.indexOf(r);if(-1==n&&r.parent.isGroup()&&(n=this.selected.indexOf(r.parent)),-1!==n&&t.shiftKey){let t=this.selected.slice();return n>-1&&t.splice(n,1),void(this.selected=t)}r.parent.isGroup()&&(this.selected=[r])}ondragstart_selbox(t,e){var{origin:r}=e;if(r.stuck){var{x:n,y:i}=this.transcoordC2S(t.offsetX,t.offsetY);this.selbox={sx:n,sy:i,selected:[]}}}ondragmove_selbox(t,e){var{origin:r}=e;if(r.stuck){var{x:n,y:i}=this.transcoordC2S(t.offsetX,t.offsetY);this.selbox&&(this.selbox.ex=n,this.selbox.ey=i,N_(this,r,this.selbox,t.shiftKey),this.invalidate())}}ondragend_selbox(t,e){var{origin:r}=e;r.stuck&&(this.last_pos=null,this.selbox=null,N_(this,null,null,!1,!0),this.invalidate())}});class D_{constructor(t){this.params=Object.assign({},t)}excute(){}}class U_ extends D_{execute(){this.params.changes.forEach(t=>t.component.set(t.after))}static before(t){return t.map(t=>({component:t}))}static after(t,e){e.execute(null,!1)}static around(t,e,r){e.call(r),t.execute(null,!1)}}function z_(t){for(var e=0;t&&!t.isRootModel();)e+=t.get("rotation")||0,t=t.parent;return e%(2*Math.PI)}class W_ extends D_{execute(){this.params.changes.forEach(t=>{let{component:e,to_container:r,to_index:n,to_left:i,to_top:o,hint:a}=t,s=function(t){if(t.isRootModel())return t.bounds;var{bounds:e,rotatePoint:r}=t,n=r;return{left:(n=t.transcoordS2T(n.x,n.y)).x-(r.x-e.left),top:n.y-(r.y-e.top),width:e.width,height:e.height}}(e),l=z_(e);if(e.removeSelf(!r),e.bounds=s,e.set("rotation",l),r){e.set("rotation",function(t,e){return((t.get("rotation")||0)-z_(e))%(2*Math.PI)}(e,r));let a=function(t,e){if(e.isRootModel())return t.bounds;var{bounds:r,rotatePoint:n}=t,i=e.transcoordT2S(n.x,n.y),o=e.bounds;return{left:i.x-(n.x-r.left)-o.left,top:i.y-(n.y-r.top)-o.top,width:r.width,height:r.height}}(e,r);t.to_left=void 0!==i?i:a.left,t.to_top=void 0!==o?o:a.top,e.bounds={left:t.to_left,top:t.to_top,width:a.width,height:a.height},void 0===n?r.addComponent(e):r.insertComponentAt(e,n)}})}}function Y_(t,e){var r=Dx.register(t.type);if(!r)return Nb("Class not found",t.type),null;var n=new r(t,e);return t.components&&n.isContainer()&&(t.components.forEach(t=>{var r=Y_(t,e);r&&n.addComponent(r)}),delete t.components),n.created(),n}class G_{constructor(t){this.layer=t}draw(t,e,r){var n=e.bounds;0!=n.width&&0!=n.height&&(t.beginPath(),t.rect(n.left,n.top,n.width,n.height),t.clip(),t.beginPath(),t.strokeStyle="#f26522",t.lineWidth=4,t.shadowBlur=10,t.shadowColor="black",t.shadowOffsetX=0,t.shadowOffsetY=0,t.rect(n.left,n.top,n.width,n.height),t.stroke(),t.closePath())}}class H_{constructor(t){this.layer=t}draw(t,e,r){var n=e.bounds;t.beginPath(),t.rect(n.left,n.top,n.width,n.height),t.setLineDash([3/r.x,4/r.y]),t.lineWidth=1/r.x,t.strokeStyle="black",t.stroke(),t.setLineDash([]),t.closePath()}}class q_{constructor(t){this.layer=t}reset(){this.active=null}get selected(){return this.layer.selected}contains(t,e,r,n){let i=r.controls;return!!i&&(i.every((i,o)=>(Math.abs(t-i.x)<=4/n.x&&Math.abs(e-i.y)<=4/n.y&&(this.active={component:r,index:o,handler:i.handler}),!this.active)),!!this.active)}draw(t,e,r){var n=e.controls;n&&n.forEach((e,n)=>{t.beginPath(),t.lineWidth=1/r.x,t.ellipse(e.x,e.y,4/r.x,4/r.y,0,0,2*Math.PI,!0),t.fillStyle="#ff5d72",t.fill(),t.strokeStyle="#fff",t.stroke()})}onevent(t,e){var{handler:r,component:n,index:i}=this.active,o=n.transcoordC2S(e.offsetX,e.offsetY);o=n.transcoordS2P(o.x,o.y),r&&"function"==typeof r[t]&&r[t](o,i,n)}onmousedown(t){this.onevent("onmousedown",t)}ondragstart(t){var e=this.active;e.changes=U_.before([e.component]),this.onevent("ondragstart",t)}ondragmove(t){this.onevent("ondragmove",t)}ondragend(t){this.onevent("ondragend",t);var{component:e,changes:r}=this.active;U_.after(r,e.app.commander),e.parent&&e.parent.calculateBounds&&e.parent.calculateBounds()}}function X_(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}const V_=15*Math.PI/180;class K_{constructor(t){this.layer=t}reset(){this.active=null}get selected(){return this.layer.selected}contains(t,e,r,n){return!!r.mutable&&(r.path.every((i,o)=>(Math.abs(t-i.x)<=4/n.x&&Math.abs(e-i.y)<=4/n.y&&(this.active={component:r,index:o}),!this.active)),!!this.active)}draw(t,e,r){if(e.mutable&&!e.stuck){var n=e.path,i=this.active;n.forEach((n,o)=>{t.beginPath(),t.ellipse(n.x,n.y,4/r.x,4/r.y,0,0,2*Math.PI,!0),t.lineWidth=1/r.x,t.strokeStyle="#656565",t.fillStyle="#fff",i&&i.component===e&&i.index===o&&(t.strokeStyle="#fa7703",i.toFill&&(t.fillStyle="#ffb80c")),t.fill(),t.stroke()})}}ondblclick(t){var e=this.active.component;if(e.pathExtendable){var r=e.path.slice();r.length<4||(r.splice(this.active.index,1),e.path=r)}}onmousedown(t){this.active.toFill=!0}ondragstart(t){var e=this.active;e.changes=U_.before([e.component])}ondragmove(t){var e,r,{component:n,index:i}=this.active,o=n.transcoordC2S(t.offsetX,t.offsetY);if(o=n.transcoordS2P(o.x,o.y),t.shiftKey){var a=n.path.length,s=n.isLine()&&0==i?n.path[1]:n.path[(i-1+a)%a];s=n.transcoordS2P(s.x,s.y);var l,c=0;if(a>2)n.isLine()?0==i?l=n.path[2]:1!=i&&(l=n.path[i-2]):l=n.path[(i-2+a)%a],l&&(c=X_(l=n.transcoordS2P(l.x,l.y),s));var h=Math.round((X_(s,o)-c)/V_)*V_+c;o=function(t,e,r){return{x:Math.cos(e)*r+t.x,y:Math.sin(e)*r+t.y}}(s,h,(e=s,r=o,Math.sqrt((r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y))))}n.mutatePath(null,(function(t){t[i]=o}))}ondragend(t){var{component:e,changes:r}=this.active;U_.after(r,e.app.commander),e.parent&&e.parent.calculateBounds&&e.parent.calculateBounds()}}function Q_(t,e,r){var n,i,{left:o,top:a,width:s,height:l}=t.bounds;switch(e){case 0:n=o,i=a;break;case 1:n=o+s/2,i=a;break;case 2:n=o+s,i=a;break;case 3:n=o+s,i=a+l/2;break;case 4:n=o+s,i=a+l;break;case 5:n=o+s/2,i=a+l;break;case 6:n=o,i=a+l;break;case 7:n=o,i=a+l/2}var c=n,h=i,u=t.transcoordT2S(r.x,r.y);return{dx:u.x-c,dy:u.y-h}}function J_(t,e,r,n,i,o){var{left:a,top:s,width:l,height:c}=t.bounds,h={left:a,top:s,width:l,height:c};switch(e){case 0:a+=n,s+=i,l-=n,c-=i;break;case 1:s+=i,c-=i;break;case 2:s+=i,l+=n,c-=i;break;case 3:l+=n;break;case 4:l+=n,c+=i;break;case 5:c+=i;break;case 6:a+=n,l-=n,c+=i;break;case 7:a+=n,l-=n}if(t.mutateBounds((function(e){return Math.abs(l)<=.001&&(l=.001),Math.abs(c)<=.001&&(c=.001),t.adjustResize({left:a,top:s,width:l,height:c},h,r)}),this),t.isContainer()&&t.layout.ABSOLUTE&&!t.isGroup()){var u=h.left-a,f=h.top-s;o?t.components.forEach(t=>{t.delta("tx",0),t.delta("ty",0),t.move({x:u,y:f})}):t.components.forEach(t=>{t.delta("tx",u),t.delta("ty",f)})}else{var d=o&&t.parent;d&&d.isGroup()&&d.calculateBounds()}}function Z_(t){var{left:e,top:r,width:n,height:i}=t,o=e+n/2,a=r+i/2,s=e+n,l=r+i;return[{x:e,y:r},{x:o,y:r},{x:s,y:r},{x:s,y:a},{x:s,y:l},{x:o,y:l},{x:e,y:l},{x:e,y:a}]}class $_{constructor(t){this.layer=t}reset(){this.active=null}get selected(){return this.layer.selected}contains(t,e,r,n){return!!r.resizable&&(Z_(r.bounds).every((i,o)=>(Math.abs(t-i.x)<=4/n.x&&Math.abs(e-i.y)<=4/n.y&&(this.active={component:r,index:o}),!this.active)),!!this.active)}draw(t,e,r){if(!e.isLine()){var n=e.bounds;if(t.beginPath(),t.rect(n.left,n.top,n.width,n.height),t.setLineDash([3/r.x,4/r.y]),t.lineWidth=1/r.x,t.strokeStyle="black",t.stroke(),t.setLineDash([]),e.resizable){var i=this.active;Z_(n).forEach((n,o)=>{t.beginPath(),t.rect(n.x-4/r.x,n.y-4/r.y,8/r.x,8/r.y),t.setLineDash([0,0]),t.strokeStyle="#656565",t.stroke(),t.fillStyle="#fff",i&&i.component===e&&i.index===o&&(t.strokeStyle="#fa7703",i.focus&&(t.fillStyle="#ffb80c")),t.fill(),t.stroke()})}}}onmousedown(t){this.active.focus=!0}ondragstart(t){var{component:e}=this.active;this.active.bounds=e.bounds,this.active.boundsList=this.layer.selected.filter(t=>t.resizable).map(t=>t.bounds)}ondragmove(t){var{component:e,index:r,boundsList:n,bounds:i}=this.active,o=this.layer.transcoordC2S(t.offsetX,t.offsetY);e.bounds=i;var a=Q_(e,r,o);this.layer.selected.filter(t=>t.resizable).forEach((e,i)=>{e.bounds=n[i],J_(e,r,t.shiftKey,a.dx,a.dy,!1)})}ondragend(t){var{component:e,index:r,boundsList:n,bounds:i}=this.active,o=this.layer.transcoordC2S(t.offsetX,t.offsetY);e.bounds=i;var a=Q_(e,r,o);this.layer.selected.filter(t=>t.resizable).forEach((e,i)=>{e.bounds=n[i],J_(e,r,t.shiftKey,a.dx,a.dy,!0)}),this.active.component.app.commander.execute(null,!1)}}const tw=2*Math.PI,ew=Math.PI/2;function rw(t,e){var r=t.bounds;return{x:r.left+r.width/2,y:r.top-20/e.y}}class nw{constructor(t){this.layer=t}reset(){this.active=null}get selected(){return this.layer.selected}contains(t,e,r,n){if(!r.rotatable)return!1;var i=rw(r,n);return Math.abs(t-i.x)<=4/n.x&&Math.abs(e-i.y)<=4/n.y&&(this.active={component:r},!0)}draw(t,e,r){if(e.rotatable){t.beginPath();var n=rw(e,r);t.lineWidth=1.5/r.x,t.moveTo(n.x,n.y+20/r.y),t.lineTo(n.x,n.y),t.strokeStyle="#656565",t.stroke(),t.beginPath(),t.ellipse(n.x,n.y,4/r.x,4/r.y,0,0,tw,!0),t.stroke(),t.fillStyle="#fff",t.fill();var i=this.active;i&&i.component===e&&(t.strokeStyle="#fa7703",t.stroke(),i.toFill&&(t.fillStyle="#ffb80c",t.fill()))}}onmousedown(t){this.active.toFill=!0}ondragstart(t){var e=this.active;e.component;e.start_rotation=e.component.get("rotation"),e.rotations=this.layer.selected.filter(t=>t.rotatable).map(t=>t.get("rotation"))}ondragmove(t){var{component:e}=this.active,r=e.transcoordC2S(t.offsetX,t.offsetY);r=e.transcoordS2P(r.x,r.y);var n=e.rotatePoint,i=e.get("rotation")||0,o=Math.atan((n.y-r.y)/(n.x-r.x)),a=(o=n.x>=r.x?o-ew:ew+o)-i;this.layer.selected.filter(t=>t.rotatable).forEach((e,r)=>{let n=((e.get("rotation")||0)+a)%tw;e.set("rotation",e.adjustRotation(n,t.shiftKey))})}ondragend(t){var{component:e,rotations:r}=this.active;e.app.commander.execute(null,!1)}}Dx.register("modeling-layer",class extends r_{constructor(t,e){super(t,e);var r=new K_(this),n=new q_(this),i=new $_(this),o=new nw(this);this._modelers=[r,n,i,o],this._control_mode_modelers=[n,r,i,o],this.focusOutline=new G_(this),this.groupOutline=new H_(this),this._reversed_modelers=this._modelers.slice().reverse(),this._control_mode_reverse_modelers=this._control_mode_modelers.slice().reverse()}get modelers(){return this._control_mode?this._control_mode_modelers:this._modelers}get reversedModelers(){return this._control_mode?this._control_mode_reverse_modelers:this._reversed_modelers}ready(){var t=this.rootModel,e=t.get("translate"),r=t.get("scale");this.set("translate",e),this.set("scale",r)}contains(t,e){if(this._state_dragging)return!0;this.modelers.forEach(t=>t.reset());var r=this.selected.filter(t=>!!t.parent),n=this.get("scale")||{x:1,y:1};for(let i=0;i<r.length;i++){let o=r[i],a=o.transcoordT2S(t,e);for(let t=0;t<this.modelers.length;t++){let e=this.modelers[t];if(e.contains(a.x,a.y,o,n))return this.currentModeler=e,!0}}return!1}_componentDrawer(t,e,r,n){let i=[],o=e.parent;if(e.isRootModel())return t.save(),n(t,e,r),void t.restore();for(;o&&!o.isRootModel();)i.push(o),o=o.parent;t.save(),i.reverse().forEach((function(e){let r=e.rotatePoint;t.translate(r.x,r.y);let n=e.get("scale");n&&t.scale(n.x,n.y),t.rotate(e.get("rotation")),t.translate(-r.x,-r.y);let i=e.bounds;t.translate(i.left,i.top)}));let a=e.rotatePoint;t.translate(a.x,a.y);let s=e.get("scale");s&&t.scale(s.x,s.y),t.rotate(e.get("rotation")),t.translate(-a.x,-a.y),n(t,e,r),t.restore()}prerender(t){var{translate:e,scale:r={x:1,y:1},rotation:n}=this.model;t.save(),t.beginPath(),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.rect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="black",t.globalAlpha=.5,t.fill(),t.restore(),e&&t.translate(e.x*Kb,e.y*Kb),t.scale(r.x*Kb,r.y*Kb),n&&t.rotate(n),t.clearRect(0,0,this.rootModel.get("width"),this.rootModel.get("height"))}render(t){t.beginPath();var e=this.get("scale")||{x:1,y:1},r=this.selected.filter(t=>!!t.parent);if(this.focused&&this._componentDrawer(t,this.focused,e,(t,e,r)=>{this.focusOutline.draw(t,e,r)}),r.length>0&&r[0].parent.isGroup()){let n=r[0].parent;for(;n.parent.isGroup();)n=n.parent;this._componentDrawer(t,n,e,(t,e,r)=>{this.groupOutline.draw(t,e,r)})}r.forEach(r=>{this._componentDrawer(t,r,e,(t,e,r)=>{this.reversedModelers.forEach(n=>n.draw(t,e,r))})})}get eventMap(){return{"model-layer":{"(all)":{change:this.onchange_model,wheel:this.onwheel_scale,drop:this.ondrop}},"(root)":{"(self)":{selected:this.onselected,keydown:this.onkeydown,keyup:this.onkeyup}}}}onkeydown(t){"Alt"==t.key&&(this._control_mode=!0,this.invalidate())}onkeyup(t){"Alt"==t.key&&(this._control_mode=!1,this.invalidate())}onselected(t,e){this.invalidate()}onchange_model(t,e,r){var{origin:n,deliverer:i}=r;n===i&&(t.translate&&this.set("translate",t.translate),void 0!==t.rotation&&this.set("rotation",t.rotation),t.scale&&this.set("scale",t.scale)),this.invalidate()}ondblclick(t){"function"==typeof this.currentModeler.ondblclick&&this.currentModeler.ondblclick(t),this.invalidate()}onmousedown(t){this.currentModeler.onmousedown(t),this.invalidate()}onmouseup(t){"function"==typeof this.currentModeler.onmouseup&&this.currentModeler.onmouseup(t),this.invalidate()}onmouseenter(t,e){this.invalidate()}onmouseleave(t,e){this.invalidate()}ondragstart(t){this.currentModeler.ondragstart(t),this._state_dragging=!0}ondragmove(t){this.currentModeler.ondragmove(t),this.invalidate()}ondragend(t){this._state_dragging=!1,this.currentModeler.ondragend(t),this.invalidate()}ondrop(t,e){var{origin:r}=e,n=t.dataTransfer.files;if(n.length<1)return;let i=this.rootModel.transcoordC2S(t.offsetX,t.offsetY),o=this.rootModel;Promise.all(Array.from(n).map(t=>new Promise((e,r)=>{let n=new FileReader;n.addEventListener("loadend",t=>{e(n.result)}),["error","abort"].forEach(t=>n.addEventListener(t,t=>{r(t)})),n.readAsDataURL(t)}))).then(e=>{if(t.altKey)return U_.around(this.app.commander,()=>{r.ondropfile(n,e)}),void(this.selected=[r]);let a=[],s=e.map((t,e)=>{let r,s=n[e].type,l=n[e].name;return s.startsWith("image/")?(r=Y_({type:s.startsWith("image/gif")?"gif-view":"image-view",top:0,left:0,width:200,height:200,src:t},o.app),a.push(new Promise((e,n)=>{let i=new Image;i.src=t,i.onload=()=>{r.set({width:i.width,height:i.height}),e()},i.onerror=t=>{n(t)}}))):s.startsWith("audio/")?r=Y_({type:"audio",top:0,left:0,width:100,height:100,src:t},o.app):s.startsWith("vnd.ms-excel/")||/\.xlsx?$/.test(l)?r=Y_({type:"excel",top:0,left:0,width:100,height:100,src:t},o.app):console.log("droped file",n[e]),r&&(r.center=i,i.x+=50,i.y+=50),r}).filter(t=>t).map(t=>({component:t,to_container:o}));s.length>0&&Promise.all(a).then(()=>{this.app.commander.execute(new W_({changes:s})),this.selected=s.map(t=>t.component)},t=>{console.error(t)})},t=>{console.error(t)})}onwheel_scale(t,e){if(0!=t.deltaY||0!=t.deltaX){var r=e.deliverer;if(t.shiftKey){if(-1!=navigator.userAgent.indexOf("Win"))var n=t.deltaY<0?1:-1;else n=t.deltaX<0?1:-1;U_.around(this.app.commander,()=>{r.selected.forEach(t=>{let e=t.get("fontSize")||Zb.FONT_SIZE;e<1&&(e=1),e+=n,t.set("fontSize",e)})})}else{n=t.deltaY<0?1:-1;let e=r.get("scale")||{x:1,y:1},i=r.get("translate"),o=t.offsetX,a=t.offsetY,s=r.transcoordC2S(o,a),l=.1*n,c={x:e.x+l,y:e.y+l};if(n<0&&e.x<.2||n>0&&e.x>10)return;r.set("scale",c);let h=r.transcoordC2S(o,a);r.set("translate",{x:i.x+(h.x-s.x)*c.x,y:i.y+(h.y-s.y)*c.y})}}}});const iw=225*Math.PI/180,ow=135*Math.PI/180;function aw(t){var e=rb(t.hierarchy);return void 0!==e.id&&delete e.id,Y_(e,t.app)}Dx.register("tag-layer",class extends r_{constructor(t,e){super(t,e),this._anim_alpha=1}_drawArrow(t,e,r,n=10){var i=r.x-e.x,o=r.y-e.y,a=Math.atan2(o,i),s=r.x+n*Math.cos(a+iw),l=r.y+n*Math.sin(a+iw),c=r.x+n*Math.cos(a+ow),h=r.y+n*Math.sin(a+ow);t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(r.x,r.y),t.moveTo(r.x,r.y),t.lineTo(s,l),t.moveTo(r.x,r.y),t.lineTo(c,h),t.stroke()}animOnTargetChange(t){t!==this._lastTargets&&(this._lastTargets=t,this._anim_alpha=1,this.animate({step:t=>{this._anim_alpha=1-t*t,this.invalidate()},duration:5e3,delta:"linear",options:{x:1},ease:"out"}).start())}render(t){var e=this.targets&&this.targets.filter(t=>t.rootModel);if(!e||0==e.length)return this._animate&&this._animate.stop(),void delete this._animate;var r=!1;e.forEach(e=>{let n=e.tag;if(t.globalAlpha*=this._anim_alpha,n){let i=n,{left:o,top:a}=e.bounds,{x:s,y:l}=e.transcoordS2C(o,a,e.rootModel);s=Math.max(s,0),l=Math.max(l-18,0),t.font="12px Arial";let c=t.measureText(i);t.fillStyle="#FF0000",t.fillRect(s,l,c.width+6,16),t.fillStyle="white",t.fillText(i,s+3,l+13),r=!0}t.lineWidth=2,t.strokeStyle="orange",e.mappings&&e.mappings.forEach(n=>{let i=this.root.findAll(n.target,e);i&&i.forEach(r=>{let n=e.center,i=r.center;n=e.transcoordS2C(n.x,n.y,e.rootModel),i=r.transcoordS2C(i.x,i.y,r.rootModel),this._drawArrow(t,n,i)}),r=!0})}),r&&this.animOnTargetChange(this.targets)}get targets(){return this._targets}set targets(t){this._targets=t&&t.filter(t=>!t.isLayer()),this.invalidate()}_ontag(t){this.targets&&-1!==this.targets.lastIndexOf(t)||(this.targets=(this.targets||[]).concat(t))}_offtag(t){if(this.targets){var e=this.targets.slice();e.splice(this.targets.lastIndexOf(t),1),this.targets=e}}_resettag(){this.targets=[]}ontagreset(t,e){this._resettag()}ontag(t,e){this._ontag(e.origin)}offtag(t,e){this._offtag(e.origin)}onmouseenter(t,e){this._resettag(),this._ontag(e.origin)}onmouseleave(t,e){this._resettag()}get eventMap(){return{"model-layer":{"(descendant)":{tag:this.ontag,tagreset:this.ontagreset,mouseenter:this.onmouseenter,mouseleave:this.onmouseleave}}}}});var sw=Object.freeze({__proto__:null,compile:Y_,duplicate:aw,select:Lm,match:Rm});function lw(t,e,r,n,i){for(let o in r){let a=r[o];if(Rm(o,n.origin,0,t))for(let t in a){let r=a[t];t==n.name&&(n.listener=e,r.apply(e,i))}}}function cw(){var t=arguments,e=t[t.length-1],r=this.event_pump;r.listeners.forEach(n=>{lw(r.deliverer,n.listener,n.cloned_handlers,e,t)})}class hw{constructor(t){if(void 0===t.on)throw new Error("Deliverer should be a event handlable object.");this.deliverer=t,this.listeners=[]}start(){this.deliverer.on("(all)",cw,{event_pump:this})}stop(){this.deliverer.off("(all)",cw)}on(t,e){var r=Object.assign({},e);Object.keys(r).forEach(e=>{if(0==e.indexOf("?")){let n=r[e],i=e.substr(1),o=t.get(i);delete r[e],o?r[o]=n:Nb("EventPump#on","variable #{selector} is not evaluated on listener")}}),this.listeners.push({listener:t,handlers:e,cloned_handlers:r})}off(t,e){for(let r=0;r<this.listeners.length;r++){let n=this.listeners[r];n.listener!==t||e&&n.handlers!==e||this.listeners.splice(r,1)}}clear(){this.listeners=[]}dispose(){this.stop(),this.clear()}}class uw{constructor(t){this.eventMaps=[],this.root=t,t.eventMap&&this.add(t,t.eventMap)}set root(t){this._root=t}get root(){return this._root}stop(){this.eventMaps.forEach(t=>t.eventPump.stop())}add(t,e){if(this.root)for(let r in e){let n=e[r];if("(self)"===r&&void 0===t.on)throw new Error("(self) selector not available when deliverer is not a event handlable object.");Lm(r,this.root,t).forEach(r=>{var i=new hw(r);i.on(t,n),i.start(),this.eventMaps.push({eventPump:i,listener:t,handlerMap:e,deliverer:r})})}}remove(t,e){var r=this.eventMaps.slice(0);for(let n=0;n<r.length;n++){let i=r[n];i.listener!==t||e&&i.handlerMap!==e||(this.eventMaps.splice(n,1),i.eventPump.dispose())}}clear(){this.eventMaps.slice(0).forEach(t=>t.eventPump.dispose()),this.eventMaps=[]}dispose(){this.stop(),this.clear()}}const fw=0,dw=1,pw=2,gw=0,vw=1,yw=2;var mw={},bw=0;class xw{constructor(t){this._type=t.type,this._ctrlKey=t.ctrlKey,this._altKey=t.altKey,this._shiftKey=t.shiftKey,this._metaKey=t.metaKey;var e=function(t){if(t.touches){let e=t.touches[0];if(!e)return mw;let r=e.target.getBoundingClientRect();return mw={x:t.offsetX||e.clientX-(r.x||r.left),y:t.offsetY||e.clientY-(r.y||r.top)}}return{x:t.offsetX,y:t.offsetY}}(t);if(this._offsetX=e.x,this._offsetY=e.y,"wheel"==t.type)this.deltaX=t.deltaX,this.deltaY=t.deltaY,this.deltaZ=t.deltaZ;else if("drop"==t.type)this.dataTransfer=t.dataTransfer;else if(t.type.match(/^touch/)&&(this._scale=t.scale,this._touches=t.touches,this._changedTouches=t.changedTouches,null==this._scale)){var r=function(t){var e,r,n=0,i=0,o=0;if(1===t.touches.length)return o;Array.from(t.touches).forEach(t=>{e=null!=e?Math.min(t.screenX,e):t.screenX,n=Math.max(t.screenX,n),r=null!=r?Math.min(t.screenY,r):t.screenY,i=Math.max(t.screenY,i)});var a=n-e||0,s=i-r||0;return o=Math.sqrt(Math.pow(a,2)+Math.pow(s,2))||0}(t);bw>0&&(this._scale=r/bw),bw=r}}get type(){return this._type}set type(t){this._type=t}get offsetX(){return this._offsetX}get offsetY(){return this._offsetY}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get shiftKey(){return this._shiftKey}get metaKey(){return this._metaKey}get touches(){return this._touches}get changedTouches(){return this._changedTouches}get scale(){return this._scale}stopPropagation(){this._stop_=!0}isPropagationStopped(){return this._stop_}}function _w(t,e){return t.capture(e.offsetX,e.offsetY)}function ww(t,e,r){if(t&&t.app&&(!t.app.isViewMode||!t.hidden)){(r=new xw(r)).type=e;var n="on"+e;t[n]&&t[n](r),r.isPropagationStopped()||t.trigger(e,r)}}class Aw{constructor(t,e){this.container=t,this.html_element=e,this.status=fw,this.last_target=null,this.gesture_handlers=Qb.map(t=>this.gestureHandlerBuilder(t)),this.keyevent_handlers=Jb.map(t=>this.keyeventHandlerBuilder(t)),Qb.forEach((t,r)=>e.addEventListener(t,this.gesture_handlers[r])),Jb.forEach((t,r)=>e.addEventListener(t,this.keyevent_handlers[r])),e.ondragover=this.gestureHandlerBuilder("dragover"),e.ondrop=this.gestureHandlerBuilder("drop"),e.tabIndex=1}dispose(){this.last_enter_target&&ww(this.last_enter_target,"mouseleave",new CustomEvent("mouseleave")),Qb.forEach((t,e)=>this.html_element.removeEventListener(t,this.gesture_handlers[e])),Jb.forEach((t,e)=>this.html_element.removeEventListener(t,this.keyevent_handlers[e])),delete this.gesture_handlers,delete this.keyevent_handlers,delete this.last_target}gestureHandlerBuilder(t){var e=this[`on${t}`].bind(this);return t=>(e(new xw(t))&&t.preventDefault(),!1)}keyeventHandlerBuilder(t){return this[`on${t}`].bind(this)}ondragover(t){return ww(_w(this.container,t),t.type,t),!1}ondrop(t){return ww(_w(this.container,t),t.type,t),!1}onclick(t){return ww(_w(this.container,t),t.type,t),this.last_target=null,!1}ondblclick(t){return ww(_w(this.container,t),t.type,t),this.last_target=null,!1}onkeydown(t){return this.container.trigger(t.type,t),!1}onkeyup(t){return this.container.trigger(t.type,t),!1}onmousemove(t){switch(this.status){case dw:let r=t.offsetX-this.__dragstart_e.offsetX,n=t.offsetY-this.__dragstart_e.offsetY;if(r*r+n*n<16)break;this.status=pw,ww(this.last_target,"dragstart",this.__dragstart_e),this.__dragmove_e=t,ww(this.last_target,"dragmove",t);break;case pw:this.__dragmove_e=t,ww(this.last_target,"dragmove",t);break;default:var e=_w(this.container,t);this.last_enter_target!==e&&(this.last_enter_target&&ww(this.last_enter_target,"mouseleave",t),e&&ww(e,"mouseenter",t),this.last_enter_target=e),ww(e,t.type,t),this.last_target=e}return!1}onmousedown(t){switch(this.status){case pw:ww(this.last_target,"dragend",t),this.last_target=null,this.status=fw;break;default:var e=_w(this.container,t);this.last_target=e,this.status=dw,this.__dragstart_e=t,ww(e,t.type,t)}return!1}onmouseup(t){switch(this.status){case pw:ww(this.last_target,"dragend",t);break;default:ww(_w(this.container,t),t.type,t)}return this.last_target=null,this.status=fw,!1}onmouseout(t){var e=_w(this.container,t);switch(this.status){case pw:ww(this.last_target,"dragend",t);break;default:if(this.last_target&&this.last_target===e)return;this.last_enter_target&&(ww(this.last_enter_target,"mouseleave",t),delete this.last_enter_target)}return this.last_target=null,this.status=fw,!1}ontouchstart(t){var e=_w(this.container,t);return this.last_target=e,this.status=vw,this.touchPoints||(this.touchPoints=[]),this.touchPoints.push(t.changedTouches[0]),this.holdTimer=setTimeout(()=>{this.status=gw,ww(this.last_target,"hold",t),delete this.holdTimer},500),ww(e,t.type,t),!1}ontouchmove(t){if(!t.touches||!t.changedTouches)return ww(this.last_target,"dragstart",t),ww(this.last_target,"dragmove",t),!1;var e=_w(this.container,t);switch(this.status){case vw:Array.from(t.changedTouches).forEach(t=>{var e=this.touchPoints.find(e=>e.identifier===t.identifier);if(e){var r=e.clientX-t.clientX,n=e.clientY-t.clientY;return Math.sqrt(Math.pow(r,2)+Math.pow(n,2))>=16?(this.status=yw,void(this.holdTimer&&(clearTimeout(this.holdTimer),delete this.holdTimer))):void 0}});break;case yw:if(this.holdTimer&&(clearTimeout(this.holdTimer),delete this.holdTimer),2===t.changedTouches.length&&null!=t.scale&&1!==t.scale&&(t.scale<.9||t.scale>1.1))return ww(this.last_target,"pinch",t),!1;ww(this.last_target,"pan",t),e=this.last_target;break;default:this.last_enter_target!==e&&(this.last_enter_target&&ww(this.last_enter_target,"mouseleave",t),e&&ww(e,"mouseenter",t),this.last_enter_target=e),this.last_target=e}return ww(e,"touchmove",t),!1}ontouchend(t){var e=_w(this.container,t);switch(this.status){case yw:e=this.last_target;break;case vw:var r=performance.now(),n=r-this.touchedAt;this.holdTimer&&(clearTimeout(this.holdTimer),delete this.holdTimer,ww(e,n<500?"doubletap":"tap",t),this.touchedAt=r)}ww(e,"touchend",t);var i=this.touchPoints.findIndex(e=>e.identifier===t.changedTouches[0].identifier);return this.touchPoints.splice(i,1),this.last_target=null,this.status=gw,!1}onwheel(t){return ww(_w(this.container,t),t.type,t),!1}}var Sw={};var Ew={register:function(t,e){Sw[t]=e},unregister:function(t){delete Sw[t]},get:function(t){return Sw[t]}};function Mw(t){if(t.hasTextProperty&&!t.textHidden){var{text:e="",rotation:r=0,bold:n=Zb.BOLD,italic:i=Zb.ITALIC,textWrap:o=Zb.TEXT_WRAP,fontFamily:a=Zb.FONT_FAMILY,fontColor:s=Zb.FONT_COLOR,textAlign:l=Zb.TEXT_ALIGN,textBaseline:c=Zb.TEXT_BASELINE,paddingTop:h=0,paddingBottom:u=0,paddingLeft:f=0,paddingRight:d=0,fontSize:p=Zb.FONT_SIZE,lineHeight:g=1.2*p}=t.model,{left:v,top:y,width:m,height:b}=t.bounds;t.textHidden=!0;var x=document.createElement("textarea");Qb.forEach((function(t){x.addEventListener(t,(function(t){t.stopPropagation()}),!0)})),Jb.forEach((function(t){x.addEventListener(t,(function(t){t.stopPropagation()}),!0)}));var _=t.transcoordS2C(v,y),{rotation:r,scale:w}=function(t){for(var e=0,r=1,n=t;n;){e+=n.get("rotation")||0;let{x:t,y:i}=n.get("scale")||{x:1,y:1};r*=Math.max(t,i)||1,n=n.parent}return{rotation:e,scale:r}}(t),A=m-f-d,S=A,E=b-h-u;switch(x.style.position="absolute",x.style.width=S+"px",x.style.height=E+"px",x.style.paddingLeft=Math.max(f,0)+"px",x.style.paddingRight=d+"px",x.style.paddingTop=Math.max(h,0)+"px",x.style.paddingBottom=u+"px",x.value=e,x.style.fontFamily=a,x.style.fontSize=p+"px",x.style.lineHeight=g+"px",x.style.overflow="hidden",x.style.resize="none",x.style.outline="none",x.style.border=0,x.style.backgroundColor="transparent",x.style.display="inline-block",x.style.color=s,n&&(x.style.fontWeight="bold"),i&&(x.style.fontStyle="italic"),l){case"right":case"end":x.style.textAlign="right";break;case"justify":x.style.textAlign="justify";break;case"left":case"start":x.style.textAlign="left";break;case"center":default:x.style.textAlign="center"}var M=[n,i,p+"px",a].filter(t=>!!t).join(" ");j(e);var k=t.root.target_element;k.appendChild(x),x.select();var T,P=!1;x.onkeydown=function(t){"Escape"!=t.code&&(t.shiftKey||"Enter"!=t.code&&"NumpadEnter"!=t.code)?setTimeout(()=>{j(x.value)}):(P=T.skipUpdate="Escape"==t.code,document.createEvent?x.dispatchEvent(T):x.fireEvent(T.eventType,T))},document.createEvent?(T=document.createEvent("HTMLEvents")).initEvent("blur",!0,!1):(T=document.createEventObject()).eventType="blur";var I=t.root.selected,O=function(r){t.root.selected=I,t.textHidden=!1,x.removeEventListener("blur",O,!1),x.parentElement&&x.parentElement.removeChild(x),k.focus(),r.skipUpdate||P||t.app.commander.execute(new U_({changes:[{component:t,before:{text:e},after:{text:x.value}}]}))};x.addEventListener("blur",O,!1)}function j(e){var n={left:0,top:0},i=g*function(t,e,r,n){var i,o=t.getContext();return o.save(),o.font=r,i=tx(o,e,n,t.get("textWrap")).length,o.restore(),i}(t,e,M,A);switch(x.style.height=i+"px",c){case"top":case"hanging":break;case"bottom":case"alphabetic":n.top=E-i;break;case"middle":default:n.top=E/2-i/2}if(!o){var a=function(t,e,r,n){var i=e.split("\n"),o=n;let a=t.getContext();return a.save(),a.font=r,i.forEach(t=>{let e=a.measureText(t).width;e>o&&(o=e)}),a.restore(),o}(t,e,M,A);switch(x.style.width=a+"px",l){case"right":case"end":n.left=A-a;break;case"left":case"start":break;case"center":case"justify":default:n.left=(A-a)/2}}x.style.marginLeft=n.left+"px",x.style.marginTop=n.top+"px";var s=`translate(${_.x}px, ${_.y}px) scale(${w}) rotate(${r}rad) perspective(1px)`;["-webkit-","-moz-","-ms-","-o-",""].forEach(t=>{x.style[t+"transform"]=s,x.style[t+"transform-origin"]=`${-n.left}px ${-n.top}px`})}}Ew.register("text-editor",{"(root)":{"(self)":{keydown:function(t,e){var{origin:r,deliverer:n}=e,i=n.selected;return!(1!==i.length||!i[0].hasTextProperty)&&(("Enter"==t.code||"NumpadEnter"==t.code)&&(Mw(i[0]),t.preventDefault(),!0))}}},"model-layer":{"(descendant)":{dblclick:function(t,e){Mw(e.origin)}}}});var kw=fb((function(t,e,r){if(r)t.focused=null;else{var n=[];e[0].parent.isGroup()?t.focused=e[0].parent:(e.forEach(t=>{t.path.forEach(e=>{n.push(t.transcoordS2T(e.x,e.y))})}),t.focused=t.capturePath(n,e))}}),300);Ew.register("move-handler",{"model-layer":{"(descendant)":{dragstart:function(t,e){var{origin:r,deliverer:n}=e;if(!r.stuck){var i=n.selected,o=n.selected.filter(t=>!t.stuck);if(i.length!==o.length&&(i=n.selected=o),0!=i.length){var a=i[0].transcoordC2S(t.offsetX,t.offsetY);a=i[0].transcoordS2P(a.x,a.y),this.last_pos=a,this.direction=0,n.focused=i[0].parent,t.altKey?(n.selected=i.map(t=>{let e=aw(t);return t.parent.addComponent(e),e}),this.duplicates=n.selected.map(t=>({component:t}))):this.changes=U_.before(i)}}},dragmove:function(t,e){var{origin:r,deliverer:n}=e;if(!r.stuck){var i=n.selected;if(0!=i.length){var{x:o,y:a}=i[0].transcoordC2S(t.offsetX,t.offsetY),s=i[0].transcoordS2P(o,a);t.shiftKey?2==this.direction&&(this.direction=0):this.direction=2;var l=s.x-this.last_pos.x,c=s.y-this.last_pos.y;if(0==this.direction){if(l*l+c*c<25)return;Math.abs(l)>Math.abs(c)?this.direction=3:this.direction=4}3==this.direction?c=0:4==this.direction&&(l=0),i.forEach(t=>{t.move({x:l,y:c})}),this.last_pos=s,kw(n,i)}}},dragend:function(t,e){var{origin:r,deliverer:n}=e;if(!r.stuck){var i=n.selected;if(0!=i.length){var o=r.parent,a=n.focused||e.deliverer;if(this.changes&&!a.isGroup())if(a&&a!==o){var s=this.changes.map(t=>{let{component:e,before:r}=t;return{component:e,to_container:a}});n.app.commander.execute(new W_({changes:s}))}else U_.after(this.changes,n.app.commander);else if(this.duplicates){this.duplicates=this.duplicates.map(t=>(t.to_container=a,t));let t=new W_({changes:this.duplicates});n.app.commander.execute(t)}i.forEach(t=>{t.parent&&t.parent.calculateBounds&&t.parent.calculateBounds()}),this.last_pos=null,this.changes=null,this.duplicates=null,kw(n,i,!0)}}}}},"(root)":{"(self)":{keydown:function(t,e){var{origin:r,deliverer:n}=e,i={},o=t.shiftKey?r.rootModel.MPP:1;switch(t.which){case 37:i.x=-o,i.y=0;break;case 38:i.x=0,i.y=-o;break;case 39:i.x=o,i.y=0;break;case 40:i.x=0,i.y=o;break;default:return}var a=n.selected;U_.around(n.app.commander,(function(){a.forEach(t=>{!t.stuck&&t.move(i)})}))}}}});var Tw=[];"undefined"!=typeof window&&window.addEventListener("resize",()=>{Tw.forEach(t=>{t.resize()})});class Pw extends e_{constructor(t,e){super(Object.assign({type:"root",scale:{x:1,y:1}},t||{}),e),t=t||{},this.fitMode=t.model&&t.model.fitMode,this._app=e,this.target_element=t.target_element,this.rebuildContentModel(this.model.model),Tw.push(this)}dispose(){this._app&&this._app.dispose(),super.dispose(),this._disposeAllResources(),this.target_element=null,delete this._refresh_mapping_debouncer,u_(this);var t=Tw.indexOf(this);t>=0&&Tw.splice(t,1)}isRoot(){return!0}get app(){return this._app}get target_element(){return this._target_element}set target_element(t){this._ua_event_handler&&(this._ua_event_handler.dispose(),delete this._ua_event_handler),t&&(t.style.position="absolute",t.style.cursor="default",t.style.overflow="hidden",this._ua_event_handler=new Aw(this,t)),this.forEach(e=>e.target=t),this._target_element=t}variable(t,e){var r=this.findById(t);if(!r){let e=this.findTemplateFor(t);if(!e)return;r=Y_(Object.assign(rb(e.hierarchy),{id:t,templatePrefix:""}),this.app),this.model_layer.addComponent(r)}if(void 0===e)return r.data;r.data=e,r.touch()}buildVariables(t){!t||t instanceof Array||(t=Object.keys(t).map(e=>{let r=t[e];return r.key=e,r})),t&&t.forEach((t,e)=>{let r=this.indexMap[t.key];if(r)r.set({data:t.value,mappings:t.mappings&&t.mappings.slice(),dataType:t.dataType});else{let r=Y_({type:"variable",id:t.key,left:-120,top:0+20*e,strokeStyle:"black",width:100,height:20,dataType:t.type,data:t.value,mappings:t.mappings&&t.mappings.slice()},this.app);this.model_layer.addComponent(r)}})}get unitScale(){switch(this.model_layer&&this.model_layer.get("unit")){case"mm":case"cm":case"in":return this.app.PPM/10;case"px":default:return 1}}addTemplate(t,e){var r=this.templateMap[t];r&&Bb("Template replaced (duplicated)",t,e,r),this.templateMap[t]=e,delete this.templatePrefixes}removeTemplate(t,e){var r=this.templateMap[t];r!==e?Nb("Removing template failed (different)",t,e,r):delete this.templateMap[t],delete this.templatePrefixes}findTemplateFor(t){this.templatePrefixes||(this.templatePrefixes=Object.keys(this.templateMap).sort().reverse());var e=this.templatePrefixes.find(e=>t.startsWith(e));if(e)return this.templateMap[e]}addIndex(t,e){var r=this.indexMap[t];r&&Bb("Index replaced (duplicated)",t,e,r),this.indexMap[t]=e}removeIndex(t,e){var r=this.indexMap[t];r!==e?Nb("Removing index failed (different)",t,e,r):delete this.indexMap[t]}findById(t){return this.indexMap[t]}findOrCreate(t){var e=this.indexMap[t];if(!e){let r=this.findTemplateFor(t);if(r){e=Y_(Object.assign(rb(r.hierarchy),{id:t,templatePrefix:""}),this.app),this.model_layer.addComponent(e)}}return e}resize(){this.components.forEach(t=>{t.resize&&t.resize()}),this.invalidate()}_disposeAllResources(){this.selected=[],this._focused=null,this._ready=!1,this.eventEngine&&(this.assist_handlers&&this.assist_handlers.forEach(t=>{this.eventEngine.remove(t)}),this.eventEngine.dispose(),delete this.eventEngine),this.assist_layers&&this.assist_layers.forEach(t=>{t.dispose(),this.removeComponent(t)}),delete this.assist_layers,this.model_layer&&this.model_layer.dispose(),this.model_layer&&this.removeComponent(this.model_layer),delete this.model_layer,this.indexMap={},this.templateMap={}}rebuildContentModel(t){this._disposeAllResources(),this.eventEngine=new uw(this),(t=t||{}).type="model-layer";var e=t.variables;delete t.variables,this.model_layer=Y_(t,this.app),this.addComponent(this.model_layer),this.model_layer.target=this.target_element,e&&this.buildVariables(e),this.assist_layers=(this.model.layers||[]).map(t=>{var e=Y_(t,this.app);return this.addComponent(e),e.target=this.target_element,e}),this.assist_handlers=(this.model.handlers||[]).map(t=>{var e={};return this.eventEngine.add(e,Ew.get(t)),e}),this._ready=!0,this.traverse(t=>t.ready())}get root(){return this}get isReady(){return this._ready}get rootModel(){return this.model_layer}get stuck(){return!0}get data(){return Object.values(this.indexMap).reduce((t,e)=>(t[e.model.id]=e.data,t),{})}set data(t){for(var e in t){var r=this.findOrCreate(e);r&&(r.data=t[e])}}get selected(){return(this._selected||[]).filter(t=>t.parent)}set selected(t){var e=this._selected;this._selected=t,this.trigger("selected",t,e)}get focused(){return this._focused}set focused(t){this._focused!==t&&(this._focused=t,this.invalidate())}get style(){return this._style}set style(t){this._style=t,this._compiled_style=t}get hasTextProperty(){return!1}render(){this.components.forEach(t=>t.draw())}contains(t,e){return!0}capturePath(t,e){return this.model_layer.capturePath(t,e)}invalidate(){this.components.forEach(t=>t.invalidate())}get eventMap(){return{"(root)":{"(descendant)":{added:this.onadded,removed:this.onremoved,change:this.onchanged}}}}refreshMappings(){if(!this._refresh_mapping_debouncer){if(this.disposed)return;this._refresh_mapping_debouncer=fb((function t(e){e.executeMappings(),e.components&&e.components.forEach(e=>t(e))}),1e3)}this._refresh_mapping_debouncer(this.model_layer)}_addTraverse(t){t.components&&t.components.forEach(t=>this._addTraverse(t));var{id:e,templatePrefix:r}=t.model;e&&this.addIndex(e,t),r&&this.addTemplate(r,t);var n=function t(e={},...r){return"object"!=typeof e&&(e={}),r.forEach(r=>{for(let n in r)"object"!=typeof r[n]?e[n]=r[n]:r[n].length>0?e[n]=r[n].map(e=>{let i;return i="object"!=typeof r[n]?e:t({},e),i}):e[n]=t(e[n],r[n])}),e}({},t.eventMap,t.model.eventMap);this.eventEngine.add(t,n)}_removeTraverse(t){t.components&&t.components.forEach(t=>this._removeTraverse(t));var{id:e,templatePrefix:r}=t.model;e&&this.removeIndex(e,t),r&&this.removeTemplate(r,t),this.eventEngine.remove(t)}onadded(t,e){this._addTraverse(e),this.refreshMappings(),this.invalidate()}onremoved(t,e){this._removeTraverse(e),this.invalidate()}onchanged(t,e,r){e.templatePrefix&&this.removeTemplate(e.templatePrefix,r.origin),t.templatePrefix&&this.addTemplate(t.templatePrefix,r.origin),e.id&&this.removeIndex(e.id,r.origin),t.id&&this.addIndex(t.id,r.origin),e.id==t.id&&e.class==t.class||this.refreshMappings()}}Object.assign(Pw.prototype,{fit:function(t){var{width:e,height:r,fitMode:n}=this.model_layer.model,i=this.target_element,o=this.model_layer;if(this.fitMode=t||this.fitMode||n||"ratio",e&&r&&i&&i.offsetWidth&&i.offsetHeight){switch(this.fitMode){case"center":!function(t,e,r){var n=t.unitScale,{width:i,height:o}=e.model;e.set("scale",{x:n,y:n}),e.set("translate",{x:Math.max((r.offsetWidth-i*n)/2,0),y:Math.max((r.offsetHeight-o*n)/2,0)})}(this,o,i);break;case"both":!function(t,e,r){var{width:n,height:i}=e.model,o=r.offsetWidth,a=r.offsetHeight;e.set("scale",{x:o/n,y:a/i}),e.set("translate",{x:0,y:0})}(0,o,i);break;case"width":!function(t,e,r){var n=r.offsetWidth/e.get("width");e.set("scale",{x:n,y:n}),e.set("translate",{x:0,y:0})}(0,o,i);break;case"height":!function(t,e,r){var n=r.offsetHeight/e.get("height");e.set("scale",{x:n,y:n}),e.set("translate",{x:0,y:0})}(0,o,i);break;case"ratio":!function(t,e,r){var{width:n,height:i}=e.model,o=r.offsetWidth,a=r.offsetHeight,s=o/n,l=a/i,c=Math.min(s,l);e.set("scale",{x:c,y:c}),e.set("translate",{x:(o-n*c)/2,y:(a-i*c)/2})}(0,o,i);break;case"none":default:!function(t,e,r){var n=t.unitScale;e.set("scale",{x:n,y:n}),e.set("translate",{x:0,y:0})}(this,o)}this.resize()}}}),Dx.memoize(Pw.prototype,"unitScale",!1);var Iw=13.3,Ow=function(t){return void 0!==t&&(Iw=t),Iw};const jw=Math.PI/12;class Rw{constructor(t,e){this._mode=t,this.screen=Ow(),this._baseUrl="undefined"!=typeof window?window.location.origin:null,this._refProvider=e,this.isEditMode&&(this._rotateStep=jw,this._rotateStepForced=!1)}dispose(){}_calcScreen(){var t={width:screen.width,height:screen.height};this._PPI=function(t,e,r,n){t>0||(t=1),e>0||(e=1),n||(n="d");var i=("d"==n?Math.sqrt(t*t+e*e):"w"==n?t:e)/r;return i>0?Math.round(i):0}(t.width,t.height,this.screen),this._PPM=this._PPI/25.4}get refProvider(){return this._refProvider}set commander(t){this._commander=t}get commander(){return this._commander}get screen(){return this._screen}set screen(t){this._screen=t,this._calcScreen()}get DPPX(){return Kb}get PPI(){return this._PPI}get PPM(){return this._PPM}get mode(){return this._mode}set mode(t){var e=this._mode;e!==t&&(this._mode=t,this.trigger("mode",t,e))}get isViewMode(){return 0==this._mode}get isEditMode(){return 1==this._mode}get baseUrl(){return this._baseUrl}set baseUrl(t){t&&this._baseUrl!=t&&(this._baseUrl=t)}url(t){try{return(t.includes("$base_url")?new URL(t.replace("$base_url",this.baseUrl),this.baseUrl):new URL(t,location.origin)).href}catch(e){Nb(e,t)}}get rotateStep(){return this._rotateStep}set rotateStep(t){this._rotateStep=Number(t)||jw}get rotateStepForced(){return this._rotateStepForced}set rotateStepForced(t){this._rotateStepForced=!!t}}Pb(Rw.prototype,Sb.withEvent);const Cw=["left","right","center","top","middle","bottom"];function Lw(t){if(-1!=Cw.indexOf(t)){var e=this.selected.filter(t=>!t.stuck);if(!(e.length<=1)){var r=this.app.commander;U_.around(r,(function(){!function(t,e){var r=JSON.parse(JSON.stringify(e[0].bounds)),n=r.left+r.width,i=r.top+r.height;for(let t=0;t<e.length;t++){let o=e[t].bounds;r.left=o.left>r.left?r.left:o.left,r.top=o.top>r.top?r.top:o.top,n=o.left+o.width>n?o.left+o.width:n,i=o.top+o.height>i?o.top+o.height:i}switch(r.width=n-r.left,r.height=i-r.top,t){case"left":for(let t=0;t<e.length;t++){let n=e[t].bounds;e[t].bounds={left:r.left,top:n.top,width:n.width,height:n.height}}break;case"center":for(let t=0;t<e.length;t++){let n=e[t].bounds;e[t].bounds={left:r.left+r.width/2-n.width/2,top:n.top,width:n.width,height:n.height}}break;case"right":for(let t=0;t<e.length;t++){let r=e[t].bounds;e[t].bounds={left:n-r.width,top:r.top,width:r.width,height:r.height}}break;case"top":for(let t=0;t<e.length;t++){let n=e[t].bounds;e[t].bounds={left:n.left,top:r.top,width:n.width,height:n.height}}break;case"middle":for(let t=0;t<e.length;t++){let n=e[t].bounds;e[t].bounds={left:n.left,top:r.top+r.height/2-n.height/2,width:n.width,height:n.height}}break;case"bottom":for(let t=0;t<e.length;t++){let r=e[t].bounds;e[t].bounds={left:r.left,top:i-r.height,width:r.width,height:r.height}}break;default:;}}(t,e)}))}}}const Fw=["VERTICAL","HORIZONTAL"];function Bw(t){if(-1!=Fw.indexOf(t)){var e=this.selected;if(!(e.length<=1)){var r=this.app.commander;U_.around(r,(function(){!function(t,e){var r=e.filter(t=>!t.stuck).slice(0);r.sort((function(e,r){let n=e.center,i=r.center;return"VERTICAL"===t?n.y-i.y:n.x-i.x}));var n=r.reduce((e,r)=>e+("VERTICAL"===t?r.bounds.height:r.bounds.width),0),i=r[0].bounds,o=r[r.length-1].bounds,a=(("VERTICAL"===t?o.top+o.height-i.top:o.left+o.width-i.left)-n)/(r.length-1),s="VERTICAL"===t?i.top+i.height:i.left+i.width;for(let e=1;e<r.length-1;e++){let n=r[e],i=n.bounds;s+=a,"VERTICAL"===t?(i.top=s,s+=i.height):(i.left=s,s+=i.width),n.bounds=i}}(t,e)}))}}}function Nw(t,e,r){this.app.commander.execute(new W_({changes:[{component:t,to_container:e,to_index:r}]}))}function Dw(t){var e=this.selected.filter(t=>!t.stuck);if(!(0==e.length||e[0].isRootModel()||e.length>1&&("forward"==t||"backward"==t))){var r,n=e[0].parent;if("forward"==t){let t=n.indexOf(e[0]);r=[{component:e[0],from_container:n,to_container:n,from_index:t,to_index:t+1}]}else if("backward"==t){let t=n.indexOf(e[0]);r=[{component:e[0],from_container:n,to_container:n,from_index:t,to_index:t-1}]}else r=e.filter(t=>t.parent===n).sort((e,r)=>{let i=n.indexOf(e)<n.indexOf(r);return"front"==t?i:!i}).map((e,r)=>{n.indexOf(e);return{component:e,to_container:n,to_index:"front"==t?n.components.length-r-1:r}});var i=new W_({changes:r});this.app.commander.execute(i)}}function Uw(t,e,r){t instanceof Array||(t=[t]),r||(r=this.model_layer);var n=[];this.selected=t.map(t=>{try{return Y_(t,r.app)}catch(t){return console.warn(t),!1}}).filter(t=>!!t).map(t=>{let{left:i,top:o,width:a,height:s,x:l,y:c,cx:h,cy:u}=e;return isNaN(i)||isNaN(o)||isNaN(a)||isNaN(s)||(t.bounds={left:i,top:o,width:a,height:s}),isNaN(l)||isNaN(c)||t.move({x:l,y:c}),isNaN(h)||isNaN(u)||(t.center={x:h,y:u}),n.push({component:t,to_container:r}),t}),this.app.commander.execute(new W_({changes:n}))}function zw(){var t=[];if(this.selected=this.selected.filter(t=>!t.isRootModel()).map(e=>{let r=aw(e);return r.move({x:20,y:20}),t.push({component:r,to_container:e.parent}),r}),0!=t.length){var e=new W_({changes:t});this.app.commander.execute(e)}}function Ww(){var t=this.selected;this.selected=[];for(var e=null,r=t.filter(t=>!t.isRootModel()&&(t.parent.focusible||t.parent.isGroup())).map(t=>(e||(e=t.parent),{component:t,to_container:null}));e&&e.isGroup();){let t=[];if(e.components.filter(t=>!r.find(e=>e.component===t)).forEach(e=>t.push(e)),t.length>1)break;let n=e.parent;t.forEach(t=>r.push({component:t,to_container:n})),r.push({component:e,to_container:null}),e=n}r.length>0&&this.app.commander.execute(new W_({changes:r})),e&&e.calculateBounds&&e.calculateBounds()}function Yw(t,e,r){switch(t){case"execute":case"redo":case"undo":case"command-reset":this.app.commander.on(t,e,r);break;case"selected":this.on(t,e,r);break;case"mode":this.app.on(t,e,r);break;default:this.on(t,e,r)}}function Gw(t,e,r){switch(t){case"execute":case"redo":case"undo":case"command-reset":this.app.commander.once(t,e,r);break;case"selected":this.once(t,e,r);break;case"mode":this.app.once(t,e,r);break;default:this.once(t,e,r)}}function Hw(t,e,r){switch(t){case"execute":case"redo":case"undo":case"command-reset":this.app?this.app.commander.off(t,e,r):this.off(t,e,r);break;case"selected":this.off(t,e,r);break;case"mode":this.app.off(t,e,r);break;default:this.off(t,e,r)}}function qw(t){var e=this.target_element,r=t||this.fitMode,n=this;function i(t){n.fit(r),document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement||["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange"].forEach(t=>document.removeEventListener(t,i))}["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange"].forEach(t=>document.addEventListener(t,i)),e.requestFullScreen?e.requestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}var Xw=0;function Vw(){var t=this.selected.filter(t=>!t.isRootModel()).map(t=>t.hierarchy);if(0!=t.length)return Xw=0,JSON.stringify(t,null,2)}function Kw(){Xw=0;var t=Vw.call(this);return Ww.call(this),t}function Qw(t){if(t)try{JSON.parse(t);Xw++,Uw.call(this,JSON.parse(t),{x:15*Xw,y:15*Xw})}catch(e){Bb(e,t)}}var Jw=function(){return{escape:function(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:t,mimeType:function(e){var r=t(e).toLowerCase();return(n="application/font-woff",{woff:n,woff2:n,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[r]||"";var n},dataAsUrl:function(t,e){return"data:"+e+";base64,"+t},isDataUrl:function(t){return-1!==t.search(/^(data:)/)},canvasToBlob:function(t){return t.toBlob?new Promise((function(e){t.toBlob(e)})):function(t){return new Promise((function(e){for(var r=window.atob(t.toDataURL().split(",")[1]),n=r.length,i=new Uint8Array(n),o=0;o<n;o++)i[o]=r.charCodeAt(o);e(new Blob([i],{type:"image/png"}))}))}(t)},resolveUrl:function(t,e){var r=document.implementation.createHTMLDocument(),n=r.createElement("base");r.head.appendChild(n);var i=r.createElement("a");return r.body.appendChild(i),n.href=e,i.href=t,i.href},getAndEncode:function(t){oA.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());return new Promise((function(e){var r,n=new XMLHttpRequest;if(n.onreadystatechange=function(){if(4!==n.readyState)return;if(200!==n.status)return void(r?e(r):o("cannot fetch resource: "+t+", status: "+n.status));var i=new FileReader;i.onloadend=function(){var t=i.result.split(/,/)[1];e(t)},i.readAsDataURL(n.response)},n.ontimeout=function(){r?e(r):o("timeout of 30000ms occured while fetching resource: "+t)},n.responseType="blob",n.timeout=3e4,n.open("GET",t,!0),n.send(),oA.impl.options.imagePlaceholder){var i=oA.impl.options.imagePlaceholder.split(/,/);i&&i[1]&&(r=i[1])}function o(t){console.error(t),e("")}}))},uid:function(){var t=0;return function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+t++}}(),delay:function(t){return function(e){return new Promise((function(r){setTimeout((function(){r(e)}),t)}))}},asArray:function(t){for(var e=[],r=t.length,n=0;n<r;n++)e.push(t[n]);return e},escapeXhtml:function(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(t){return new Promise((function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src=t}))},width:function(t){var r=e(t,"border-left-width"),n=e(t,"border-right-width");return t.scrollWidth+r+n},height:function(t){var r=e(t,"border-top-width"),n=e(t,"border-bottom-width");return t.scrollHeight+r+n}};function t(t){var e=/\.([^\.\/]*?)$/g.exec(t);return e?e[1]:""}function e(t,e){var r=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(r.replace("px",""))}}(),Zw=function(){var t=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(t,i,o){return function(){return!e(t)}()?Promise.resolve(t):Promise.resolve(t).then(r).then((function(e){var r=Promise.resolve(t);return e.forEach((function(t){r=r.then((function(e){return n(e,t,i,o)}))})),r}))},shouldProcess:e,impl:{readUrls:r,inline:n}};function e(e){return-1!==e.search(t)}function r(e){for(var r,n=[];null!==(r=t.exec(e));)n.push(r[1]);return n.filter((function(t){return!Jw.isDataUrl(t)}))}function n(t,e,r,n){return Promise.resolve(e).then((function(t){return r?Jw.resolveUrl(t,r):t})).then(n||Jw.getAndEncode).then((function(t){return Jw.dataAsUrl(t,Jw.mimeType(e))})).then((function(r){return t.replace(function(t){return new RegExp("(url\\(['\"]?)("+Jw.escape(t)+")(['\"]?\\))","g")}(e),"$1"+r+"$3")}))}}(),$w=function(){return{resolveAll:function(){return t().then((function(t){return Promise.all(t.map((function(t){return t.resolve()})))})).then((function(t){return t.join("\n")}))},impl:{readAll:t}};function t(){return Promise.resolve(Jw.asArray(document.styleSheets)).then((function(t){var e=[];return t.forEach((function(t){try{Jw.asArray(t.cssRules||[]).forEach(e.push.bind(e))}catch(e){console.log("Error while reading CSS rules from "+t.href,e.toString())}})),e})).then((function(t){return t.filter((function(t){return t.type===CSSRule.FONT_FACE_RULE})).filter((function(t){return Zw.shouldProcess(t.style.getPropertyValue("src"))}))})).then((function(e){return e.map(t)}));function t(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return Zw.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}}}(),tA=function(){return{inlineAll:function e(r){return r instanceof Element?function(t){var e=t.style.getPropertyValue("background");return e?Zw.inlineAll(e).then((function(e){t.style.setProperty("background",e,t.style.getPropertyPriority("background"))})).then((function(){return t})):Promise.resolve(t)}(r).then((function(){return r instanceof HTMLImageElement?t(r).inline():Promise.all(Jw.asArray(r.childNodes).map((function(t){return e(t)})))})):Promise.resolve(r)},impl:{newImage:t}};function t(t){return{inline:function(e){return Jw.isDataUrl(t.src)?Promise.resolve():Promise.resolve(t.src).then(e||Jw.getAndEncode).then((function(e){return Jw.dataAsUrl(e,Jw.mimeType(t.src))})).then((function(e){return new Promise((function(r,n){t.onload=r,t.onerror=n,t.src=e}))}))}}}}(),eA={imagePlaceholder:void 0,cacheBust:!1};function rA(t,e){return function(t){void 0===t.imagePlaceholder?oA.impl.options.imagePlaceholder=eA.imagePlaceholder:oA.impl.options.imagePlaceholder=t.imagePlaceholder;void 0===t.cacheBust?oA.impl.options.cacheBust=eA.cacheBust:oA.impl.options.cacheBust=t.cacheBust}(e=e||{}),Promise.resolve(t).then((function(t){return function t(e,r,n){return n||!r||r(e)?Promise.resolve(e).then((function(t){if(t instanceof HTMLCanvasElement)try{return Jw.makeImage(t.toDataURL())}catch(t){Nb(t)}return t.cloneNode(!1)})).then((function(t){return i(e,t,r)})).then((function(t){return function(t,e){return e instanceof Element?Promise.resolve().then(r).then(n).then(i).then(o).then((function(){return e})):e;function r(){var r,n;r=window.getComputedStyle(t),n=e.style,r.cssText?n.cssText=r.cssText:function(t,e){Jw.asArray(t).forEach((function(r){e.setProperty(r,t.getPropertyValue(r),t.getPropertyPriority(r))}))}(r,n)}function n(){[":before",":after"].forEach((function(r){!function(r){var n=window.getComputedStyle(t,r),i=n.getPropertyValue("content");if(""===i||"none"===i)return;var o=Jw.uid();e.className=e.className+" "+o;var a=document.createElement("style");a.appendChild(function(t,e,r){var n="."+t+":"+e,i=r.cssText?function(t){var e=t.getPropertyValue("content");return t.cssText+" content: "+e+";"}(r):function(t){return Jw.asArray(t).map((function(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")})).join("; ")+";"}(r);return document.createTextNode(n+"{"+i+"}")}(o,r,n)),e.appendChild(a)}(r)}))}function i(){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}function o(){e instanceof SVGElement&&(e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e instanceof SVGRectElement&&["width","height"].forEach((function(t){var r=e.getAttribute(t);r&&e.style.setProperty(t,r)})))}}(e,t)})):Promise.resolve();function i(e,r,n){var i=e.childNodes;return 0===i.length?Promise.resolve(r):o(r,Jw.asArray(i),n).then((function(){return r}));function o(e,r,n){var i=Promise.resolve();return r.forEach((function(r){i=i.then((function(){return t(r,n)})).then((function(t){t&&e.appendChild(t)}))})),i}}}(t,e.filter,!0)})).then(iA).then((function(t){var{bgcolor:r,width:n,height:i,style:o,sx:a=1,sy:s=1}=e,l=t.style;r&&(l.backgroundColor=r);n&&(l.width=n+"px");i&&(l.height=i+"px");l["margin-left"]="0px",l["margin-top"]="0px",["-webkit-","-moz-","-ms-","-o-",""].forEach(t=>{l[t+"transform"]=`rotate(0rad) translate(0px, 0px) scale(${a}, ${s}) perspective(1px)`}),o&&Object.keys(o).forEach((function(t){l[t]=o[t]}));return t})).then((function(r){return function(t,e,r){return Promise.resolve(t).then((function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)})).then(Jw.escapeXhtml).then((function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"})).then((function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+r+'">'+t+"</svg>"})).then((function(t){return"data:image/svg+xml;charset=utf-8,"+t}))}(r,e.width||Jw.width(t),e.height||Jw.height(t))}))}function nA(t,e){return rA(t,e).then(Jw.makeImage).then(Jw.delay(100)).then((function(r){var n=function(t){var r=document.createElement("canvas");if(r.width=e.width||Jw.width(t),r.height=e.height||Jw.height(t),e.bgcolor){var n=r.getContext("2d");n.fillStyle=e.bgcolor,n.fillRect(0,0,r.width,r.height)}return r}(t);return n.getContext("2d").drawImage(r,0,0),n}))}function iA(t){return tA.inlineAll(t).then((function(){return t}))}var oA={toSvg:rA,toPng:function(t,e){return nA(t,e||{}).then((function(t){return t.toDataURL()}))},toJpeg:function(t,e){return nA(t,e=e||{}).then((function(t){return t.toDataURL("image/jpeg",e.quality||1)}))},toBlob:function(t,e){return nA(t,e||{}).then(Jw.canvasToBlob)},toPixelData:function(t,e){return nA(t,e||{}).then((function(e){return e.getContext("2d").getImageData(0,0,Jw.width(t),Jw.height(t)).data}))},impl:{fontFaces:$w,images:tA,util:Jw,inliner:Zw,options:{}}};function aA(t,e,r,n){var i=this.model_layer,o=i._overlay;return new Promise((function(a,s){if(i){var l=i.get("width"),c=i.get("height");r=r||l,n=n||c;var h=i.get("translate"),u=i.get("scale"),f=Math.min(r/l,n/c);r=l*f,n=c*f,i.set("translate",{x:0,y:0}),i.set("scale",{x:f/Kb,y:f/Kb});var d=Dx.createCanvas(r,n),p=d.getContext("2d");if(i.draw(p),i.set("translate",h),i.set("scale",u),!o)return a(d.toDataURL(t,e)),void(d=null);oA.toPng(o,{sx:f,sy:f,width:r,height:n}).then((function(i){var o=new Image;o.onload=function(){p.drawImage(o,0,0,r,n),a(d.toDataURL(t,e)),d=null},o.src=i}),(function(r){Bb(r),a(d.toDataURL(t,e)),d=null}))}else s("No target model")}))}function sA(){var t=this.selected.filter(t=>!!t.parent&&!t.stuck);if(!(t.length<2)){var e=t[0].parent,r=[],n=t.sort((t,r)=>e.components.indexOf(t)-e.components.indexOf(r));n.forEach(t=>{r.push(t.bounds)});var i=Dx.union(r),o=t[0].transcoordP2S(i.left,i.top),a=Y_({type:"group",left:(o=t[0].transcoordS2T(o.x,o.y)).x,top:o.y,width:i.width,height:i.height}),s=[{component:a,to_container:e}];n.forEach(t=>{s.push({component:t,to_container:a})}),this.app.commander.execute(new W_({changes:s})),this.selected=[a]}}function lA(){if(0!==this.selected.length){var t=[],e=[];this.selected.forEach(r=>{if(r.isGroup()){var n=r.parent;r.components.forEach(r=>{t.push(r),e.push({component:r,to_container:n})}),e.push({component:r,to_container:null})}}),this.app.commander.execute(new W_({changes:e})),this.selected=t}}function cA(){var t=this.selected;if(0!=t.length){var e=t.map(t=>t.bounds),r=Dx.union(e),n=r.left+r.width/2;t.map(t=>{t.symmetryX(n)})}}function hA(){var t=this.selected;if(0!=t.length){var e=t.map(t=>t.bounds),r=Dx.union(e),n=r.top+r.height/2;t.map(t=>{t.symmetryY(n)})}}function uA(){U_.around(this.app.commander,cA,this)}function fA(){U_.around(this.app.commander,hA,this)}function dA(t,e,r){var n=this.findAll(t,r);return n.forEach(t=>{t.set(e)}),n}function pA(t){U_.around(this.app.commander,t)}function gA(){return Object.values(this.indexMap).map(t=>{let{id:e,data:r}=t.model;return{key:e,value:r}}).sort((t,e)=>t.key>e.key?1:-1)}function vA(){return Object.values(this.indexMap).filter(t=>"variable"===t.get("type")).map(t=>{let{id:e,data:r,dataType:n="string"}=t.model;return{key:e,value:r}}).sort((t,e)=>t.key>e.key?1:-1)}function yA(t){var e=Object.values(this.indexMap).filter(t=>"variable"===t.get("type")).reduce((t,e)=>(t[e.get("id")]=e,t),{}),r=[];t.forEach(t=>{let n=e[t.key];n?(n.set("data",t.value),delete e[t.key]):r.push({type:"variable",id:t.key,left:0,top:0,width:100,height:20,data:t.value})}),Uw.call(this,r,{x:-100,y:0}),this.selected=Object.values(e),Ww.call(this)}class mA{constructor(t,e){!(t=Number(t))||t<=0?(Bb("TimeCapsule maxsize should be greater than 0.",t),this.maxsize=10):this.maxsize=t,this.reset(),e&&this.snapshot(e)}dispose(){this.reset()}snapshot(t){this.q.splice(this.pos+1,this.q.length-this.pos+1,t),this.q.length>this.maxsize&&this.q.splice(0,this.q.length-this.maxsize),this.pos=this.q.length-1}forward(){if(this.snapshot_taker&&this.snapshot_taker.take(),this.forwardable)return this.q[++this.pos];Nb("Not forwardable.")}backward(){if(this.snapshot_taker&&this.snapshot_taker.take(),this.backwardable)return this.q[--this.pos];Nb("Not backwardable.")}get current(){if(-1!==this.pos)return this.q[this.pos];Nb("Non state has been recorded.")}get length(){return this.q.length}get forwardable(){return this.pos<this.q.length-1}get backwardable(){return this.pos>0}get snapshot_taker(){return this._snapshot_taker}set snapshot_taker(t){this._snapshot_taker=t}reset(){this.q=[],this.pos=-1}}var bA=fb(t=>{t.brake||t.take()},1e3,{leading:!0,trailing:!1});function xA(t){!t.brake&&t.dirty&&bA(t)}class _A{constructor(t,e){this.brake=!1,this.dirty=!1,this.state_holder=t,this.timecapsule=e,this.timecapsule.snapshot_taker=this}dispose(){delete this.state_holder,delete this.timecapsule}touch(){this.dirty=!0,xA(this)}take(t){(this.dirty||t)&&(this.timecapsule.snapshot(this.state_holder.state),this.dirty=!1)}get brake(){return this._brake}set brake(t){this._brake=!!t,xA(this)}}function wA(t,e){var r=e.model_layer.get("scale"),n=e.model_layer.get("translate");if(t){let i=JSON.parse(t);i.scale=r,i.translate=n,e.rebuildContentModel(i)}}class AA{constructor(t){this.container=t,this.timecapsule=new mA(20);var e=this;this.snapshot_taker=new _A({get state(){let t=e.container.model_layer.hierarchy;return JSON.stringify(t)}},this.timecapsule),this.snapshot_taker.take(!0)}dispose(){this.reset(),this.timecapsule&&this.timecapsule.dispose(),this.snapshot_taker&&this.snapshot_taker.dispose(),delete this.container,delete this.timecapsule,delete this.snapshot_taker}execute(t,e){!1!==e&&t&&t.execute(),this.snapshot_taker.touch(),this.trigger("execute",t,!0,!1)}undo(){this.timecapsule.backwardable&&(wA(this.timecapsule.backward(),this.container),this.trigger("undo",this.undoable(),this.redoable()))}redo(){this.timecapsule.forwardable&&(wA(this.timecapsule.forward(),this.container),this.trigger("redo",this.undoable(),this.redoable()))}undoable(){return this.timecapsule.backwardable}redoable(){return this.timecapsule.forwardable}reset(){this.timecapsule&&this.timecapsule.reset(),this.trigger("command-reset")}}Pb(AA.prototype,Sb.withEvent);var SA=new WeakSet;class EA{static get residents(){return SA}constructor(t){this._container=t,this.app=t.app,this._commander=new AA(this._container),this.app.commander=this._commander,SA.add(this)}add(){return Uw.apply(this._container,arguments)}duplicate(){return zw.apply(this._container,arguments)}remove(){return Ww.apply(this._container,arguments)}animate(){return zb.apply(this,arguments)}fullscreen(){return qw.apply(this._container,arguments)}variable(t,e){return this._container.variable.apply(this._container,arguments)}get target(){return this._container.target_element}set target(t){var e;if("string"==typeof t){if(!(e=document.getElementById(t)))throw`target element '${t}' is not exist`;if(e.firstChild)throw`target element '${t}' already has children`}else e=t;e&&e.style&&(e.style.cursor="default"),this._container.target_element=e,this._container.invalidate()}get scale(){return this.root.get("scale")}set scale(t){this.root.set("scale",t)}get translate(){return this.root.get("translate")}set translate(t){this.root.set("translate",t)}get unit(){return this.root.get("unit")||"px"}get PPM(){return this.app.PPM}get PPI(){return this.app.PPI}get DPPX(){return this.app.DPPX}get unitScale(){return this._container.unitScale}get screen(){return this.app.screen}set screen(t){this.app.screen=t,this._container.resize()}resize(){this._container.resize()}dispose(){this._commander&&this._commander.dispose(),this._container&&this._container.dispose()}get selected(){return this._container.selected.slice()}set selected(t){this._container.selected=t}select(t,...e){return this._container.selected=this.root.findAll(t,...e),this.selected}get commander(){return this._commander}undo(){this.commander.undo()}redo(){this.commander.redo()}cut(){return Kw.apply(this._container,arguments)}copy(){return Vw.apply(this._container,arguments)}paste(){return Qw.apply(this._container,arguments)}undoableChange(){return pA.apply(this._container,arguments)}change(){return dA.apply(this.root,arguments)}get model(){return this.root.hierarchy}set model(t){this._container.rebuildContentModel(t)}get root(){return this._container.model_layer}findAll(){return this.root.findAll.apply(this.root,arguments)}findFirst(){return this.root.findFirst.apply(this.root,arguments)}findById(){return this._container.findById.apply(this._container,arguments)}serialize(){return this.root.trim(),this.root.serialize.apply(this.root,arguments)}align(){return Lw.apply(this._container,arguments)}distribute(){return Bw.apply(this._container,arguments)}move(){return Nw.apply(this._container,arguments)}zorder(){return Dw.apply(this._container,arguments)}symmetryX(){return uA.apply(this._container,arguments)}symmetryY(){return fA.apply(this._container,arguments)}on(){return Yw.apply(this._container,arguments)}once(){return Gw.apply(this._container,arguments)}off(){return Hw.apply(this._container,arguments)}get mode(){return this.app.mode}set mode(t){void 0!==t&&(this.app.mode=t)}toDataURL(){return aA.apply(this._container,arguments)}group(){return sA.apply(this._container,arguments)}ungroup(){return lA.apply(this._container,arguments)}fit(t){this._container.once("redraw",()=>this._container.fit(t)),this._container.invalidate()}get fitMode(){return this._container.fitMode}get ids(){return gA.apply(this._container)}set data(t){this._container.data=t}get data(){return this._container.data}get variables(){return vA.apply(this._container)}set variables(t){yA.apply(this._container,[t])}get baseUrl(){return this.app.baseUrl}set baseUrl(t){this.app.baseUrl=t}}function MA({target:t,model:e,style:r,layers:n=[],handlers:i=[],mode:o=0,refProvider:a,baseUrl:s,fitMode:l}){var c=null;if("string"==typeof t){if(!(c=document.getElementById(t)))throw`target element '${t}' is not exist`;if(c.firstChild)throw`target element '${t}' is not empty`}else c=t;c&&c.style&&(c.style.position="absolute",c.style.cursor="default",c.style.overflow="hidden");var h=new Rw(o,a);return h.baseUrl=s,new EA(new Pw({target_element:c,model:e,style:r,layers:n,handlers:i,fitMode:l},h))}const kA=Math.sqrt(3),TA=2;function PA(t,e,r,n,i){var o,a,s,l,c=5+i,h=r.x,u=r.y,f=n.x,d=n.y;if(Math.abs(h-f)>c&&Math.abs(u-d)>c){var p=(d-u)/(f-h),g=u-p*h;if(Math.abs(e-(p*t+g))>c)return!1}return h>f?(a=h,o=f):(a=f,o=h),u>d?(l=u,s=d):(l=d,s=u),!(a+5<t)&&(!(o-5>t)&&(!(l+5<e)&&!(s-5>e)))}function IA(t,e,r,n=2){for(let i=0;i<r.length-1;i++)if(PA(t,e,r[i],r[i+1],n))return!0;return!1}function OA(t,e,r,n){if("arrow"!=t.slice(-5))return r;var i=Math.atan2(n.y-r.y,n.x-r.x),o=1.5*e;return{x:r.x+Math.cos(i)*o,y:r.y+Math.sin(i)*o}}function jA(t,e,r){var{lineWidth:n=TA,strokeStyle:i="#000000",lineCap:o=!1,alpha:a=1,begin:s="none",end:l="none",beginSize:c="size5",endSize:h="size5"}=r;if(("none"!=s||"none"!=l)&&(n=Number(n)||TA,t.lineCap=o,t.lineWidth=n,t.strokeStyle=i,t.fillStyle=i,t.globalAlpha*=a,"none"!=s&&RA(t,e[0],e[1],n,s,CA(c,n)),"none"!=l)){let r=e.length;RA(t,e[r-1],e[r-2],n,l,CA(h,n))}}function RA(t,e,r,n,i,o){var{x:a,y:s}=e,l=Math.atan2(r.y-s,r.x-a);switch(t.beginPath(),t.translate(a,s),t.rotate(l),i){case"oval":t.ellipse(0,0,o.X,o.Y,0,0,2*Math.PI),t.fill();break;case"diamond":t.moveTo(-o.X,0),t.lineTo(0,-o.Y),t.lineTo(o.X,0),t.lineTo(0,o.Y),t.fill();break;case"arrow":t.moveTo(0,0),t.lineTo(kA*o.X,-o.Y),t.lineTo(kA*o.X,o.Y),t.fill();break;case"sharp-arrow":t.moveTo(0,0),t.lineTo(kA*o.X,-o.Y),t.lineTo(-o.X/1.5+kA*o.X,0),t.lineTo(kA*o.X,o.Y),t.fill();break;case"open-arrow":t.moveTo(kA*o.X+n,-o.Y),t.lineTo(n,0),t.lineTo(kA*o.X+n,o.Y),t.stroke()}t.rotate(-l),t.translate(-a,-s),t.closePath()}function CA(t,e){let r={};switch(e*=1.2,t){case"size1":r.X=e,r.Y=e;break;case"size2":r.X=1.5*e,r.Y=e;break;case"size3":r.X=2*e,r.Y=e;break;case"size4":r.X=e,r.Y=1.5*e;break;case"size5":r.X=1.5*e,r.Y=1.5*e;break;case"size6":r.X=2*e,r.Y=1.5*e;break;case"size7":r.X=e,r.Y=2*e;break;case"size8":r.X=1.5*e,r.Y=2*e;break;case"size9":r.X=2*e,r.Y=2*e;break;default:r.X=1.5*e,r.Y=1.5*e}return r}class LA extends Dx{isLine(){return!0}get drawPath(){return this.path}render(t){var{begin:e="none",end:r="none",lineWidth:n}=this.model,i=this.drawPath;jA(t,i,this.model),t.beginPath();var o=OA(e,n,i[0],i[1]),a=OA(r,n,i[i.length-1],i[i.length-2]);t.moveTo(o.x,o.y);for(let e=1;e<i.length-1;e++)t.lineTo(i[e].x,i[e].y);t.lineTo(a.x,a.y),this.drawStroke(t)}contains(t,e){var{lineWidth:r}=this.model;return IA(t,e,this.drawPath,r)}get resizable(){return!1}get mutable(){return!0}get rotatable(){return!1}get path(){var{x1:t,y1:e,x2:r,y2:n}=this.model;return[{x:t,y:e},{x:r,y:n}]}set path(t){var e=t[0],r=t[1];this.set({x1:e.x,y1:e.y,x2:r.x,y2:r.y})}}LA.getTipNeckPos=OA,LA.containedInPath=IA,LA.drawEndTips=jA,Dx.memoize(LA.prototype,"path",!1),Dx.register("line",LA);class FA extends n_{is3dish(){return!0}render(t){var{cx:e,cy:r,rx:n,ry:i,startAngle:o,endAngle:a,anticlockwise:s}=this.model;t.beginPath(),t.ellipse(e,r,Math.abs(n),Math.abs(i),0,o||0,a||2*Math.PI,s)}get path(){var{cx:t,cy:e,rx:r,ry:n}=this.model;return[{x:t-r,y:e-n},{x:t+r,y:e-n},{x:t+r,y:e+n},{x:t-r,y:e+n}]}set path(t){var e=t[0],r=t[2];this.set({cx:e.x+(r.x-e.x)/2,cy:e.y+(r.y-e.y)/2,rx:(r.x-e.x)/2,ry:(r.y-e.y)/2})}contains(t,e){var{cx:r,cy:n,rx:i,ry:o}=this.model,a=(t-r)/(2*i-.5),s=(e-n)/(2*o-.5);return a*a+s*s<.25}outline(t){return function(t,e){var{cx:r,cy:n,rx:i,ry:o}=t.model,a=2*Math.PI*e,s=r+i*Math.cos(a),l=n+o*Math.sin(a);return t.transcoordS2T(s,l)}(this,t)}}Dx.memoize(FA.prototype,"path",!1),Dx.register("ellipse",FA);var BA={ondragstart:function(t,e,r){r.mutatePath(null,(function(r){r.splice(e+1,0,t)}))},ondragmove:function(t,e,r){r.mutatePath(null,(function(r){r[e+1]=t}))},ondragend:function(t,e,r){}};class NA extends n_{is3dish(){return!0}render(t){var{path:e=[]}=this.model;if(!(e.length<=1)){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(let r=1;r<e.length;r++)t.lineTo(e[r].x,e[r].y);t.closePath()}}get mutable(){return!0}get pathExtendable(){return!0}get path(){return this.model.path}set path(t){this.set("path",t)}contains(t,e){var r=this.model.path,n=!1;return r.forEach((i,o)=>{let a=(o+r.length+1)%r.length,s=i.x,l=i.y,c=r[a].x,h=r[a].y;l>e!=h>e&&t<(c-s)*(e-l)/(h-l)+s&&(n=!n)}),n}get controls(){var t=this.path;return t.map((e,r)=>{let n=t[r+1>=t.length?0:r+1];return{x:(e.x+n.x)/2,y:(e.y+n.y)/2,handler:BA}})}}Dx.memoize(NA.prototype,"controls",!1),Dx.register("polygon",NA);var DA={ondragstart:function(t,e,r){r.mutatePath(null,(function(r){r.splice(e,0,t)}))},ondragmove:function(t,e,r){r.mutatePath(null,(function(r){r[e]=t}))},ondragend:function(t,e,r){}};class UA extends LA{get pathExtendable(){return!0}get path(){return this.model.path}set path(t){this.set("path",t)}get controls(){var t=this.path,e=[];for(let r=0;r<t.length-1;r++){let n=t[r],i=t[r+1];0==r&&e.push({x:n.x,y:n.y,handler:DA}),e.push({x:(n.x+i.x)/2,y:(n.y+i.y)/2,handler:DA}),r==t.length-2&&e.push({x:i.x,y:i.y,handler:DA})}return e}}Dx.memoize(UA.prototype,"controls",!1),Dx.register("polyline",UA);const zA={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"image-selector",label:"image-src",name:"src",property:{displayField:"id",displayFullUrl:!0,baseUrlAlias:"$base_url",defaultStorage:"scene-image",storageFilters:{type:Array,value:[{name:"category",value:"image"}]},useUpload:!0}},{type:"select",label:"cross-origin",name:"crossOrigin",property:{options:["","anonymous","use-credentials"]}}],"value-property":"src"};class WA extends(Jx(n_)){static get noimage(){return WA.NOIMAGE||(WA.NOIMAGE=new Image,WA.NOIMAGE.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABIBAMAAAD7Se1QAAAAIVBMVEUAAABHcEwBAQEREREBAQEEBAQGBgYLCwsDAwMDAwMICAi6HF9tAAAAC3RSTlNNAEAERiMYCS41Eac10lYAAAEgSURBVHhe7dY9asQwEAXgh7DNertNiJy48pIitY3SB7bYdk0ukL1BDDmA9gZecoH4pmFQ3MQayUMguPBrNPD4wD9TCMvJmt3M/AtYwXOlXiWgqADVCUBD46MAnGhMBaCiUQmAm8VA/Eh/eWl9Fn5WcxD+OLuRrUYJDKLluwH2InACUgkoACSdADxQc50Bytadb9RkM0CT13TcvlCT1HFg8UTHvasuUVACCa3El6u2UdD8LFTlKhUFFgA+d3dj10aABkUN72N3jAADCrJq7PIIsPidcxBoTHIIAjMFmyCwmGYIAA1P9gFgfCANAOsDSccCDW+uLDB+kLGg94OkZoAGkwsDDAe2DOg5oPxAg03rBR88OHpBz4N8UVeHFSwma74BTW6Ge4rIRa4AAAAASUVORK5CYII="),WA.NOIMAGE}dispose(){super.dispose(),this._offcanvas=null,this._image=null}render(t){var{left:e,top:r,width:n,height:i,isGray:o=!1,alpha:a=1,src:s}=this.state;if(this.prepareIf(!this._image&&s),t.beginPath(),t.globalAlpha*=a,this._image&&this._image.complete)if(o&&this._offcanvas)t.drawImage(this._offcanvas,e,r,n,i);else try{t.drawImage(this._image,e,r,n,i)}catch(o){t.drawImage(WA.noimage,e,r,n,i)}else!this.app.isViewMode&&t.drawImage(WA.noimage,e,r,n,i)}get nature(){return zA}get hasTextProperty(){return!1}ready(){this.prepareIf(!this._image&&this.state.src)}prepare(t,e){var{src:r,crossOrigin:n}=this.state;if(r){this._image=new Image;try{n&&(this._image.crossOrigin=n),this._image.src=this.app.url(r)||""}catch(t){return void e(t)}this._image.onload=()=>{if(this.get("isGray")){let t=this._image.width,e=this._image.height;this._offcanvas=Dx.createCanvas(t,e);let r=this._offcanvas.getContext("2d");r.drawImage(this._image,0,0);let n=function(t,e,r){try{var n=t.getImageData(0,0,e,r)}catch(t){return Bb("Get Image Data Error: "+t.message),null}var i=n.data;for(let t=0;t<e*r*4;t+=4){let e=i[t],r=i[t+1],o=i[t+2],a=parseInt((e+r+o)/3);n.data[t]=a,n.data[t+1]=a,n.data[t+2]=a}return n}(r,t,e);r.putImageData(n,0,0)}t(this)},this._image.onerror=t=>{this._image&&!this._image.currentSrc&&(this._image=null),e(t)}}else t(this)}get src(){return this.get("src")}set src(t){this.set("src",t)}onchange(t,e){(t.hasOwnProperty("src")||t.hasOwnProperty("isGray"))&&(this._offcanvas=null,this._image=null,this.prepareIf(t.src))}ondropfile(t,e){for(let r=0;r<t.length;r++)if(t[r].type.startsWith("image/"))return void(this.src=e[r])}}Dx.register("image-view",WA);class YA extends(I_(Jx(Dx))){}var GA=e((function(t,e){var r,n,i,o;t.exports=(r=function(t){return t.reduce((function(t,e){return 2*t+e}),0)},n=function(t){for(var e=[],r=7;r>=0;r--)e.push(!!(t&1<<r));return e},i=function(t){this.data=t,this.len=this.data.length,this.pos=0,this.readByte=function(){if(this.pos>=this.data.length)throw new Error("Attempted to read past end of stream.");return t instanceof Uint8Array?t[this.pos++]:255&t.charCodeAt(this.pos++)},this.readBytes=function(t){for(var e=[],r=0;r<t;r++)e.push(this.readByte());return e},this.read=function(t){for(var e="",r=0;r<t;r++)e+=String.fromCharCode(this.readByte());return e},this.readUnsigned=function(){var t=this.readBytes(2);return(t[1]<<8)+t[0]}},o=function(t,e){e||(e={});var i=function(e){for(var r=[],n=0;n<e;n++)r.push(t.readBytes(3));return r},o=function(){var e,r;r="";do{e=t.readByte(),r+=t.read(e)}while(0!==e);return r},a=function(a){a.leftPos=t.readUnsigned(),a.topPos=t.readUnsigned(),a.width=t.readUnsigned(),a.height=t.readUnsigned();var s=n(t.readByte());a.lctFlag=s.shift(),a.interlaced=s.shift(),a.sorted=s.shift(),a.reserved=s.splice(0,2),a.lctSize=r(s.splice(0,3)),a.lctFlag&&(a.lct=i(1<<a.lctSize+1)),a.lzwMinCodeSize=t.readByte();var l=o();a.pixels=function(t,e){for(var r,n,i=0,o=function(t){for(var r=0,n=0;n<t;n++)e.charCodeAt(i>>3)&1<<(7&i)&&(r|=1<<n),i++;return r},a=[],s=1<<t,l=s+1,c=t+1,h=[],u=function(){h=[],c=t+1;for(var e=0;e<s;e++)h[e]=[e];h[s]=[],h[l]=null};;)if(n=r,(r=o(c))!==s){if(r===l)break;if(r<h.length)n!==s&&h.push(h[n].concat(h[r][0]));else{if(r!==h.length)throw new Error("Invalid LZW code.");h.push(h[n].concat(h[n][0]))}a.push.apply(a,h[r]),h.length===1<<c&&c<12&&c++}else u();return a}(a.lzwMinCodeSize,l),a.interlaced&&(a.pixels=function(t,e){for(var r=new Array(t.length),n=t.length/e,i=function(n,i){var o=t.slice(i*e,(i+1)*e);r.splice.apply(r,[n*e,e].concat(o))},o=[0,4,2,1],a=[8,8,4,2],s=0,l=0;l<4;l++)for(var c=o[l];c<n;c+=a[l])i(c,s),s++;return r}(a.pixels,a.width)),e.img&&e.img(a)},s=function(){var i={};switch(i.sentinel=t.readByte(),String.fromCharCode(i.sentinel)){case"!":i.type="ext",function(i){switch(i.label=t.readByte(),i.label){case 249:i.extType="gce",function(i){t.readByte();var o=n(t.readByte());i.reserved=o.splice(0,3),i.disposalMethod=r(o.splice(0,3)),i.userInput=o.shift(),i.transparencyGiven=o.shift(),i.delayTime=t.readUnsigned(),i.transparencyIndex=t.readByte(),i.terminator=t.readByte(),e.gce&&e.gce(i)}(i);break;case 254:i.extType="com",function(t){t.comment=o(),e.com&&e.com(t)}(i);break;case 1:i.extType="pte",function(r){t.readByte(),r.ptHeader=t.readBytes(12),r.ptData=o(),e.pte&&e.pte(r)}(i);break;case 255:i.extType="app",function(r){switch(t.readByte(),r.identifier=t.read(8),r.authCode=t.read(3),r.identifier){case"NETSCAPE":!function(r){t.readByte(),r.unknown=t.readByte(),r.iterations=t.readUnsigned(),r.terminator=t.readByte(),e.app&&e.app.NETSCAPE&&e.app.NETSCAPE(r)}(r);break;default:!function(t){t.appData=o(),e.app&&e.app[t.identifier]&&e.app[t.identifier](t)}(r)}}(i);break;default:i.extType="unknown",function(t){t.data=o(),e.unknown&&e.unknown(t)}(i)}}(i);break;case",":i.type="img",a(i);break;case";":i.type="eof",e.eof&&e.eof(i);break;default:throw new Error("Unknown block: 0x"+i.sentinel.toString(16))}"eof"!==i.type&&requestAnimationFrame(s)};!function(){var o={};if(o.sig=t.read(3),o.ver=t.read(3),"GIF"!==o.sig)throw new Error("Not a GIF file.");o.width=t.readUnsigned(),o.height=t.readUnsigned();var a=n(t.readByte());o.gctFlag=a.shift(),o.colorRes=r(a.splice(0,3)),o.sorted=a.shift(),o.gctSize=r(a.splice(0,3)),o.bgColor=t.readByte(),o.pixelAspectRatio=t.readByte(),o.gctFlag&&(o.gct=i(1<<o.gctSize+1)),e.hdr&&e.hdr(o)}(),requestAnimationFrame(s)},function(t){var e,r,n={vp_l:0,vp_t:0,vp_w:null,vp_h:null,c_w:null,c_h:null};for(var a in t)n[a]=t[a];n.vp_w&&n.vp_h&&(n.is_vp=!0);var s=null,l=!1,c=null,h=null,u=null,f=null,d=null,p=null,g=null,v=!0,y=!1,m=[],b=[],x=n.gif;void 0===n.auto_play&&(n.auto_play=!x.getAttribute("rel:auto_play")||"1"==x.getAttribute("rel:auto_play"));var _,w,A,S,E=n.hasOwnProperty("on_end")?n.on_end:null,M=n.hasOwnProperty("loop_delay")?n.loop_delay:0,k=n.hasOwnProperty("loop_mode")?n.loop_mode:"auto",T=!n.hasOwnProperty("draw_while_loading")||n.draw_while_loading,P=!!T&&(!n.hasOwnProperty("show_progress_bar")||n.show_progress_bar),I=n.hasOwnProperty("progressbar_height")?n.progressbar_height:25,O=n.hasOwnProperty("progressbar_background_color")?n.progressbar_background_color:"rgba(255,255,255,0.4)",j=n.hasOwnProperty("progressbar_foreground_color")?n.progressbar_foreground_color:"rgba(255,0,22,.8)",R=function(){c=null,h=null,d=u,u=null,p=null},C=function(){try{o(e,Y)}catch(t){B("parse")}},L=function(t,e){_.width=t*H(),_.height=e*H(),A.style.minWidth=t*H()+"px",S.width=t,S.height=e,S.style.width=t+"px",S.style.height=e+"px",S.getContext("2d").setTransform(1,0,0,1,0,0)},F=function(t,e,r){if(r&&P){var i,o,a,s=I;n.is_vp?y?(o=(n.vp_t+n.vp_h-s)/H(),s/=H(),i=n.vp_l/H()+t/e*(n.vp_w/H()),a=_.width/H()):(o=n.vp_t+n.vp_h-s,s=s,i=n.vp_l+t/e*n.vp_w,a=_.width):(o=(_.height-s)/(y?H():1),i=t/e*_.width/(y?H():1),a=_.width/(y?H():1),s/=y?H():1),w.fillStyle=O,w.fillRect(i,o,a-i,s),w.fillStyle=j,w.fillRect(0,o,i,s)}},B=function(t){s=t,r={width:x.width,height:x.height},m=[],w.fillStyle="black",w.fillRect(0,0,n.c_w?n.c_w:r.width,n.c_h?n.c_h:r.height),w.strokeStyle="red",w.lineWidth=3,w.moveTo(0,0),w.lineTo(n.c_w?n.c_w:r.width,n.c_h?n.c_h:r.height),w.moveTo(0,n.c_h?n.c_h:r.height),w.lineTo(n.c_w?n.c_w:r.width,0),w.stroke()},N=function(){p&&(m.push({data:p.getImageData(0,0,r.width,r.height),delay:h}),b.push({x:0,y:0}))},D=function(){var t,e,r,i=-1,o=0,a=function(t){i+=t,c()},l=(t=!1,e=function(){null!==E&&E(x),o++,!1!==k||o<0?r():(t=!1,v=!1)},r=function(){if(t=v){a(1);var n=10*m[i].delay;n||(n=100),0==(i+1+m.length)%m.length?(n+=M,setTimeout(e,n)):setTimeout(r,n)}},function(){t||requestAnimationFrame(r)}),c=function(){var t;(i=parseInt(i,10))>m.length-1&&(i=0),i<0&&(i=0),t=b[i],S.getContext("2d").putImageData(m[i].data,t.x,t.y),w.globalCompositeOperation="copy",w.drawImage(S,0,0)};return{init:function(){s||(n.c_w&&n.c_h||w.scale(H(),H()),n.auto_play?l():(i=0,c()))},step:l,play:function(){v=!0,l()},pause:function(){v=!1},playing:v,move_relative:a,current_frame:function(){return i},length:function(){return m.length},move_to:function(t){i=t,c()}}}(),U=function(t){F(e.pos,e.data.length,t)},z=function(){},W=function(t,e){return function(r){t(r),U(e)}},Y={hdr:W((function(t){L((r=t).width,r.height)})),gce:W((function(t){N(),R(),c=t.transparencyGiven?t.transparencyIndex:null,h=t.delayTime,u=t.disposalMethod})),com:W(z),app:{NETSCAPE:W(z)},img:W((function(t){p||(p=S.getContext("2d"));var e=m.length,i=t.lctFlag?t.lct:r.gct;e>0&&(3===d?null!==f?p.putImageData(m[f].data,0,0):p.clearRect(g.leftPos,g.topPos,g.width,g.height):f=e-1,2===d&&p.clearRect(g.leftPos,g.topPos,g.width,g.height));var o=p.getImageData(t.leftPos,t.topPos,t.width,t.height);t.pixels.forEach((function(t,e){t!==c&&(o.data[4*e+0]=i[t][0],o.data[4*e+1]=i[t][1],o.data[4*e+2]=i[t][2],o.data[4*e+3]=255)})),p.putImageData(o,t.leftPos,t.topPos),y||(w.scale(H(),H()),y=!0),T&&(w.drawImage(S,0,0),T=n.auto_play),g=t}),!0),eof:function(t){N(),U(!1),n.c_w&&n.c_h||(_.width=r.width*H(),_.height=r.height*H()),D.init(),l=!1,X&&X(x)}},G=function(){var t=x.parentNode,e=document.createElement("div");(_=document.createElement("canvas")).style.width="100%",_.style.height="100%",w=_.getContext("2d"),A=document.createElement("div"),S=document.createElement("canvas"),e.width=_.width=x.width,e.height=_.height=x.height,A.style.minWidth=x.width+"px",e.className="jsgif",e.style.width="100%",e.style.height="100%",A.className="jsgif_toolbar",e.appendChild(_),e.appendChild(A),t.insertBefore(e,x),t.removeChild(x),n.c_w&&n.c_h&&L(n.c_w,n.c_h),q=!0},H=function(){return n.max_width&&r&&r.width>n.max_width?n.max_width/r.width:1},q=!1,X=!1,V=function(t){return!l&&(X=t||!1,l=!0,m=[],R(),f=null,d=null,p=null,g=null,!0)};return{play:D.play,pause:D.pause,move_relative:D.move_relative,move_to:D.move_to,get_playing:function(){return v},get_canvas:function(){return _},get_canvas_scale:function(){return H()},get_loading:function(){return l},get_auto_play:function(){return n.auto_play},get_length:function(){return D.length()},get_current_frame:function(){return D.current_frame()},load_url:function(t,r){if(V(r)){var n=new XMLHttpRequest;n.open("GET",t,!0),"overrideMimeType"in n?n.overrideMimeType("text/plain; charset=x-user-defined"):"responseType"in n?n.responseType="arraybuffer":n.setRequestHeader("Accept-Charset","x-user-defined"),n.onloadstart=function(){q||G()},n.onload=function(t){200!=this.status&&B("xhr - response"),"response"in this||(this.response=new VBArray(this.responseText).toArray().map(String.fromCharCode).join(""));var r=this.response;r.toString().indexOf("ArrayBuffer")>0&&(r=new Uint8Array(r)),e=new i(r),requestAnimationFrame(C)},n.onprogress=function(t){t.lengthComputable&&F(t.loaded,t.total,!0)},n.onerror=function(){B("xhr")},n.send()}},load:function(t){this.load_url(x.getAttribute("rel:animated_src")||x.src,t)},load_raw:function(t,r){V(r)&&(q||G(),e=new i(t),requestAnimationFrame(C))},set_frame_offset:function(t,e){b[t]?(void 0!==e.x&&(b[t].x=e.x),void 0!==e.y&&(b[t].y=e.y)):b[t]=e}}})}));const HA={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"string",label:"src",name:"src"},{type:"checkbox",label:"play",name:"play"}],"value-property":"src"};class qA extends YA{async oncreate_element(t){var{src:e,play:r}=this.state;this.onchangesrc(e),this.onchangeplay(r)}buildImg(){var t=this.element;t.innerHTML="";var e=document.createElement("img");return e.style.width="100%",e.style.height="100%",t.appendChild(e),e}onchange(t,e){super.onchange(t,e),"src"in t&&this.onchangesrc(t.src),"play"in t&&this.onchangeplay(t.play)}setElementProperties(t){}onchangeplay(t){var e=this._superGif;e&&!e.get_loading()&&(t?e.play():e.pause())}onchangesrc(t){var e=this.buildImg();t||(t="data:image/gif;base64,R0lGODlhYABIAPcAAAAAAAEBAQICAgMDAwQEBAUFBQYGBgcHBwgICAkJCQoKCgsLCwwMDA0NDQ4ODg8PDxAQEBERERISEhMTExQUFBUVFRYWFhcXFxgYGBkZGRoaGhsbGxwcHB0dHR4eHh8fHyAgICEhISIiIiMjIyQkJCUlJSYmJicnJygoKCkpKSoqKisrKywsLC0tLS4uLi8vLzAwMDExMTIyMjMzMzQ0NDU1NTY2Njc3Nzg4ODk5OTo6Ojs7Ozw8PD09PT4+Pj8/P0BAQEFBQUJCQkNDQ0REREVFRUZGRkdHR0hISElJSUpKSktLS0xMTE1NTU5OTk9PT1BQUFFRUVJSUlNTU1RUVFVVVVZWVldXV1hYWFlZWVpaWltbW1xcXF1dXV5eXl9fX2BgYGFhYWJiYmNjY2RkZGVlZWZmZmdnZ2hoaGlpaWpqamtra2xsbG1tbW5ubm9vb3BwcHFxcXJycnNzc3R0dHV1dXZ2dnd3d3h4eHl5eXp6ent7e3x8fH19fX5+fn9/f4CAgIGBgYKCgoODg4SEhIWFhYaGhoeHh4iIiImJiYqKio+Pj5iYmKCgoKampqurq66urrCwsLGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrOzs7S0tLa2tre3t7m5ubu7u7+/v8DAwMHBwcPDw8XFxcfHx8vLy8/Pz9LS0tXV1dfX193d3eTk5Onp6fj4+Pz8/P7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v///////////////////////////////////////////////////////////////////////////////yH5BAkAAPUAIf47R2VuZXJhdGVkIGJ5IGpzZ2lmIChodHRwczovL2dpdGh1Yi5jb20vYW50aW1hdHRlcjE1L2pzZ2lmLykALAAAAABgAEgAAAj+AGcJHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo8ePIEOKHEmypMmR9VKqXMmypcuXMGPKnJkSIs2bOHPqZGlzp8+fQOv1DEq0KMyhRpMmRaq0KVCmTqPmhCq1qkyqLrFRSyYwGTVsVo1iZXmNa8Fk18ISHasSm1mDycCq/ck2JTWF1ObSfTjz7cFken3WFbow8M7BDA3rHOwXruKpfGXeTZg3qDVrUge7RRg3KLZjx+Q2HVyvLNy0QaMJjBaVdD2tZr2K/mmNIObRkR+n9AsYt0Pddg1WXppb8bWDx1CLLW74GcJnSl3TtDY8Zu2Et4tKl7n52eyWnxXvhl7+26jqrspbnlfIWjtz2gWPZV95neH8veU9NxZYfbfD3kFt99J6Bnmn0mQO9XfYezrVxxlmx0GUXIAM4hSeffsxBN1TFd5E4Ef3QZbfTg6CNJ5gHXJ3TEntLThiTh+KFCJNAqZU4kgAitjQTheepOBMNcZI0oQ6JpbTjSZtiNN2PZ400IxHpdiSc07G911M0iFZZYtAStnWilUeBGVLrlEZpmM0elmPlmfO8iOZXl4DZpsGEYmll2bSWWCXLwJXVY1+urhjoGEBSuiSah6K36CKtpZoo4s9CimielZq6aWYZqrpppx26umnoIZ6UkAAOw=="),e.setAttribute("rel:animated_src",t),e.setAttribute("rel:auto_play",0),this._superGif=new GA({gif:e,progressbar_height:2}),this._superGif.load(()=>{this._superGif.move_to(0),this.play&&this._superGif.play()})}ondropfile(t,e){for(let r=0;r<t.length;r++)if(/\.gif$/.test(t[r].name))return void(this.src=e[r])}get src(){return this.getState("src")}set src(t){this.set("src",t)}get play(){return this.getState("play")}set play(t){this.setState("play",t)}get nature(){return HA}get tagName(){return"div"}}Dx.register("gif-view",qA);const XA={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"string",label:"src",name:"src"},{type:"checkbox",label:"started",name:"started"},{type:"checkbox",label:"loop",name:"loop"}],"value-property":"src"};class VA extends(Jx(n_)){static get image(){return VA.IMAGE||(VA.IMAGE=new Image,VA.IMAGE.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAMAAAC3Ycb+AAAAP1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACzJYIvAAAAFHRSTlMA8BAwgNBgQKB/wCBwUJDg37CvXyUlBK8AABFYSURBVHja7NsBkqIwFIThTiAQgyBq3/+sm6p1tnamZkaTMhJJf1f4S/JeEIiIiIiIiIiIiIiIiEhD7Hg4BH84TpAKjJ4f3NFCtjVd+InXz2RTs+FXlxGylYHfcVfIJmb+YFWSLUyGVJKKBJJKUo+Rd6w63l/qzLuCkryO5fe0l2xk5mMWbe+v0fNBRqf7S3je6CipQ2ACr+dWcYEpzBFS1plpguatsnomMgdIQSOTuQ5SjmE6/UgK8szgdJIUM/FG41YlFmYJ2kkKsY5ZzAwBurHDk3WGeRY0bvYrGa1+rqNI22f7dS32ZnUK1GMr0eSK3mEc9dhKMxp+ZTo8kT2emOXS5LQ1kCxbJBocSd2k5PaIjMVzjWcdJPk9ooBnmzx1t5XbIxqBKpJ4NGTgzwKiGpK4do72gb+ZUMIYtCPm9WCPMsYTE5k2hq2ZvzujlCE1iRmwf3dvmRyKsT0T7b9I7HEPCpqCiqT2IIqaT1pI0noQZdlFC8l/PbYPAnRORT56VBEE6FXkb49agmByKhJ71BME6FsvEntUFQTdqekisUdlQWCXhovEHtUFAWbTapHYo8YgmFybO3vsUWcQYGmxSOxRbRAMprkisUfFQVKmrX18sxt7VB0ENjT1xir2qDxIwkFi3v89e+xRfxAMzfzzIfZ4hyAYDR9zwVuLPd4jCDrTwoLYGb5LEFi3/+E3rweR6urX20c/Fvls2Pvwm9mDSGIPhv8YPyGf3/eo9Ye7O8B2FIShAAooakEttex/rbODad5/yTHIAjqn505IQPv+Xz06dz+4VXORHEZcgAcB8updM8F6e25jBzwIkE07l+x8amMnPDp6nsNJ+BoZ7Q6F8egqAda9VEuRNlZjBzwYkMskdXR73okd8GBAJiKYjBcZKKqG9OiKDbgdfxJ5VhsBPDiQZhaouD3p4hfw4EAmwxisz3MSHwAPEmQ1TB1N+SmXWoAHC7JbZsWl/IxLLcCDBplNo3lrfMLsmwAPGmShAxX5/1vOEzjEz3iyfQ/hI36W4TctsUesOAifPdrQg8M++KYl95iCBkjI1r8634betBAPHZDTPFAmD3zLiHgogVTziMsahz0eIh5aIGHGRSJ2mFtHPR4iHhQIP2UvWGMf8wk74qEIEib7rLjPiBfxiAcCwp8V+Nae3uMdRhAPDIR/J5f/Q2DTcC+hIB7qIGEq3Ti9bx+sryMeAAgS70OK8G2kBD8L8QBAoLWU3g3vUVIc6D0txAMAsY+4jBWowXHO64gHBGKfYJ2T5qY1BxcL98BB+PQ+XiS9xxh9EQ8ChA6C5UXWIUoE9MBB8LVHQoS7ib8/dRn3sAcJ6bQRSdH96RDxIEH4QEX+AHF4LxHEAwUh12xyr1V8lwjiQYDYF8kuf1jluUQQDwrEvkhW8Wc6LhHUgwfhi4QPlHm7LRHawx4kpE191Dq8lgjhAYDQa1cftYrPEiE8OJDb40uqyzdQCA8WhAzL4G/PT4c3WrgHD2IfllGl53V37zsgHg5ApPNvVvq4Fn4spx4oiH1W3CwtEV+PDhEPJyBSkVX4aa7emkM83ICEKWpGM7wdvYCCeDgCEYpcwhLxczhEPFyBCEUWnRL5T6X59SBASBF+9l28TL5F7uEORCZyCUvEx+S7yT0cgoRVb9JaXLR1qUdfgksQ0fTbgmhFB20d8HAKEha14+F8f1sHPNyCiL6EqK+n20/rgIdjkFC0Ho1s6Gndvcc9ICkr/ey8/rHO6vp9KawL8DAFOV6l9Fyub7IbflsCag1qRfVsXWvxHjxIejU+BHZV6uvHD1XiEb++Bw8i+dNd+Wv0eCQmhcPhRPwUUt2DB5G1sfa1aeyzAuyJj9x2HjyIdKzIKw5SI14ieFtvo3kIQERj3lVhkUOnRD7AnjV5369QkAOJZeCH+Jh41xOLs73dQwAifY6dpxCCbjTDzLf1Bm1Y93tAIDOWXcLPvrHyr2hVoEAceEAgDQzB4jetk0/c2OXRHB48EJCpa4dgpYh2ETxtrshz7zx4ICCzfuTSDn8p/EOS9OTjwgMB+cABP3yWYuOPIofs33LigYCULlpZNXJppVU30Vf14kGAUCLijf1D71lN9FW9eFiA9KgZ8FPpPUsSnufGA+8hvAg2Kpz0nrX//qp+PIgpC3i6xJRITOye9fn1VT15ICCrVlQG5rywo0H8x965bVkNwmCYQ2kR6Gmb939WXV65dFnI/tPdjPBfO7XMN4EkTUJtqZp4sCJ1+8jwkhMu0KpMxFXFA8hlVfQSMxGH5mDK1VKV8QCyvTVtUiYyo7V358VStfGoAEFMhGYhEwloxZy9WKo2Hjwg5iSOvFDXeUYd33+PuVfHgwnEBWLocDJp+IIa2fyvperjwQRiXCKGosyXqoA+YfsIELuYu4HAt+msMknfDK4jfQJIzOZ2IPAQWJtFOhQKivR2IDZ6Awis7V0iLxqBI7uEZo19dakTogLSwKvf8yk8Jq6CGK0GKvWlatG7b7kkUU/Lo1gdXWn7/4E0j0qeJDpqN/ABqQcgJgdqURb4chjQktIugDS6wFFiz3JgaJj7AGJmholAe9YKhoZLJ0Ca6smjwJ4VwVN96gVIE5GM71kHaGKxGyAtRDaB2NBhLVmpHyANRKzDO28W7FS3HQFpaIWa8TrfCXQwegJSL5k+8M9UJ+pm9QTEnCIZrR0MDQeQ9ua0iCcYQaBTV0CqNXQW/yiyYG7W1heQanPaCkciBXuH1BkQJzHcDQxmpgGkPatl4WkbCXO/bW9AqlNg4H0PPMi6A1IxkQmOZ8D0ousNSMVEEuyreTAQ6Q7IRJeCX2YZQHhv6SrBOmpkM+YUzN0BqSRQCupmTeCP9wdkhiOREwtEzgGEsWcF9BhK9R8fQDiN7A8DiR0CKXQlj/q9IM8OgXjIzcKBlAHkD6FulgNzJwPIHwpo8mQAkX3LiPq9dKUMAQk9AqmcqmjuBAJCPQIpA4guIAsKJA0gnwNy3A4kDyBIHCEPxAwgf8gPILqA5AFEF5CxZX0lIHYc6rqADLf380BmFMgxgIzUyf8MJKLTRelKHgKy9wgkjfS7LiA0gKgC8vQn3HUA4RQ5LKPIAQciWbqIEg0YkLNDIHYUyqkCsmKN5vg3+W0AYTRATaPY+uu1IwS6UMGAlO6AFPjSCQMStaNh53cdcPG7Hx1Uupo+rx+Bltn1BuTAj5BptEV/bHAAwbnJMICwRmtUDOSEA8s4Rmtw3nITGD6TwUNoG0Ca7xi2YKSPj2eKXQFxQWKA2QbGMWEMMGseOb7C7T47uJS1JyAzVbTjqZdU3zbHzMXWS+qp4Fgn8Ahy/QCRGqQcwU1vGnN7fylboWn8Bzg//hyjxltvdcl45bwFfYKzFyBy11UU9BnjuoqfWizVlQXulpzBTNbaB5Aid+VRrkBFB630AMS9BC8FK2ggE7u/FGy1kvfcB9TKQufX5uUXNWl3EjvWCi4k/u9A3Ddq1CpTIQGe6VN1qd8ArcvDQNw3S41Kn6qQmOq5e7pRr+8fAYLiIJtFrrvYRMYL0q06vj8EZLXUriJzRY8H1xEagOCK7gkghRg6RQYO0I6aWPwIEAru80AiMWSdzAeuDXUKyr+WqpAID8hMHC1Ct8F4mUsQ6W8pJMICki0JHCBczAFdBl38G3VE6ErQhhWlih4LWrCSLpaqjggHiGe9mVjRY0YPoelyqcqIcIDEe97rqJFFH7FcLlUZEQ6Qg5plvZiBFNhtri1VFREGEC/Eg4nZoU5vqi1VFREGkIXDQ8xAIhzoT/WlKiLCAFIYPOQMxOPdjfWlKiLCADJRm3YGj+pDE2xktmmpaogwgMz8d8GrumZ4xzpbvinqISJ+hiTWm7wEqoJdI9JEV9JChAEkS3xCZzKecLcgN6YwlRBhAGmweTsblg6qKMM7Vmh321UQ4QAp1VfwhqVJIh+Wm03W0qV0EOEAybXtivkCmWrKeH2EZ/xBaSBCV2L9Re+LYSqJJIxDu1ew07U0EGEBcTtmHty4JuPtQhvLh1BAhK7Uvvq0GK484QZST0GvvFDqeSJ1IA0r2mfDljvqBoJ//rVsq7yZCA6kXgVkJ2f4ijIGMjOfMVsCBBORB2Jy+sM6ijNvaBUqmw/cStZ8EiKciHwp6Rp++88qmxXQeTUxDiJWJ9wSISvBicgXW+dypn1PqWTznlwgwdZdfiLHr5OELEAEASKvJFRE5JCPKbh8OxHdQKJU0crEzRXrJ/IEkFms6tGyrUw9kQeALFRXvK2iSzsRAAi6BLxM+60xdsqJAEBuXMAMxDLVp+gmAgC57/UT4qvVj3TVRCAgSAYL91aXtyNLzUQAIFhAiP8m0/NHOp+ILiBtPFKrs6bgSOcT0QTEB8nO3QR1yKslggKRf+m11UB0HOl8IlqAeCvauXuo8HnfIqIDyCw6G8XMcGiplMingMzCnbuHFp/3LSLPA4nUpqm5YkWNzwsQeQxIDsKjH5wVSU5qJPIJIIt4jjpqNBAekQeBfJOeHWS81FQoo4/I7UDcS3wUh0liTzLqiEgDqddx4ZHDrNZAACIAEMw88HPYWb0GAhABgEDmgf9Vb5oNBCByOxD3uqWYbCHVBgIQuRlIsbfwMEG5gQBE7gSyHMDsOayrxJvHBRC5B0hOxJH1nK4SlUE6QOR+IG6ju3iYQEqDdIDIzUDyZu/jMRHpS/OiRG4FkiPRfTw8kbrvIAJEACAIDpyHC1/GQHhEbgKSXwTyqIeEur6kixEBgABHOTr7YSX1MSFAhA0E307wUU76Y0KACAsI/tvCRzkF+iIuL0AEAYLbR2QOfvhKJ/obRESBxNt5rPSFXN4f7dyNdqMgEIbhAXWwJErT/e7/Wreb5HTT07QVgWSAeW5g7b4n8qOSUCRPEId4HP93SXp5dDNGRJFcQTxihSH+NW1Bb1cXKpIryJAwnG/zhl8ZcSP6jiKZghwRaaWLnP/AkcSKKJIniEcUs8QfjFLdEmRvkSxB4lfn0QN6DY+lshQpHiT96Dlr6r5hxRUpHST9ZEY71X7DOmOZQVZLsd5Q8wzrPxYYJDiKNqOBG1ZCkZKzrNXu6lHvkjChSFqQsdTPg45ApXtYaUXKr9TNuPcvqO2pVMkitFXAL2a79/qr3HQvVSTXUtofCl79RDXh5CDpw3pwu6+9kRlvtiI5VtPhmHLltT4EKVQkfb8pcOHrXqk6nBAksUjgpKtuYsskaxGKYT0+84uYgziE4YQgMdx0m8PRfis2MbL33PMXoVjD6PEunI4HSjDjStiJP08vQk9hZzQ7oH/geoLYCUBDW4rf4FqCDFt7THUO6B+4jiDn2XNTW7zf4hqCMND4BOsGyw+yAmh0x+QeFh7EeqD5Ce8nLDrI8NpbDyIWHIQNruo4GyAPlhrEzuixBxHLDDJMnfYgYolBricHNfjIdgMWF+Qyu+pkgX4HCwuymL57ELGkIHZG7z2IWE6Q5VV7vGMhQewbtMcZiwhyHj26ne9+xs8PcvDQHnFFqCD7Au0RW4TK+fOKqw4eoOcqYqgU53HR3/5uShFPCfKey9hFDyJO/vAi7RDZnp7X5igyUH72xSDW1E2Pn4tMRCQgR8vLwbgii4gcmLvqQcSPGtIPX3M08wn6I4qYQ94cM/Yw9Xxhmw+X/59wHrtMlX1AmIkzdyaaAnLg1Nnw8WGYSk40X/BOh4+El6LMSBnN2Cd0tPq4w/LJXGrMbCX06PZ2dcM65yzlNertShSHf3SzRAyPM332IcSAHUKPi8EHmXU0l8Uglmni0yipDoi16s+jJKejhywLooz68yiMEcHr2qM4h81CJ++VPJfTu5UwBpv4Pp9DJSi6MJx0bvUwiw4ewgT8zNR0LHUL+OccOpY/3ElzyGKD5pBlMJpDlsOkMythRoNbXh95PJsdA67MrMtAEYbjeDqNo+7oKqWUUkoppZRSSimllFJKFfMXp4vmSjB8n6sAAAAASUVORK5CYII="),VA.IMAGE}dispose(){super.dispose(),this.started=!1,delete this._audio}ready(){super.ready(),this._audio=new Audio,this._audio.addEventListener("canplay",()=>{this.started&&this._audio.play()});var{src:t="",loop:e=!1,started:r=!1}=this.state;this.onchangeSrc(t),this.onchangeLoop(e),this.onchangeStarted(r)}render(t){var{left:e,top:r,width:n,height:i,src:o}=this.model;t.beginPath(),t.drawImage(VA.image,e,r,n,i)}get nature(){return XA}get hasTextProperty(){return!1}get src(){return this.get("src")}set src(t){this.set("src",t)}get started(){return!!this.get("started")}set started(t){this.set("started",t)}start(){this._audio&&(this._audio.classList.add("active"),this._audio.play())}pause(){this._audio&&(this._audio.classList.remove("active"),this._audio.pause())}onchangeSrc(t){try{"data"!==String(t).substring(0,4)?this._audio.crossOrigin="use-credentials":this._audio.crossOrigin=null,this._audio.src="string"==typeof t?this.app.url(t):t}catch(t){return void console.error(t)}}onchangeStarted(t){const e=this._audio;t?4==e.readyState&&e.play():e.pause()}onchangeLoop(t){this._audio.loop=t}onchange(t,e){"src"in t&&this.onchangeSrc(t.src),"started"in t&&this.onchangeStarted(t.started),"loop"in t&&this.onchangeLoop(t.loop)}ondblclick(t){this.started=!this.started}ondropfile(t,e){for(let r=0;r<t.length;r++)if(t[r].type.startsWith("audio/"))return void(this.src=e[r])}}Dx.register("audio",VA);class KA extends(Jx(Dx)){is3dish(){return!0}}Dx.register("text",KA);const QA={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"id-input",label:"ref",name:"ref"},{type:"select",label:"fit",name:"fit",property:{options:["both","ratio"]}}],"value-property":"ref"};class JA extends(Jx(n_)){get ref(){var t=this.getState("ref");return t&&"string"==typeof t?this.root.findById(t):null}set ref(t){this.setState("ref",t)}get refScale(){let t=this.ref.bounds,e=this.bounds,r=e.width/t.width,n=e.height/t.height;switch(this.model.fit){case"both":return{x:r,y:n};case"ratio":default:return{x:Math.min(r,n),y:Math.min(r,n)}}}draw(t){this._drawing||(this._drawing=!0,super.draw(t),this._drawing=!1)}prerender(t){if(super.prerender(t),this.ref){let e=this.ref.center,r=this.center,n=this.refScale;t.translate(r.x,r.y),t.scale(n.x,n.y),t.translate(-e.x,-e.y)}}postrender(t){if(this.ref)return this.ref.postrender(t);super.postrender(t)}render(t){if(this.ref)return this.ref.render(t);var{round:e=0}=this.model,{left:r,top:n,width:i,height:o}=this.bounds;t.beginPath(),t.rect(r,n,i,o)}get nature(){return QA}get hasTextProperty(){return!1}}Dx.memoize(JA.prototype,"ref",!1),Dx.memoize(JA.prototype,"refScale",!1),Dx.register("local-ref",JA);class ZA extends(I_(e_)){render(t){}get layout(){return zx.get(this.get("layout"))||Qx}}const $A={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"board-selector",label:"scene-number",name:"ref",placeholder:"SCENE-1"},{type:"select",label:"fit",name:"fit",property:{options:["both","ratio"]}},{type:"select",label:"mode",name:"mode",property:{options:["view","interaction"]}}],"value-property":"ref"};class tS extends ZA{dispose(){this._releaseRef(),super.dispose()}get nature(){return $A}get hasTextProperty(){return!1}get tagName(){return"div"}setElementProperties(t){var{mode:e="view"}=this.state;t.style.pointerEvents="view"==e?"none":"inherit"}ready(){super.ready(),this.fetchRef()}reposition(){if(!this.element)return;super.reposition();let t=this._element_bounds,{offsetWidth:e,offsetHeight:r}=this.element;if(this._element_bounds={offsetWidth:e,offsetHeight:r},(!t||t.offsetWidth!=e||t.offsetHeight!=r)&&this.ref&&this.root.target_element){let{fit:t="ratio"}=this.state;this.ref.fit(t)}}async fetchRef(){this._releaseRef();var{ref:t,fit:e="ratio"}=this.state;if(t){var r=this.app.refProvider;if(r&&t)try{this.__ref=await r.get(t,!0),this.__ref.target=this.element,this.__ref.fit(e)}catch(t){Bb(t)}}}get ref(){return this.__ref}set ref(t){this.setState("ref",t)}_releaseRef(){this.__ref&&this.__ref.release&&this.__ref.release(),delete this.__ref}onchange(t,e,r){super.onchange(t,e,r),"ref"in t&&this.fetchRef(),"fit"in t&&this.ref&&requestAnimationFrame(()=>{let{fit:t}=this.state;this.ref.fit(t)})}}Dx.register("global-ref",tS);class eS extends Dx{render(t){var{path:e=[]}=this.model;if(!(e.length<=1)){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(let r=1;r<e.length;r++)t.lineTo(e[r].x,e[r].y);t.closePath(),this.drawStroke(t)}}get path(){return this.model.path}set path(t){this.set("path",t)}contains(t,e){var r=this.model.path,n=!1;return r.forEach((i,o)=>{let a=(o+r.length+1)%r.length,s=i.x,l=i.y,c=r[a].x,h=r[a].y;l>e!=h>e&&t<(c-s)*(e-l)/(h-l)+s&&(n=!n)}),n}}Dx.register("path",eS);class rS extends n_{render(t){var{x1:e,y1:r,x2:n,y2:i,x3:o,y3:a}=this.model;t.beginPath(),t.moveTo(e,r),t.lineTo(n,i),t.lineTo(o,a),t.closePath()}contains(t,e){var{x1:r,y1:n,x2:i,y2:o,x3:a,y3:s}=this.model,l=[r,n,i,o,a,s],c=!1;for(let r=0;r<l.length;r+=2){let n=(r+2)%l.length,i=l[r],o=l[r+1],a=l[n],s=l[n+1];o>e!=s>e&&t<(a-i)*(e-o)/(s-o)+i&&(c=!c)}return c}get mutable(){return!0}get path(){var{x1:t,y1:e,x2:r,y2:n,x3:i,y3:o}=this.model;return[{x:t,y:e},{x:r,y:n},{x:i,y:o}]}set path(t){this.set({x1:t[0].x,y1:t[0].y,x2:t[1].x,y2:t[1].y,x3:t[2].x,y3:t[2].y})}}Dx.memoize(rS.prototype,"path",!1),Dx.register("triangle",rS);const nS={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"ratio",name:"ratio",property:"ratio"}]};var iS={ondragmove:function(t,e,r){r.controls;var{cx:n,rx:i}=r.model;i=Math.abs(i);var o=(r.transcoordP2S(t.x,t.y).x-n)/i*100;o=o>=100||o<=-100?100:Math.abs(o),r.set({ratio:o})}};class oS extends FA{is3dish(){return!1}render(t){var{ratio:e=50,cx:r,cy:n,rx:i,ry:o,startAngle:a,endAngle:s,anticlockwise:l}=this.model;i=Math.abs(i),o=Math.abs(o),t.beginPath(),t.ellipse(r,n,i,o,0,a||0,s||2*Math.PI,l),t.moveTo(r+i/100*e,n),t.ellipse(r,n,i/100*e,o/100*e,0,a||0,s||2*Math.PI,!0)}contains(t,e){var{cx:r,cy:n,rx:i,ry:o,ratio:a}=this.model,s=(t-r)/(2*(i=Math.abs(i))-.5),l=(e-n)/(2*(o=Math.abs(o))-.5),c=(t-r)/(i/100*a*2-.5),h=(e-n)/(o/100*a*2-.5),u=!1;return s*s+l*l<.25&&c*c+h*h>.25&&(u=!u),u}get controls(){var{cx:t,cy:e,rx:r,ratio:n}=this.model;return[{x:t+(r=Math.abs(r))/100*n,y:e,handler:iS}]}get nature(){return nS}}Dx.memoize(oS.prototype,"controls",!1),Dx.register("donut",oS);const aS={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"ratio",name:"ratio",property:"ratio"},{type:"number",label:"wing",name:"wing",property:"wing"}]};var sS={ondragmove:function(t,e,r){r.controls;var{cy:n,ry:i}=r.model,o=(r.transcoordP2S(t.x,t.y).y-n)/i*100+100;o>=100?o=100:o<=0&&(o=0),r.set({ratio:o})}};class lS extends FA{is3dish(){return!1}render(t){var{ratio:e=30,wing:r=5,cx:n,cy:i,rx:o,ry:a,startAngle:s,endAngle:l,anticlockwise:c}=this.model;if(r<3)return;const h=1.5707963267948966;var u=2*Math.PI/r,f=o-e/100*o,d=a-e/100*a;t.save(),t.beginPath(),t.translate(n,i),t.moveTo(o*Math.cos(-h),a*Math.sin(-h)),t.lineTo((o-f)*(Math.cos(u-h)+Math.cos(0-h))/2,(a-d)*(Math.sin(u-h)+Math.sin(0-h))/2);for(var p=1;p<r;p++)t.lineTo(o*Math.cos(u*p-h),a*Math.sin(u*p-h)),t.lineTo((o-f)*(Math.cos(u*(p+1)-h)+Math.cos(u*p-h))/2,(a-d)*(Math.sin(u*(p+1)-h)+Math.sin(u*p-h))/2);t.closePath(),t.restore()}get controls(){var{cx:t,cy:e,ry:r,ratio:n}=this.model;return[{x:t,y:e-r+r*(n/100),handler:sS}]}get nature(){return aS}}Dx.memoize(lS.prototype,"controls",!1),Dx.register("star",lS);const cS={mutable:!1,resizable:!0,rotatable:!1,properties:[]};class hS extends(Jx(n_)){render(t){var{left:e,top:r,width:n,height:i}=this.bounds;t.beginPath(),t.rect(e,r,n,i)}get text(){return this.get("id")}set text(t){}get rotatable(){return!1}get nature(){return cS}}Dx.register("variable",hS);var uS=t=>class extends t{animOnValueChange(t,e=!1,r){if(t!=this._lastValue){if(e)var n=t-(Number(r)||0);else n=t-(this._lastValue||0);this._lastValue=t,this._anim_alpha=-n,this.animate({step:t=>{this._anim_alpha=n*(t-1),this.invalidate()},duration:1e3,delta:"circ",options:{x:1},ease:"out"}).start()}}dispose(){super.dispose(),delete this._value_substitutor}onchange(t,e){t.hasOwnProperty("value")&&delete this._value_substitutor}get animAlpha(){return this._anim_alpha||0}get animValue(){return(this._lastValue||0)+(this._anim_alpha||0)}defaultValueSubstitutor(){return this.getState("value")}get valueSubstitutor(){return this._value_substitutor||(this._value_substitutor=lx(this.getState("value"),this)||this.defaultValueSubstitutor),this._value_substitutor}get value(){return Number(this.valueSubstitutor())||0}set value(t){delete this._value_substitutor,this.setState("value",Number(mb(t)))}},fS=t=>class extends t{_convertDataFormat(t,e){var r;switch(e){case"json":r=JSON.parse(t);break;default:r=t}return r}isDataSource(){return!0}},dS=new WeakSet;class pS{static get residents(){return dS}constructor(t,e){this.counters={},this.references={},this.creator=t,this.disposer=e,dS.add(this)}dispose(){if(this.disposer)for(let t in this.references)this.disposer.call(null,t,this.references[t]);delete this.references,delete this.counters}get ids(){return Object.keys(this.references)}add(t,e){var r=this,n=new Promise((function(n,i){var o=r.references[t];if(o)o===e?i(Error("Reference ID and target duplicate")):e?i(Error("Reference ID duplicate")):n(o);else{function a(e){e=Pb(e,(function(){this.release=()=>r.release(this)})),r.references[t]=e,r.counters[t]=1,n(e)}if(e)a(e);else{if(!r.creator)return void i(Error("Reference id("+t+") is not allowed. Reference creator should be defined."));r.creator.call(null,t,(function(t){a(t)}),(function(t){i(t)}))}}}));return this.references[t]||(this.references[t]=n),n}async get(t,e){var r=this.references[t];if(r){if(!(r instanceof Promise)){if(!(t in this.counters))throw new Error("No Reference Count");return this.counters[t]++,r}if(e)return r=await r,this.counters[t]++,r}if(e)return await this.add(t);throw new Error("No References for "+t)}_id(t){for(let e in this.references){if(this.references[e]===t)return e}return-1}release(t){var e=this._id(t),r=this.references[e];r?(this.counters[e]--,0==this.counters[e]&&(this.disposer&&this.disposer.call(null,e,r),delete this.references[e],delete this.counters[e],Db("RELEASED",e))):Bb("No Referenced ID")}}var gS={},vS={},yS=[];function mS(t){var e="SCRIPT"==t.target.tagName?gS:vS,r=t.target.src||t.target.href;e[r]=!0,yS.forEach((t,n)=>{let{resolve:i,scripts:o,styles:a}=t;if(e==gS){let t=o.indexOf(r);t>-1&&t<o.length-1&&xS(o[t+1])}for(let t=0;t<o.length;t++)if(!gS[o[t]])return;if(a)for(let t=0;t<a.length;t++)if(!vS[a[t]])return;i(),yS[n]=null}),yS=yS.filter(t=>t)}function bS(t){var e=t.target.src,r="SCRIPT"==t.target.tagName?gS:vS;yS.forEach((n,i)=>{let{reject:o,scripts:a,styles:s}=n,l=!1;if(r===gS){for(let t=0;t<a.length;t++)if(a[t]==e){l=!0;break}}else if(s)for(let t=0;t<s.length;t++)if(s[t]==e){l=!0;break}l&&(o(t),yS[i]=null)}),yS=yS.filter(t=>t),delete r[e],document.head.removeChild(t.target)}function xS(t){gS[t]=!1;var e=document.createElement("script");e.onload=mS,e.onerror=bS,e.type="text/javascript",e.src=t,document.head.appendChild(e)}class _S{static load(t,e){return"string"==typeof t&&(t=[t]),"string"==typeof e&&(e=[e]),new Promise((function(r,n){if((!t||t instanceof Array)&&(!e||e instanceof Array)){var i,o=!0;if(e&&e.forEach(t=>{vS.hasOwnProperty(t)||function(t){vS[t]=!1;var e=document.createElement("link");e.onload=mS,e.onerror=bS,e.type="text/css",e.rel="stylesheet",e.media="screen,print",e.href=t,document.head.appendChild(e)}(t),vS[t]||(o=!1)}),t&&t.length>0&&t.forEach(t=>{gS.hasOwnProperty(t)?gS[t]||(o=!1):i=i||t}),i)xS(i);else if(o)return void r();yS.push({resolve:r,reject:n,scripts:t,styles:e})}else n("invalid sources for load")}))}}const wS="0.0.0";var AS=0,SS=performance.now(),ES=0;function MS(){return AS}requestAnimationFrame((function t(){requestAnimationFrame(t),ES++;var e=performance.now(),r=e-SS;r<1e3||(AS=Math.round(1e3*ES/r),SS=e,ES=0)}));var kS=sw;function TS(){}export{Wx as AbsoluteLayout,VA as AudioPlayer,Gx as CardLayout,Dx as Component,C_ as Container,e_ as ContainerAbstract,Zb as DEFAULT,Kb as DPPX,fS as DataSource,oS as Donut,FA as Ellipse,Ew as EventMap,MS as FPS,Qb as GESTURES,qA as GifView,tS as GlobalRef,F_ as Group,Qx as HTMLAbsoluteLayout,ZA as HTMLOverlayContainer,YA as HTMLOverlayElement,WA as ImageView,a_ as InfoWindow,Jb as KEYEVENTS,r_ as Layer,zx as Layout,LA as Line,qx as LinearHorizontalLayout,Vx as LinearVerticalLayout,JA as LocalRef,Vb as MAX_UNDO_SIZE,qb as MODE_EDIT,Xb as MODE_SHIFT,Hb as MODE_VIEW,kS as Model,$x as MoveHandle,Gb as NOTHING,eS as Path,NA as Polygon,UA as Polyline,S_ as Rect,Jx as RectPath,pS as ReferenceMap,Pw as RootContainer,x_ as Ruler,EA as Scene,_S as ScriptLoader,n_ as Shape,lS as Star,Kx as TableLayout,KA as Text,rS as Triangle,uS as ValueHolder,hS as Variable,MA as create,Db as debug,Bb as error,TS as license,Ug as polyfill,wS as version,Nb as warn};console.log("@hatiolab/things-scene@2.5.79 is loaded");
