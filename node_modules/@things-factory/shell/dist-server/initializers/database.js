"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const path = require('path');
const appRootPath = require('app-root-path').path;
const typeorm_1 = require("typeorm");
const env_1 = require("@things-factory/env");
var ormconfig;
try {
    ormconfig = require(path.resolve(appRootPath, 'ormconfig'));
}
catch (e) {
    ormconfig = require('@things-factory/shell/ormconfig');
}
exports.databaseInitializer = async () => {
    return await typeorm_1.createConnection(ormconfig).then(async (connection, ...others) => {
        env_1.logger.info('Database connection established');
    });
};
//# sourceMappingURL=database.js.map